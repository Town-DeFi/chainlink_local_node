{"level":"info","ts":1603109254.1664362,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109254.1672058,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109254.168021,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109254.1708522,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109254.4584744,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109255.5108397,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 192.168.176.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109256.6854434,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109256.6862996,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109256.6869016,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109256.6889894,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603109256.7615142,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0017991,"rows_affected":0}
{"level":"warn","ts":1603109256.762887,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603109256.7809076,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0054314,"rows_affected":0}
{"level":"debug","ts":1603109256.784453,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0018046,"rows_affected":0}
{"level":"debug","ts":1603109256.8066812,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.0166962,"rows_affected":0}
{"level":"debug","ts":1603109256.8253245,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.0148484,"rows_affected":0}
{"level":"debug","ts":1603109256.8552396,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.0260714,"rows_affected":0}
{"level":"debug","ts":1603109256.8739681,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0055904,"rows_affected":0}
{"level":"debug","ts":1603109256.8941946,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.0146471,"rows_affected":0}
{"level":"debug","ts":1603109256.9060826,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0075377,"rows_affected":0}
{"level":"debug","ts":1603109256.9229033,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0129968,"rows_affected":0}
{"level":"debug","ts":1603109256.9354067,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0077878,"rows_affected":0}
{"level":"debug","ts":1603109256.953846,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.0094788,"rows_affected":0}
{"level":"debug","ts":1603109256.9719024,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0071602,"rows_affected":0}
{"level":"debug","ts":1603109256.9838262,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0068128,"rows_affected":0}
{"level":"debug","ts":1603109257.007242,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0189584,"rows_affected":0}
{"level":"debug","ts":1603109257.0212913,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.0089955,"rows_affected":0}
{"level":"debug","ts":1603109257.0308442,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.0045842,"rows_affected":0}
{"level":"debug","ts":1603109257.0454202,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.0096951,"rows_affected":0}
{"level":"debug","ts":1603109257.0548246,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.004121,"rows_affected":0}
{"level":"debug","ts":1603109257.062588,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.004226,"rows_affected":0}
{"level":"debug","ts":1603109257.0783086,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0126511,"rows_affected":0}
{"level":"debug","ts":1603109257.087759,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.0050078,"rows_affected":0}
{"level":"debug","ts":1603109257.1014123,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0072356,"rows_affected":0}
{"level":"debug","ts":1603109257.11233,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.004716,"rows_affected":0}
{"level":"debug","ts":1603109257.1245832,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0059767,"rows_affected":0}
{"level":"debug","ts":1603109257.139683,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.0115181,"rows_affected":0}
{"level":"debug","ts":1603109257.153249,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0103808,"rows_affected":0}
{"level":"debug","ts":1603109257.1718903,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.0145093,"rows_affected":0}
{"level":"debug","ts":1603109257.1897974,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.0134948,"rows_affected":0}
{"level":"debug","ts":1603109257.1997528,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.0052636,"rows_affected":0}
{"level":"debug","ts":1603109257.21125,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0059445,"rows_affected":0}
{"level":"debug","ts":1603109257.2360663,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.021132,"rows_affected":0}
{"level":"debug","ts":1603109257.245821,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.0050878,"rows_affected":0}
{"level":"debug","ts":1603109257.254454,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0058816,"rows_affected":0}
{"level":"debug","ts":1603109257.2748883,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.0163057,"rows_affected":0}
{"level":"debug","ts":1603109257.2913864,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0118604,"rows_affected":0}
{"level":"debug","ts":1603109257.300028,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.0052801,"rows_affected":0}
{"level":"debug","ts":1603109257.308691,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.004209,"rows_affected":0}
{"level":"debug","ts":1603109257.3192368,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.006855,"rows_affected":0}
{"level":"debug","ts":1603109257.3412056,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.017223,"rows_affected":0}
{"level":"debug","ts":1603109257.3504205,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0056,"rows_affected":0}
{"level":"debug","ts":1603109257.358823,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.003973,"rows_affected":0}
{"level":"debug","ts":1603109257.3675306,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.0042926,"rows_affected":0}
{"level":"debug","ts":1603109257.382879,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0107102,"rows_affected":0}
{"level":"debug","ts":1603109257.3911412,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0037649,"rows_affected":0}
{"level":"debug","ts":1603109257.3987405,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0039288,"rows_affected":0}
{"level":"debug","ts":1603109257.414827,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.0120682,"rows_affected":0}
{"level":"debug","ts":1603109257.4226592,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0034265,"rows_affected":0}
{"level":"debug","ts":1603109257.4327466,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0054476,"rows_affected":0}
{"level":"debug","ts":1603109257.4478567,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.0098836,"rows_affected":0}
{"level":"debug","ts":1603109257.4553232,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.0038289,"rows_affected":0}
{"level":"debug","ts":1603109257.45988,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0034339,"rows_affected":1}
{"level":"debug","ts":1603109257.4621973,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009794,"rows_affected":0}
{"level":"debug","ts":1603109257.4660037,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0025318,"rows_affected":0}
{"level":"debug","ts":1603109257.4912198,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0193459,"rows_affected":0}
{"level":"debug","ts":1603109257.4989333,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0047305,"rows_affected":0}
{"level":"debug","ts":1603109257.5060034,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0043108,"rows_affected":0}
{"level":"debug","ts":1603109257.514649,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0054012,"rows_affected":0}
{"level":"debug","ts":1603109257.5286732,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0104628,"rows_affected":0}
{"level":"debug","ts":1603109257.53715,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0041068,"rows_affected":0}
{"level":"debug","ts":1603109257.5438368,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0036743,"rows_affected":0}
{"level":"debug","ts":1603109257.5526145,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.0060595,"rows_affected":0}
{"level":"debug","ts":1603109257.5560584,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.0021227,"rows_affected":0}
{"level":"debug","ts":1603109257.5584483,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006445,"rows_affected":1}
{"level":"debug","ts":1603109257.5607831,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008765,"rows_affected":0}
{"level":"debug","ts":1603109257.5890636,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.0007038,"rows_affected":0}
{"level":"debug","ts":1603109257.5978436,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004178,"rows_affected":1}
{"level":"debug","ts":1603109257.5999022,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005803,"rows_affected":0}
{"level":"debug","ts":1603109257.6016765,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0007218,"rows_affected":0}
{"level":"debug","ts":1603109257.6042724,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000905,"rows_affected":1}
{"level":"debug","ts":1603109257.6063585,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008776,"rows_affected":0}
{"level":"debug","ts":1603109257.608784,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.000963,"rows_affected":1}
{"level":"debug","ts":1603109257.6114216,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.001658,"rows_affected":1}
{"level":"debug","ts":1603109257.6146042,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012404,"rows_affected":0}
{"level":"debug","ts":1603109257.6205175,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.0045106,"rows_affected":0}
{"level":"debug","ts":1603109257.6226625,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006446,"rows_affected":1}
{"level":"debug","ts":1603109257.624757,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007572,"rows_affected":0}
{"level":"debug","ts":1603109257.6273053,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.0009818,"rows_affected":0}
{"level":"debug","ts":1603109257.6375926,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.0073892,"rows_affected":0}
{"level":"debug","ts":1603109257.6428335,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0026012,"rows_affected":0}
{"level":"debug","ts":1603109257.6448765,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.0008712,"rows_affected":0}
{"level":"debug","ts":1603109257.6465237,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005405,"rows_affected":1}
{"level":"debug","ts":1603109257.6480381,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005112,"rows_affected":0}
{"level":"debug","ts":1603109257.6633692,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.0005796,"rows_affected":0}
{"level":"debug","ts":1603109257.6720972,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007761,"rows_affected":1}
{"level":"debug","ts":1603109257.6739798,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010255,"rows_affected":0}
{"level":"debug","ts":1603109257.6869586,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0101004,"rows_affected":0}
{"level":"debug","ts":1603109257.6919353,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.0027133,"rows_affected":0}
{"level":"debug","ts":1603109257.697906,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.0036144,"rows_affected":0}
{"level":"debug","ts":1603109257.700219,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.0011998,"rows_affected":0}
{"level":"debug","ts":1603109257.7025099,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007416,"rows_affected":1}
{"level":"debug","ts":1603109257.7044637,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010457,"rows_affected":0}
{"level":"debug","ts":1603109257.7064662,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0009653,"rows_affected":0}
{"level":"debug","ts":1603109257.7087483,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009443,"rows_affected":1}
{"level":"debug","ts":1603109257.7111702,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011426,"rows_affected":0}
{"level":"debug","ts":1603109257.726496,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0124832,"rows_affected":0}
{"level":"debug","ts":1603109257.7328708,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.0033115,"rows_affected":0}
{"level":"debug","ts":1603109257.734867,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009411,"rows_affected":1}
{"level":"debug","ts":1603109257.7367375,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000912,"rows_affected":0}
{"level":"debug","ts":1603109257.7397194,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.0017945,"rows_affected":0}
{"level":"debug","ts":1603109257.7416062,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007608,"rows_affected":1}
{"level":"debug","ts":1603109257.743203,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000724,"rows_affected":0}
{"level":"debug","ts":1603109257.7445867,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.000436,"rows_affected":0}
{"level":"debug","ts":1603109257.7463555,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007779,"rows_affected":1}
{"level":"debug","ts":1603109257.7483573,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009318,"rows_affected":0}
{"level":"debug","ts":1603109257.7507293,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0009037,"rows_affected":0}
{"level":"debug","ts":1603109257.7534873,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.0016739,"rows_affected":0}
{"level":"debug","ts":1603109257.7696195,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0121488,"rows_affected":0}
{"level":"debug","ts":1603109257.7763553,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0031405,"rows_affected":0}
{"level":"debug","ts":1603109257.7783809,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007066,"rows_affected":1}
{"level":"debug","ts":1603109257.780863,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008936,"rows_affected":0}
{"level":"debug","ts":1603109257.7837996,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.0010884,"rows_affected":0}
{"level":"debug","ts":1603109257.7864623,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009791,"rows_affected":1}
{"level":"debug","ts":1603109257.7888732,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010319,"rows_affected":0}
{"level":"debug","ts":1603109257.7922645,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.0020554,"rows_affected":0}
{"level":"debug","ts":1603109257.7962286,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0026048,"rows_affected":1}
{"level":"debug","ts":1603109257.79961,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013254,"rows_affected":0}
{"level":"debug","ts":1603109257.8018496,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0006523,"rows_affected":0}
{"level":"debug","ts":1603109257.8060367,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0023099,"rows_affected":0}
{"level":"debug","ts":1603109257.8252783,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0156847,"rows_affected":0}
{"level":"debug","ts":1603109257.832649,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0040016,"rows_affected":0}
{"level":"debug","ts":1603109257.8357239,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011901,"rows_affected":1}
{"level":"debug","ts":1603109257.8421514,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0036336,"rows_affected":0}
{"level":"debug","ts":1603109257.8461335,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.0013359,"rows_affected":0}
{"level":"debug","ts":1603109257.8484027,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0008398,"rows_affected":0}
{"level":"debug","ts":1603109257.8513198,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0010726,"rows_affected":0}
{"level":"debug","ts":1603109257.8545053,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0016277,"rows_affected":0}
{"level":"debug","ts":1603109257.8644245,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0087604,"rows_affected":0}
{"level":"debug","ts":1603109257.8699725,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.003056,"rows_affected":0}
{"level":"debug","ts":1603109257.8736553,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0021712,"rows_affected":0}
{"level":"debug","ts":1603109257.8774512,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0022131,"rows_affected":0}
{"level":"debug","ts":1603109257.881629,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.001954,"rows_affected":0}
{"level":"debug","ts":1603109257.8841274,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.0009082,"rows_affected":0}
{"level":"debug","ts":1603109257.8905303,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0049595,"rows_affected":0}
{"level":"debug","ts":1603109257.8935535,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0016989,"rows_affected":0}
{"level":"debug","ts":1603109257.8987,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0040661,"rows_affected":0}
{"level":"debug","ts":1603109257.9005046,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005311,"rows_affected":1}
{"level":"debug","ts":1603109257.901841,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005005,"rows_affected":0}
{"level":"debug","ts":1603109257.9039407,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.0010711,"rows_affected":0}
{"level":"debug","ts":1603109257.916693,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.0097908,"rows_affected":0}
{"level":"debug","ts":1603109257.9189596,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007128,"rows_affected":1}
{"level":"debug","ts":1603109257.9209409,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008681,"rows_affected":0}
{"level":"debug","ts":1603109257.965715,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0006727,"rows_affected":0}
{"level":"debug","ts":1603109257.9830444,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007053,"rows_affected":1}
{"level":"debug","ts":1603109257.9862905,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0015408,"rows_affected":0}
{"level":"debug","ts":1603109257.9889016,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.0013327,"rows_affected":0}
{"level":"debug","ts":1603109257.9905121,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005452,"rows_affected":1}
{"level":"debug","ts":1603109257.9919946,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005203,"rows_affected":0}
{"level":"debug","ts":1603109257.9941201,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.0007945,"rows_affected":0}
{"level":"debug","ts":1603109257.996981,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007246,"rows_affected":1}
{"level":"debug","ts":1603109257.9997215,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009486,"rows_affected":0}
{"level":"debug","ts":1603109258.0016203,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.000624,"rows_affected":0}
{"level":"debug","ts":1603109258.0038764,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0012068,"rows_affected":0}
{"level":"debug","ts":1603109258.017887,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0112473,"rows_affected":0}
{"level":"debug","ts":1603109258.0253813,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0048574,"rows_affected":0}
{"level":"debug","ts":1603109258.0274458,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009561,"rows_affected":1}
{"level":"debug","ts":1603109258.029716,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011166,"rows_affected":0}
{"level":"debug","ts":1603109258.055231,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.0008011,"rows_affected":0}
{"level":"debug","ts":1603109258.0597768,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009474,"rows_affected":1}
{"level":"debug","ts":1603109258.0629961,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012022,"rows_affected":0}
{"level":"debug","ts":1603109258.0958738,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004451,"rows_affected":1}
{"level":"debug","ts":1603109258.0975318,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005559,"rows_affected":0}
{"level":"debug","ts":1603109258.1047266,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.0061648,"rows_affected":0}
{"level":"debug","ts":1603109258.10683,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008505,"rows_affected":1}
{"level":"debug","ts":1603109258.1091352,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011582,"rows_affected":0}
{"level":"debug","ts":1603109258.1113882,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0010548,"rows_affected":0}
{"level":"debug","ts":1603109258.1134138,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007672,"rows_affected":1}
{"level":"debug","ts":1603109258.1154377,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009947,"rows_affected":0}
{"level":"debug","ts":1603109258.1178699,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0008057,"rows_affected":0}
{"level":"debug","ts":1603109258.1200202,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010179,"rows_affected":1}
{"level":"debug","ts":1603109258.1222613,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011931,"rows_affected":0}
{"level":"debug","ts":1603109258.1249137,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0007168,"rows_affected":0}
{"level":"debug","ts":1603109258.1272538,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008857,"rows_affected":1}
{"level":"debug","ts":1603109258.1295598,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012111,"rows_affected":0}
{"level":"debug","ts":1603109258.131706,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.0010633,"rows_affected":0}
{"level":"debug","ts":1603109258.133891,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0010027,"rows_affected":0}
{"level":"debug","ts":1603109258.1361349,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.0005753,"rows_affected":0}
{"level":"debug","ts":1603109258.1376555,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005055,"rows_affected":1}
{"level":"debug","ts":1603109258.1395748,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006128,"rows_affected":0}
{"level":"debug","ts":1603109258.1514885,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.0091149,"rows_affected":0}
{"level":"debug","ts":1603109258.1532357,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006952,"rows_affected":1}
{"level":"debug","ts":1603109258.1551933,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009355,"rows_affected":0}
{"level":"debug","ts":1603109258.2153845,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.0588938,"rows_affected":0}
{"level":"debug","ts":1603109258.2187335,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.00098,"rows_affected":1}
{"level":"debug","ts":1603109258.2207515,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007235,"rows_affected":0}
{"level":"debug","ts":1603109258.226889,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.0045251,"rows_affected":0}
{"level":"debug","ts":1603109258.2304838,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.002455,"rows_affected":0}
{"level":"debug","ts":1603109258.2350037,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0031818,"rows_affected":0}
{"level":"debug","ts":1603109258.2387357,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.002599,"rows_affected":0}
{"level":"debug","ts":1603109258.2498052,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.0098128,"rows_affected":0}
{"level":"debug","ts":1603109258.252585,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009828,"rows_affected":1}
{"level":"debug","ts":1603109258.2555132,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013462,"rows_affected":0}
{"level":"debug","ts":1603109258.273559,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0169145,"rows_affected":0}
{"level":"debug","ts":1603109258.3016644,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0270606,"rows_affected":0}
{"level":"debug","ts":1603109258.3057866,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0014858,"rows_affected":0}
{"level":"debug","ts":1603109258.3094027,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.0009008,"rows_affected":0}
{"level":"debug","ts":1603109258.321864,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0102926,"rows_affected":0}
{"level":"debug","ts":1603109258.327749,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013226,"rows_affected":1}
{"level":"debug","ts":1603109258.3308818,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010059,"rows_affected":0}
{"level":"debug","ts":1603109258.3588681,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.0263474,"rows_affected":0}
{"level":"debug","ts":1603109258.3609157,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007338,"rows_affected":1}
{"level":"debug","ts":1603109258.362997,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007942,"rows_affected":0}
{"level":"debug","ts":1603109258.665775,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.3014396,"rows_affected":0}
{"level":"debug","ts":1603109258.6692092,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0014974,"rows_affected":1}
{"level":"debug","ts":1603109258.6732247,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0014313,"rows_affected":0}
{"level":"debug","ts":1603109258.6787314,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.0045028,"rows_affected":0}
{"level":"debug","ts":1603109258.6813877,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007794,"rows_affected":1}
{"level":"debug","ts":1603109258.6834054,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008129,"rows_affected":0}
{"level":"debug","ts":1603109258.743579,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.058895,"rows_affected":0}
{"level":"debug","ts":1603109258.7467563,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0015644,"rows_affected":1}
{"level":"debug","ts":1603109258.7496822,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013088,"rows_affected":0}
{"level":"debug","ts":1603109258.7654479,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.0141805,"rows_affected":0}
{"level":"debug","ts":1603109258.7676501,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010616,"rows_affected":1}
{"level":"debug","ts":1603109258.7705095,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0016106,"rows_affected":0}
{"level":"debug","ts":1603109258.7725952,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0008184,"rows_affected":0}
{"level":"debug","ts":1603109258.774373,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009502,"rows_affected":1}
{"level":"debug","ts":1603109258.777325,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0015019,"rows_affected":0}
{"level":"debug","ts":1603109258.7796752,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.0011179,"rows_affected":0}
{"level":"debug","ts":1603109258.78162,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008848,"rows_affected":1}
{"level":"debug","ts":1603109258.7836533,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010425,"rows_affected":0}
{"level":"debug","ts":1603109258.801215,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.0164657,"rows_affected":0}
{"level":"debug","ts":1603109258.8058457,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006674,"rows_affected":1}
{"level":"debug","ts":1603109258.80777,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008975,"rows_affected":0}
{"level":"debug","ts":1603109258.8098245,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.000905,"rows_affected":0}
{"level":"debug","ts":1603109258.8113754,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005908,"rows_affected":1}
{"level":"debug","ts":1603109258.812774,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005938,"rows_affected":0}
{"level":"debug","ts":1603109258.8188996,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.0052654,"rows_affected":0}
{"level":"debug","ts":1603109258.820479,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008164,"rows_affected":1}
{"level":"debug","ts":1603109258.8241477,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.001565,"rows_affected":0}
{"level":"debug","ts":1603109258.8306487,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.0043269,"rows_affected":0}
{"level":"debug","ts":1603109258.8346589,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012468,"rows_affected":1}
{"level":"debug","ts":1603109258.8389585,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000988,"rows_affected":0}
{"level":"debug","ts":1603109258.9729111,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.1308656,"rows_affected":0}
{"level":"debug","ts":1603109258.9792295,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0044472,"rows_affected":1}
{"level":"debug","ts":1603109258.9822052,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011766,"rows_affected":0}
{"level":"debug","ts":1603109258.9906151,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.0071246,"rows_affected":0}
{"level":"debug","ts":1603109258.9931817,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.001177,"rows_affected":1}
{"level":"debug","ts":1603109258.9953315,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010338,"rows_affected":0}
{"level":"debug","ts":1603109259.02104,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0244949,"rows_affected":0}
{"level":"debug","ts":1603109259.0228243,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006964,"rows_affected":1}
{"level":"debug","ts":1603109259.0244112,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008062,"rows_affected":0}
{"level":"debug","ts":1603109259.2125604,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.1873786,"rows_affected":0}
{"level":"debug","ts":1603109259.214297,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005932,"rows_affected":1}
{"level":"debug","ts":1603109259.2156932,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005759,"rows_affected":0}
{"level":"debug","ts":1603109259.219959,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.0034511,"rows_affected":0}
{"level":"debug","ts":1603109259.2217555,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005987,"rows_affected":1}
{"level":"debug","ts":1603109259.2231562,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007778,"rows_affected":0}
{"level":"debug","ts":1603109259.233551,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.0094271,"rows_affected":0}
{"level":"debug","ts":1603109259.2355247,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009201,"rows_affected":1}
{"level":"debug","ts":1603109259.2374964,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000879,"rows_affected":0}
{"level":"debug","ts":1603109259.298956,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0603781,"rows_affected":0}
{"level":"debug","ts":1603109259.3039253,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009865,"rows_affected":1}
{"level":"debug","ts":1603109259.3269768,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0043865,"rows_affected":0}
{"level":"debug","ts":1603109259.358899,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.0295534,"rows_affected":0}
{"level":"debug","ts":1603109259.3615808,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010816,"rows_affected":1}
{"level":"debug","ts":1603109259.3644676,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010243,"rows_affected":0}
{"level":"debug","ts":1603109259.3744442,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.0090152,"rows_affected":0}
{"level":"debug","ts":1603109259.376524,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008421,"rows_affected":1}
{"level":"debug","ts":1603109259.3782964,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008245,"rows_affected":0}
{"level":"debug","ts":1603109259.401284,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.0219708,"rows_affected":0}
{"level":"debug","ts":1603109259.403711,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.001173,"rows_affected":1}
{"level":"debug","ts":1603109259.4060285,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013364,"rows_affected":0}
{"level":"debug","ts":1603109259.416383,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.0095664,"rows_affected":0}
{"level":"debug","ts":1603109259.418798,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011295,"rows_affected":1}
{"level":"debug","ts":1603109259.4209805,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009874,"rows_affected":0}
{"level":"debug","ts":1603109259.4229836,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.000579,"rows_affected":0}
{"level":"debug","ts":1603109259.42476,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008314,"rows_affected":1}
{"level":"debug","ts":1603109259.427003,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012339,"rows_affected":0}
{"level":"debug","ts":1603109259.42969,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.0012334,"rows_affected":0}
{"level":"debug","ts":1603109259.433463,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0023911,"rows_affected":1}
{"level":"debug","ts":1603109259.4358907,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011626,"rows_affected":0}
{"level":"debug","ts":1603109259.4557335,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.0181432,"rows_affected":0}
{"level":"debug","ts":1603109259.4583998,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010798,"rows_affected":1}
{"level":"debug","ts":1603109259.461669,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0017039,"rows_affected":0}
{"level":"debug","ts":1603109259.463903,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0011478,"rows_affected":0}
{"level":"debug","ts":1603109259.4655669,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006806,"rows_affected":1}
{"level":"debug","ts":1603109259.4674554,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008416,"rows_affected":0}
{"level":"debug","ts":1603109259.5079374,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.0392237,"rows_affected":0}
{"level":"debug","ts":1603109259.5118082,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0022759,"rows_affected":1}
{"level":"info","ts":1603109262.360903,"caller":"store/key_store.go:73","msg":"Unlocked account 0xB78aa6C88e0Ef6f97C950a2368dD1D0Dc6208F5B","address":"0xB78aa6C88e0Ef6f97C950a2368dD1D0Dc6208F5B"}
{"level":"debug","ts":1603109262.3652923,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603109262.4433389,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603109262.4446225,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603109262.464894,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603109262.4701447,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603109262.4721665,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603109262.4732943,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603109262.476979,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0xB78aa6C88e0Ef6f97C950a2368dD1D0Dc6208F5B\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603109262.481981,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603109262.4829705,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603109262.4838824,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109262.484768,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109262.4855812,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603109262.4864068,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603109262.4874191,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603109262.4882998,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603109262.4890487,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109262.4897976,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109262.490892,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109262.4916997,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109262.4925244,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109262.493336,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109262.4942803,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109262.4951746,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109262.4959652,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109262.4972143,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109262.4984765,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603109262.4996219,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109262.500734,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109262.5018275,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109262.5029001,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109262.5039937,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109262.5049157,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603109262.5061026,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109262.50719,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109262.5088513,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109262.5096865,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603109262.5109277,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109262.5119128,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109262.5128627,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109262.5139236,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603109262.5135744,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603109262.5148444,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109262.5166454,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109262.5226119,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603109262.5235646,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0xB78aa6C88e0Ef6f97C950a2368dD1D0Dc6208F5B"}
{"level":"info","ts":1603109262.530809,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"debug","ts":1603109262.5384235,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xB78aa6C88e0Ef6f97C950a2368dD1D0Dc6208F5B","blockNumber":"<nil>"}
{"level":"info","ts":1603109262.542427,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0xB78aa6C88e0Ef6f97C950a2368dD1D0Dc6208F5B: 0.000000000000000000","address":"0xB78aa6C88e0Ef6f97C950a2368dD1D0Dc6208F5B","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"info","ts":1603109262.544766,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"debug","ts":1603109314.9282498,"caller":"services/head_tracker.go:277","msg":"Received new head #1 (0x1)","blockHeight":"1","blockHash":"0x88ee270591a341d6daad34ab00f724a5587ac3020daeb5b275c09fac03c844d2"}
{"level":"debug","ts":1603109314.9388375,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":0}
{"level":"debug","ts":1603109314.9397695,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"0"}
{"level":"debug","ts":1603109314.9624605,"caller":"services/head_tracker.go:386","msg":"HeadTracker: finished backfill","fetched":1,"blockNumber":0,"time":0.0244759,"id":"head_tracker","n":0,"fromBlockHeight":0,"toBlockHeight":-1}
{"level":"debug","ts":1603109314.9658456,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":1,"chainLength":2,"numCallbacks":6}
{"level":"warn","ts":1603109314.966785,"caller":"services/gas_updater.go:89","msg":"GasUpdater: skipping gas calculation, current block height 1 is lower than GAS_UPDATER_BLOCK_DELAY of 3"}
{"level":"debug","ts":1603109314.9678354,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 1.0585ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":1,"time":0.0010585,"id":"head_tracker"}
{"level":"debug","ts":1603109314.9685922,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 33.3µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":1,"time":0.0000333,"id":"head_tracker"}
{"level":"debug","ts":1603109314.9695587,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 32µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":1,"time":0.000032,"id":"head_tracker"}
{"level":"debug","ts":1603109314.970676,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 6.5µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":1,"time":0.0000065,"id":"head_tracker"}
{"level":"debug","ts":1603109314.9848902,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xB78aa6C88e0Ef6f97C950a2368dD1D0Dc6208F5B","blockNumber":"0"}
{"level":"debug","ts":1603109314.9963186,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 24.0713ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":1,"time":0.0240713,"id":"head_tracker"}
{"level":"debug","ts":1603109314.9972255,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.3µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":1,"time":0.0000063,"id":"head_tracker"}
{"level":"debug","ts":1603109314.9981525,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 1 in 69.8506ms","blockNumber":1,"time":0.0698506,"id":"head_tracker"}
{"level":"debug","ts":1603109315.2698414,"caller":"services/head_tracker.go:277","msg":"Received new head #2 (0x2)","blockHeight":"2","blockHash":"0x72362ddb139805336ea13e5f3c72c01ca1bcce74b7a36ef96b3967e4f65f65e6"}
{"level":"debug","ts":1603109315.2760713,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":2,"chainLength":3,"numCallbacks":6}
{"level":"warn","ts":1603109315.277006,"caller":"services/gas_updater.go:89","msg":"GasUpdater: skipping gas calculation, current block height 2 is lower than GAS_UPDATER_BLOCK_DELAY of 3"}
{"level":"debug","ts":1603109315.2778285,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 835.9µs","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":2,"time":0.0008359,"id":"head_tracker"}
{"level":"debug","ts":1603109315.2784967,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 12.2µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":2,"time":0.0000122,"id":"head_tracker"}
{"level":"debug","ts":1603109315.279372,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 14.4µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":2,"time":0.0000144,"id":"head_tracker"}
{"level":"debug","ts":1603109315.2804782,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":2,"time":0.000007,"id":"head_tracker"}
{"level":"debug","ts":1603109315.2842565,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xB78aa6C88e0Ef6f97C950a2368dD1D0Dc6208F5B","blockNumber":"1"}
{"level":"info","ts":1603109315.2884865,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.176.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:08:35","latency":"4.6384ms"}
{"level":"debug","ts":1603109315.3035676,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 21.1975ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":2,"time":0.0211975,"id":"head_tracker"}
{"level":"debug","ts":1603109315.305923,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 9.2µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":2,"time":0.0000092,"id":"head_tracker"}
{"level":"debug","ts":1603109315.3081532,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 2 in 38.2929ms","blockNumber":2,"time":0.0382929,"id":"head_tracker"}
{"level":"info","ts":1603109320.311222,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.176.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:08:40","latency":"3.6829ms"}
{"level":"info","ts":1603109325.3324745,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.176.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:08:45","latency":"2.4437ms"}
{"level":"debug","ts":1603109419.017494,"caller":"services/head_tracker.go:277","msg":"Received new head #3 (0x3)","blockHeight":"3","blockHash":"0x4e7acb2e4224f1cb57c502023938cda82a0df1b8c3cc184cfd4393d0542dcd25"}
{"level":"debug","ts":1603109419.0262218,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":3,"chainLength":4,"numCallbacks":6}
{"level":"debug","ts":1603109419.0272105,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"0"}
{"level":"debug","ts":1603109419.0546882,"caller":"services/gas_updater.go:112","msg":"GasUpdater: skipping empty block: 0","blockNumber":0}
{"level":"debug","ts":1603109419.0556219,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 28.3376ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":3,"time":0.0283376,"id":"head_tracker"}
{"level":"debug","ts":1603109419.0565836,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 24.2µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":3,"time":0.0000242,"id":"head_tracker"}
{"level":"debug","ts":1603109419.0573673,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 50.2µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":3,"time":0.0000502,"id":"head_tracker"}
{"level":"debug","ts":1603109419.0588074,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 21.3µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":3,"time":0.0000213,"id":"head_tracker"}
{"level":"debug","ts":1603109419.0618808,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xB78aa6C88e0Ef6f97C950a2368dD1D0Dc6208F5B","blockNumber":"2"}
{"level":"debug","ts":1603109419.0787442,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 18.5242ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":3,"time":0.0185242,"id":"head_tracker"}
{"level":"debug","ts":1603109419.0801084,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 5.7µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":3,"time":0.0000057,"id":"head_tracker"}
{"level":"debug","ts":1603109419.0813012,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 3 in 63.8169ms","blockNumber":3,"time":0.0638169,"id":"head_tracker"}
{"level":"debug","ts":1603109419.380523,"caller":"services/head_tracker.go:277","msg":"Received new head #4 (0x4)","blockHeight":"4","blockHash":"0x2c6e230628f4032a8b4f1d5bed577757641054c6b6964aa245a7bc5ce482615b"}
{"level":"debug","ts":1603109419.3865302,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":4,"chainLength":5,"numCallbacks":6}
{"level":"debug","ts":1603109419.3880525,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"1"}
{"level":"info","ts":1603109419.3926141,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.176.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:10:19","latency":"1.5896ms"}
{"level":"debug","ts":1603109419.4154866,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 1/24","inHistory":1,"required":24}
{"level":"debug","ts":1603109419.4163172,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 28.3068ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":4,"time":0.0283068,"id":"head_tracker"}
{"level":"debug","ts":1603109419.4173849,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 19µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":4,"time":0.000019,"id":"head_tracker"}
{"level":"debug","ts":1603109419.418172,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 13.8µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":4,"time":0.0000138,"id":"head_tracker"}
{"level":"debug","ts":1603109419.4190555,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 6.7µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":4,"time":0.0000067,"id":"head_tracker"}
{"level":"debug","ts":1603109419.423515,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xB78aa6C88e0Ef6f97C950a2368dD1D0Dc6208F5B","blockNumber":"3"}
{"level":"debug","ts":1603109419.4325554,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 11.3034ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":4,"time":0.0113034,"id":"head_tracker"}
{"level":"debug","ts":1603109419.4332116,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.2µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":4,"time":0.0000062,"id":"head_tracker"}
{"level":"debug","ts":1603109419.4338923,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 4 in 53.3547ms","blockNumber":4,"time":0.0533547,"id":"head_tracker"}
{"level":"error","ts":1603109440.245507,"caller":"services/head_tracker.go:198","msg":"Error in new head subscription, unsubscribed: websocket: close 1006 (abnormal closure): unexpected EOF","err":"websocket: close 1006 (abnormal closure): unexpected EOF","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Errorw\n\t/chainlink/core/logger/logger.go:133\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:198"}
{"level":"info","ts":1603109440.2471554,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603109440.248127,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"warn","ts":1603109440.254371,"caller":"services/head_tracker.go:224","msg":"Failed to connect to ethereum node ws://ethnode:8545","err":"EthClient#SubscribeNewHead: dial tcp 192.168.176.2:8545: connect: connection refused","errVerbose":"dial tcp 192.168.176.2:8545: connect: connection refused\nEthClient#SubscribeNewHead\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribeToHead\n\t/chainlink/core/services/head_tracker.go:485\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribe\n\t/chainlink/core/services/head_tracker.go:222\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:194\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373"}
{"level":"info","ts":1603109440.2565937,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 1s"}
{"level":"info","ts":1603109440.2705188,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"info","ts":1603109440.272053,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"error","ts":1603109440.2740602,"caller":"logger/logger.go:247","msg":"unable to lock ORM: postgres advisory locking strategy failed on .Lock, timeout set to 500ms: driver: bad connection, lock ID: 1027321974924625846: can't acquire advisory lock","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).RawDB\n\t/chainlink/core/store/orm/orm.go:1467\ngithub.com/smartcontractkit/chainlink/core/services/synchronization.(*statsPusher).Close\n\t/chainlink/core/services/synchronization/stats_pusher.go:123\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop.func1\n\t/chainlink/core/services/chainlink/application.go:209\nsync.(*Once).doSlow\n\t/usr/local/go/src/sync/once.go:66\nsync.(*Once).Do\n\t/usr/local/go/src/sync/once.go:57\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop\n\t/chainlink/core/services/chainlink/application.go:191\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"error","ts":1603109440.2760901,"caller":"chainlink/application.go:158","msg":"write tcp 192.168.176.3:53880->192.168.176.4:5432: write: broken pipe","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.ErrorIf\n\t/chainlink/core/logger/logger.go:209\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"info","ts":1603109451.6490319,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109451.651069,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109451.65201,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109451.654083,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109451.660851,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109451.6687703,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109453.118123,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109453.1194923,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109453.1203845,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109453.1226149,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109453.126239,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 192.168.192.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109453.1294162,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 192.168.192.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109454.3180678,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109454.3203127,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109454.3217802,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109454.3269782,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109454.3406267,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 192.168.192.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109454.3466651,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 192.168.192.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109455.6682858,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109455.6694028,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109455.6706026,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109455.6744244,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603109455.728584,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0012067,"rows_affected":0}
{"level":"warn","ts":1603109455.7297723,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603109455.7496777,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0087517,"rows_affected":0}
{"level":"debug","ts":1603109455.7531047,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012971,"rows_affected":0}
{"level":"debug","ts":1603109455.7708223,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.0127573,"rows_affected":0}
{"level":"debug","ts":1603109455.79683,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.0213151,"rows_affected":0}
{"level":"debug","ts":1603109455.8268435,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.0223251,"rows_affected":0}
{"level":"debug","ts":1603109455.844625,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0063313,"rows_affected":0}
{"level":"debug","ts":1603109455.8673675,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.0149646,"rows_affected":0}
{"level":"debug","ts":1603109455.8774736,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0047237,"rows_affected":0}
{"level":"debug","ts":1603109455.8905923,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.009181,"rows_affected":0}
{"level":"debug","ts":1603109455.89839,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0048084,"rows_affected":0}
{"level":"debug","ts":1603109455.9078493,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.005547,"rows_affected":0}
{"level":"debug","ts":1603109455.9147785,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0041659,"rows_affected":0}
{"level":"debug","ts":1603109455.925013,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0054456,"rows_affected":0}
{"level":"debug","ts":1603109455.950138,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0190608,"rows_affected":0}
{"level":"debug","ts":1603109455.95926,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.0050909,"rows_affected":0}
{"level":"debug","ts":1603109455.968701,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.0056291,"rows_affected":0}
{"level":"debug","ts":1603109455.9775767,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.00529,"rows_affected":0}
{"level":"debug","ts":1603109455.9862363,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.005014,"rows_affected":0}
{"level":"debug","ts":1603109455.9937232,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.00437,"rows_affected":0}
{"level":"debug","ts":1603109456.0125682,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0150024,"rows_affected":0}
{"level":"debug","ts":1603109456.0227115,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.0055449,"rows_affected":0}
{"level":"debug","ts":1603109456.0324664,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0044423,"rows_affected":0}
{"level":"debug","ts":1603109456.0414467,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.0046008,"rows_affected":0}
{"level":"debug","ts":1603109456.050303,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0045342,"rows_affected":0}
{"level":"debug","ts":1603109456.0641348,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.0104361,"rows_affected":0}
{"level":"debug","ts":1603109456.0855024,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0170702,"rows_affected":0}
{"level":"debug","ts":1603109456.103939,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.0145924,"rows_affected":0}
{"level":"debug","ts":1603109456.1223288,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.0112921,"rows_affected":0}
{"level":"debug","ts":1603109456.132327,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.0041435,"rows_affected":0}
{"level":"debug","ts":1603109456.141699,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0042883,"rows_affected":0}
{"level":"debug","ts":1603109456.1527598,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0068081,"rows_affected":0}
{"level":"debug","ts":1603109456.1609013,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.0040422,"rows_affected":0}
{"level":"debug","ts":1603109456.1697583,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0043315,"rows_affected":0}
{"level":"debug","ts":1603109456.1846862,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.0100447,"rows_affected":0}
{"level":"debug","ts":1603109456.1991363,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0108475,"rows_affected":0}
{"level":"debug","ts":1603109456.2081575,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.0045573,"rows_affected":0}
{"level":"debug","ts":1603109456.2192855,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.0063699,"rows_affected":0}
{"level":"debug","ts":1603109456.2294803,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.0046822,"rows_affected":0}
{"level":"debug","ts":1603109456.2478766,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.0128433,"rows_affected":0}
{"level":"debug","ts":1603109456.257128,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.0042958,"rows_affected":0}
{"level":"debug","ts":1603109456.2653503,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0038297,"rows_affected":0}
{"level":"debug","ts":1603109456.273987,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.0037137,"rows_affected":0}
{"level":"debug","ts":1603109456.2935653,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0158182,"rows_affected":0}
{"level":"debug","ts":1603109456.3024745,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0036795,"rows_affected":0}
{"level":"debug","ts":1603109456.3109288,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0041999,"rows_affected":0}
{"level":"debug","ts":1603109456.3269236,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.011182,"rows_affected":0}
{"level":"debug","ts":1603109456.3350468,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0038676,"rows_affected":0}
{"level":"debug","ts":1603109456.3423831,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0026013,"rows_affected":0}
{"level":"debug","ts":1603109456.357923,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.0104928,"rows_affected":0}
{"level":"debug","ts":1603109456.3656874,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.0037917,"rows_affected":0}
{"level":"debug","ts":1603109456.3680885,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012163,"rows_affected":1}
{"level":"debug","ts":1603109456.3713892,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012599,"rows_affected":0}
{"level":"debug","ts":1603109456.3757348,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0024025,"rows_affected":0}
{"level":"debug","ts":1603109456.3983436,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0176135,"rows_affected":0}
{"level":"debug","ts":1603109456.4069166,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0030802,"rows_affected":0}
{"level":"debug","ts":1603109456.415366,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0044659,"rows_affected":0}
{"level":"debug","ts":1603109456.4232552,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0038718,"rows_affected":0}
{"level":"debug","ts":1603109456.437837,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0106466,"rows_affected":0}
{"level":"debug","ts":1603109456.4481075,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0047335,"rows_affected":0}
{"level":"debug","ts":1603109456.4551315,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0027994,"rows_affected":0}
{"level":"debug","ts":1603109456.4619973,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.0035656,"rows_affected":0}
{"level":"debug","ts":1603109456.466304,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.0028202,"rows_affected":0}
{"level":"debug","ts":1603109456.470549,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011917,"rows_affected":1}
{"level":"debug","ts":1603109456.4728935,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007943,"rows_affected":0}
{"level":"debug","ts":1603109456.5160809,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.0008179,"rows_affected":0}
{"level":"debug","ts":1603109456.5279255,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000759,"rows_affected":1}
{"level":"debug","ts":1603109456.5299802,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000923,"rows_affected":0}
{"level":"debug","ts":1603109456.5318208,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0009935,"rows_affected":0}
{"level":"debug","ts":1603109456.5338025,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000704,"rows_affected":1}
{"level":"debug","ts":1603109456.535091,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005785,"rows_affected":0}
{"level":"debug","ts":1603109456.5366027,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.0007013,"rows_affected":1}
{"level":"debug","ts":1603109456.5390124,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006014,"rows_affected":1}
{"level":"debug","ts":1603109456.540998,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008821,"rows_affected":0}
{"level":"debug","ts":1603109456.5436873,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.0016761,"rows_affected":0}
{"level":"debug","ts":1603109456.545525,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007146,"rows_affected":1}
{"level":"debug","ts":1603109456.5469012,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005977,"rows_affected":0}
{"level":"debug","ts":1603109456.5482786,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.0005493,"rows_affected":0}
{"level":"debug","ts":1603109456.5594518,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.0088717,"rows_affected":0}
{"level":"debug","ts":1603109456.5643933,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0025152,"rows_affected":0}
{"level":"debug","ts":1603109456.5666513,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.0014088,"rows_affected":0}
{"level":"debug","ts":1603109456.5683467,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006616,"rows_affected":1}
{"level":"debug","ts":1603109456.5699108,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007846,"rows_affected":0}
{"level":"debug","ts":1603109456.6010718,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.0009119,"rows_affected":0}
{"level":"debug","ts":1603109456.6135824,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010761,"rows_affected":1}
{"level":"debug","ts":1603109456.621438,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0063036,"rows_affected":0}
{"level":"debug","ts":1603109456.6421351,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.011664,"rows_affected":0}
{"level":"debug","ts":1603109456.649478,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.0035815,"rows_affected":0}
{"level":"debug","ts":1603109456.6573532,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.0043139,"rows_affected":0}
{"level":"debug","ts":1603109456.6610613,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.0019704,"rows_affected":0}
{"level":"debug","ts":1603109456.6635418,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008603,"rows_affected":1}
{"level":"debug","ts":1603109456.6655908,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000893,"rows_affected":0}
{"level":"debug","ts":1603109456.6675284,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0007104,"rows_affected":0}
{"level":"debug","ts":1603109456.670981,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0018207,"rows_affected":1}
{"level":"debug","ts":1603109456.6735692,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0016199,"rows_affected":0}
{"level":"debug","ts":1603109456.6927443,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0164258,"rows_affected":0}
{"level":"debug","ts":1603109456.7010975,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.0041086,"rows_affected":0}
{"level":"debug","ts":1603109456.7036514,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.00114,"rows_affected":1}
{"level":"debug","ts":1603109456.7064042,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013766,"rows_affected":0}
{"level":"debug","ts":1603109456.7095957,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.0015708,"rows_affected":0}
{"level":"debug","ts":1603109456.7120738,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008093,"rows_affected":1}
{"level":"debug","ts":1603109456.7151194,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0017012,"rows_affected":0}
{"level":"debug","ts":1603109456.7168884,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.0004941,"rows_affected":0}
{"level":"debug","ts":1603109456.7187178,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005744,"rows_affected":1}
{"level":"debug","ts":1603109456.721906,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008931,"rows_affected":0}
{"level":"debug","ts":1603109456.7247117,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0008172,"rows_affected":0}
{"level":"debug","ts":1603109456.7273736,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.0014653,"rows_affected":0}
{"level":"debug","ts":1603109456.743825,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0119768,"rows_affected":0}
{"level":"debug","ts":1603109456.7514465,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0044668,"rows_affected":0}
{"level":"debug","ts":1603109456.754859,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013204,"rows_affected":1}
{"level":"debug","ts":1603109456.7576673,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0015232,"rows_affected":0}
{"level":"debug","ts":1603109456.759687,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.0009587,"rows_affected":0}
{"level":"debug","ts":1603109456.7617488,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008574,"rows_affected":1}
{"level":"debug","ts":1603109456.7654781,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012696,"rows_affected":0}
{"level":"debug","ts":1603109456.7731025,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.0062661,"rows_affected":0}
{"level":"debug","ts":1603109456.7755015,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009718,"rows_affected":1}
{"level":"debug","ts":1603109456.7780066,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.00088,"rows_affected":0}
{"level":"debug","ts":1603109456.779516,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.000726,"rows_affected":0}
{"level":"debug","ts":1603109456.7829444,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0020015,"rows_affected":0}
{"level":"debug","ts":1603109456.8074813,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0203522,"rows_affected":0}
{"level":"debug","ts":1603109456.8168433,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0058873,"rows_affected":0}
{"level":"debug","ts":1603109456.8196797,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0014897,"rows_affected":1}
{"level":"debug","ts":1603109456.8227897,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0021233,"rows_affected":0}
{"level":"debug","ts":1603109456.8258297,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.0014613,"rows_affected":0}
{"level":"debug","ts":1603109456.827789,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0008438,"rows_affected":0}
{"level":"debug","ts":1603109456.8300138,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0007188,"rows_affected":0}
{"level":"debug","ts":1603109456.8328843,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0013279,"rows_affected":0}
{"level":"debug","ts":1603109456.844037,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0100291,"rows_affected":0}
{"level":"debug","ts":1603109456.850479,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0048084,"rows_affected":0}
{"level":"debug","ts":1603109456.8551235,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0031125,"rows_affected":0}
{"level":"debug","ts":1603109456.8580618,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0015098,"rows_affected":0}
{"level":"debug","ts":1603109456.862389,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.003254,"rows_affected":0}
{"level":"debug","ts":1603109456.8646429,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.0010003,"rows_affected":0}
{"level":"debug","ts":1603109456.871617,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0053241,"rows_affected":0}
{"level":"debug","ts":1603109456.8751135,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0022423,"rows_affected":0}
{"level":"debug","ts":1603109456.884099,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0078026,"rows_affected":0}
{"level":"debug","ts":1603109456.8867092,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012232,"rows_affected":1}
{"level":"debug","ts":1603109456.8907473,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0026346,"rows_affected":0}
{"level":"debug","ts":1603109456.919801,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.0012261,"rows_affected":0}
{"level":"debug","ts":1603109456.9297106,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.0072649,"rows_affected":0}
{"level":"debug","ts":1603109456.9333673,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013776,"rows_affected":1}
{"level":"debug","ts":1603109456.935356,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008144,"rows_affected":0}
{"level":"debug","ts":1603109457.0000389,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0007411,"rows_affected":0}
{"level":"debug","ts":1603109457.0229743,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.001172,"rows_affected":1}
{"level":"debug","ts":1603109457.0258806,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012031,"rows_affected":0}
{"level":"debug","ts":1603109457.0280826,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.0007968,"rows_affected":0}
{"level":"debug","ts":1603109457.0310068,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011091,"rows_affected":1}
{"level":"debug","ts":1603109457.0332637,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008476,"rows_affected":0}
{"level":"debug","ts":1603109457.0368478,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.0025652,"rows_affected":0}
{"level":"debug","ts":1603109457.0416534,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013349,"rows_affected":1}
{"level":"debug","ts":1603109457.0443525,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0014948,"rows_affected":0}
{"level":"debug","ts":1603109457.0465755,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0009509,"rows_affected":0}
{"level":"debug","ts":1603109457.0512617,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0025906,"rows_affected":0}
{"level":"debug","ts":1603109457.0792446,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0158608,"rows_affected":0}
{"level":"debug","ts":1603109457.0891235,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0058002,"rows_affected":0}
{"level":"debug","ts":1603109457.091279,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.00103,"rows_affected":1}
{"level":"debug","ts":1603109457.0936663,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013,"rows_affected":0}
{"level":"debug","ts":1603109457.1286774,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.0008067,"rows_affected":0}
{"level":"debug","ts":1603109457.1338336,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009428,"rows_affected":1}
{"level":"debug","ts":1603109457.13568,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009735,"rows_affected":0}
{"level":"debug","ts":1603109457.1784177,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005907,"rows_affected":1}
{"level":"debug","ts":1603109457.1805196,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008338,"rows_affected":0}
{"level":"debug","ts":1603109457.1926727,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.0103582,"rows_affected":0}
{"level":"debug","ts":1603109457.1950252,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0014381,"rows_affected":1}
{"level":"debug","ts":1603109457.197816,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013012,"rows_affected":0}
{"level":"debug","ts":1603109457.2005184,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0012221,"rows_affected":0}
{"level":"debug","ts":1603109457.208055,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0059824,"rows_affected":1}
{"level":"debug","ts":1603109457.210453,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010107,"rows_affected":0}
{"level":"debug","ts":1603109457.2120855,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0005543,"rows_affected":0}
{"level":"debug","ts":1603109457.2139525,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006762,"rows_affected":1}
{"level":"debug","ts":1603109457.2162797,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000929,"rows_affected":0}
{"level":"debug","ts":1603109457.2179694,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0006668,"rows_affected":0}
{"level":"debug","ts":1603109457.222945,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0035533,"rows_affected":1}
{"level":"debug","ts":1603109457.2256446,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.001346,"rows_affected":0}
{"level":"debug","ts":1603109457.2279365,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.0010259,"rows_affected":0}
{"level":"debug","ts":1603109457.2300613,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0009639,"rows_affected":0}
{"level":"debug","ts":1603109457.2327523,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.0010102,"rows_affected":0}
{"level":"debug","ts":1603109457.2346482,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009292,"rows_affected":1}
{"level":"debug","ts":1603109457.2370634,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0015194,"rows_affected":0}
{"level":"debug","ts":1603109457.2504835,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.0097047,"rows_affected":0}
{"level":"debug","ts":1603109457.2524214,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006492,"rows_affected":1}
{"level":"debug","ts":1603109457.2543297,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000894,"rows_affected":0}
{"level":"debug","ts":1603109457.3170614,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.061695,"rows_affected":0}
{"level":"debug","ts":1603109457.3205128,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0014371,"rows_affected":1}
{"level":"debug","ts":1603109457.3233883,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013021,"rows_affected":0}
{"level":"debug","ts":1603109457.3273332,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.0028004,"rows_affected":0}
{"level":"debug","ts":1603109457.3320704,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.0030814,"rows_affected":0}
{"level":"debug","ts":1603109457.3367343,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0038922,"rows_affected":0}
{"level":"debug","ts":1603109457.3412962,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.0035744,"rows_affected":0}
{"level":"debug","ts":1603109457.351144,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.0087614,"rows_affected":0}
{"level":"debug","ts":1603109457.353949,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.00125,"rows_affected":1}
{"level":"debug","ts":1603109457.356633,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0017842,"rows_affected":0}
{"level":"debug","ts":1603109457.3750243,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0158075,"rows_affected":0}
{"level":"debug","ts":1603109457.4008439,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0242988,"rows_affected":0}
{"level":"debug","ts":1603109457.4044735,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0024126,"rows_affected":0}
{"level":"debug","ts":1603109457.408029,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.0014395,"rows_affected":0}
{"level":"debug","ts":1603109457.4176488,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0086195,"rows_affected":0}
{"level":"debug","ts":1603109457.419508,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008736,"rows_affected":1}
{"level":"debug","ts":1603109457.4210448,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007108,"rows_affected":0}
{"level":"debug","ts":1603109457.445504,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.0236276,"rows_affected":0}
{"level":"debug","ts":1603109457.447173,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008364,"rows_affected":1}
{"level":"debug","ts":1603109457.4488285,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006717,"rows_affected":0}
{"level":"debug","ts":1603109457.5541596,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.104555,"rows_affected":0}
{"level":"debug","ts":1603109457.5561173,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009585,"rows_affected":1}
{"level":"debug","ts":1603109457.5577586,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007844,"rows_affected":0}
{"level":"debug","ts":1603109457.5610774,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.0025498,"rows_affected":0}
{"level":"debug","ts":1603109457.562259,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004256,"rows_affected":1}
{"level":"debug","ts":1603109457.5634084,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004959,"rows_affected":0}
{"level":"debug","ts":1603109457.6005778,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.0364561,"rows_affected":0}
{"level":"debug","ts":1603109457.602314,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007586,"rows_affected":1}
{"level":"debug","ts":1603109457.6037242,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007064,"rows_affected":0}
{"level":"debug","ts":1603109457.6256351,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.021161,"rows_affected":0}
{"level":"debug","ts":1603109457.6273909,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005917,"rows_affected":1}
{"level":"debug","ts":1603109457.6288428,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004888,"rows_affected":0}
{"level":"debug","ts":1603109457.6305985,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0005777,"rows_affected":0}
{"level":"debug","ts":1603109457.6320653,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007103,"rows_affected":1}
{"level":"debug","ts":1603109457.6340232,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010654,"rows_affected":0}
{"level":"debug","ts":1603109457.635903,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.0010139,"rows_affected":0}
{"level":"debug","ts":1603109457.6379428,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009014,"rows_affected":1}
{"level":"debug","ts":1603109457.6405685,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0014762,"rows_affected":0}
{"level":"debug","ts":1603109457.6558115,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.0141409,"rows_affected":0}
{"level":"debug","ts":1603109457.658487,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006484,"rows_affected":1}
{"level":"debug","ts":1603109457.6598778,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005819,"rows_affected":0}
{"level":"debug","ts":1603109457.6616335,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.000764,"rows_affected":0}
{"level":"debug","ts":1603109457.6631606,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006085,"rows_affected":1}
{"level":"debug","ts":1603109457.6651301,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007445,"rows_affected":0}
{"level":"debug","ts":1603109457.6697798,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.0036943,"rows_affected":0}
{"level":"debug","ts":1603109457.6711688,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006678,"rows_affected":1}
{"level":"debug","ts":1603109457.6727254,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006924,"rows_affected":0}
{"level":"debug","ts":1603109457.676739,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.003154,"rows_affected":0}
{"level":"debug","ts":1603109457.6781504,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004323,"rows_affected":1}
{"level":"debug","ts":1603109457.679448,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005792,"rows_affected":0}
{"level":"debug","ts":1603109457.7824688,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.1021547,"rows_affected":0}
{"level":"debug","ts":1603109457.784826,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012726,"rows_affected":1}
{"level":"debug","ts":1603109457.7872658,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0014197,"rows_affected":0}
{"level":"debug","ts":1603109457.7959933,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.007668,"rows_affected":0}
{"level":"debug","ts":1603109457.7988758,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013286,"rows_affected":1}
{"level":"debug","ts":1603109457.802264,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0015603,"rows_affected":0}
{"level":"debug","ts":1603109457.8229198,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0193189,"rows_affected":0}
{"level":"debug","ts":1603109457.825125,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010308,"rows_affected":1}
{"level":"debug","ts":1603109457.8270073,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010124,"rows_affected":0}
{"level":"debug","ts":1603109458.0295568,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.2012798,"rows_affected":0}
{"level":"debug","ts":1603109458.0315924,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010601,"rows_affected":1}
{"level":"debug","ts":1603109458.0344393,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0018992,"rows_affected":0}
{"level":"debug","ts":1603109458.041013,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.0048344,"rows_affected":0}
{"level":"debug","ts":1603109458.0436292,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011432,"rows_affected":1}
{"level":"debug","ts":1603109458.0463016,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012196,"rows_affected":0}
{"level":"debug","ts":1603109458.060869,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.0129021,"rows_affected":0}
{"level":"debug","ts":1603109458.0640404,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011674,"rows_affected":1}
{"level":"debug","ts":1603109458.0667584,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0014143,"rows_affected":0}
{"level":"debug","ts":1603109458.1374145,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0691717,"rows_affected":0}
{"level":"debug","ts":1603109458.1403832,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0014031,"rows_affected":1}
{"level":"debug","ts":1603109458.1433258,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0014053,"rows_affected":0}
{"level":"debug","ts":1603109458.159347,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.0149752,"rows_affected":0}
{"level":"debug","ts":1603109458.1615288,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009929,"rows_affected":1}
{"level":"debug","ts":1603109458.1636074,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011832,"rows_affected":0}
{"level":"debug","ts":1603109458.1725779,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.0079507,"rows_affected":0}
{"level":"debug","ts":1603109458.1752853,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.001217,"rows_affected":1}
{"level":"debug","ts":1603109458.1775997,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010775,"rows_affected":0}
{"level":"debug","ts":1603109458.1963072,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.0172723,"rows_affected":0}
{"level":"debug","ts":1603109458.1978765,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005395,"rows_affected":1}
{"level":"debug","ts":1603109458.1995842,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008707,"rows_affected":0}
{"level":"debug","ts":1603109458.2085395,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.0076616,"rows_affected":0}
{"level":"debug","ts":1603109458.2107587,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004966,"rows_affected":1}
{"level":"debug","ts":1603109458.2123966,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005748,"rows_affected":0}
{"level":"debug","ts":1603109458.2136242,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.0003509,"rows_affected":0}
{"level":"debug","ts":1603109458.2150419,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005661,"rows_affected":1}
{"level":"debug","ts":1603109458.216635,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005278,"rows_affected":0}
{"level":"debug","ts":1603109458.2181683,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.0005244,"rows_affected":0}
{"level":"debug","ts":1603109458.2195163,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006242,"rows_affected":1}
{"level":"debug","ts":1603109458.2215383,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008402,"rows_affected":0}
{"level":"debug","ts":1603109458.2355316,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.012983,"rows_affected":0}
{"level":"debug","ts":1603109458.23714,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006036,"rows_affected":1}
{"level":"debug","ts":1603109458.2388299,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006653,"rows_affected":0}
{"level":"debug","ts":1603109458.2409654,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0011906,"rows_affected":0}
{"level":"debug","ts":1603109458.2427044,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005481,"rows_affected":1}
{"level":"debug","ts":1603109458.2443528,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000679,"rows_affected":0}
{"level":"debug","ts":1603109458.2677321,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.0223213,"rows_affected":0}
{"level":"debug","ts":1603109458.2697475,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008476,"rows_affected":1}
{"level":"info","ts":1603109461.374746,"caller":"store/key_store.go:73","msg":"Unlocked account 0x7888C4e6eBBc4b83BEe908aa00562334a43535c0","address":"0x7888C4e6eBBc4b83BEe908aa00562334a43535c0"}
{"level":"debug","ts":1603109461.378332,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603109461.448399,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603109461.4494736,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603109461.4698942,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603109461.4741473,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603109461.4760122,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603109461.4771485,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603109461.4797032,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0x7888C4e6eBBc4b83BEe908aa00562334a43535c0\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603109461.4826174,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603109461.48363,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603109461.4842994,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4848893,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4856374,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603109461.4864855,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603109461.4871318,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4879222,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4886625,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4892855,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4899068,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4905612,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4913638,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4920523,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109461.4926689,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4932468,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109461.493984,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109461.4944866,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109461.495169,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4958725,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4963412,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4970124,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109461.4978933,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109461.4963875,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603109461.4988658,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109461.499896,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603109461.500591,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109461.501243,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109461.502026,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109461.5029092,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603109461.5036664,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109461.5048156,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109461.505493,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109461.5040734,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603109461.507118,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0x7888C4e6eBBc4b83BEe908aa00562334a43535c0"}
{"level":"debug","ts":1603109461.506282,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603109461.5089867,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109461.509839,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109461.5196831,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x7888C4e6eBBc4b83BEe908aa00562334a43535c0","blockNumber":"<nil>"}
{"level":"info","ts":1603109461.5237346,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"info","ts":1603109461.5239215,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0x7888C4e6eBBc4b83BEe908aa00562334a43535c0: 0.000000000000000000","address":"0x7888C4e6eBBc4b83BEe908aa00562334a43535c0","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"info","ts":1603109461.5271676,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"debug","ts":1603109513.4994402,"caller":"services/head_tracker.go:277","msg":"Received new head #1 (0x1)","blockHeight":"1","blockHash":"0x2ef136a7854b4fba6187dce2b9c397d9e60f2e67ff0070061234f51ab89ecbbf"}
{"level":"debug","ts":1603109513.5077722,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":0}
{"level":"debug","ts":1603109513.5086296,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"0"}
{"level":"debug","ts":1603109513.5326471,"caller":"services/head_tracker.go:386","msg":"HeadTracker: finished backfill","fetched":1,"blockNumber":0,"time":0.0255863,"id":"head_tracker","n":0,"fromBlockHeight":0,"toBlockHeight":-1}
{"level":"debug","ts":1603109513.5366986,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":1,"chainLength":2,"numCallbacks":6}
{"level":"warn","ts":1603109513.5376823,"caller":"services/gas_updater.go:89","msg":"GasUpdater: skipping gas calculation, current block height 1 is lower than GAS_UPDATER_BLOCK_DELAY of 3"}
{"level":"debug","ts":1603109513.5384488,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 773.5µs","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":1,"time":0.0007735,"id":"head_tracker"}
{"level":"debug","ts":1603109513.5397377,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 19.2µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":1,"time":0.0000192,"id":"head_tracker"}
{"level":"debug","ts":1603109513.5412192,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 100.4µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":1,"time":0.0001004,"id":"head_tracker"}
{"level":"debug","ts":1603109513.5426066,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 301.2µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":1,"time":0.0003012,"id":"head_tracker"}
{"level":"debug","ts":1603109513.5578396,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x7888C4e6eBBc4b83BEe908aa00562334a43535c0","blockNumber":"0"}
{"level":"debug","ts":1603109513.5674605,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 23.7457ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":1,"time":0.0237457,"id":"head_tracker"}
{"level":"debug","ts":1603109513.5689912,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.4µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":1,"time":0.0000064,"id":"head_tracker"}
{"level":"debug","ts":1603109513.569812,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 1 in 70.3694ms","blockNumber":1,"time":0.0703694,"id":"head_tracker"}
{"level":"debug","ts":1603109513.875148,"caller":"services/head_tracker.go:277","msg":"Received new head #2 (0x2)","blockHeight":"2","blockHash":"0x4e00f28d7d0648e759d69284689c80f36d8652b33a71e4222942181ab29b2c84"}
{"level":"debug","ts":1603109513.8827732,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":2,"chainLength":3,"numCallbacks":6}
{"level":"warn","ts":1603109513.8841257,"caller":"services/gas_updater.go:89","msg":"GasUpdater: skipping gas calculation, current block height 2 is lower than GAS_UPDATER_BLOCK_DELAY of 3"}
{"level":"debug","ts":1603109513.8850625,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 907.2µs","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":2,"time":0.0009072,"id":"head_tracker"}
{"level":"debug","ts":1603109513.8881419,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 16.5µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":2,"time":0.0000165,"id":"head_tracker"}
{"level":"debug","ts":1603109513.8891373,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 33.8µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":2,"time":0.0000338,"id":"head_tracker"}
{"level":"debug","ts":1603109513.8898845,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.1µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":2,"time":0.0000071,"id":"head_tracker"}
{"level":"debug","ts":1603109513.891263,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x7888C4e6eBBc4b83BEe908aa00562334a43535c0","blockNumber":"1"}
{"level":"info","ts":1603109513.8938596,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:11:53","latency":"3.1442ms"}
{"level":"debug","ts":1603109513.9043,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 13.4946ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":2,"time":0.0134946,"id":"head_tracker"}
{"level":"debug","ts":1603109513.9051938,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.2µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":2,"time":0.0000062,"id":"head_tracker"}
{"level":"debug","ts":1603109513.9064608,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 2 in 31.1368ms","blockNumber":2,"time":0.0311368,"id":"head_tracker"}
{"level":"info","ts":1603109518.9175029,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:11:58","latency":"7.4062ms"}
{"level":"info","ts":1603109523.9053578,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:12:03","latency":"3.6097ms"}
{"level":"info","ts":1603109528.927159,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:12:08","latency":"3.5789ms"}
{"level":"info","ts":1603109533.9520125,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:12:13","latency":"5.4518ms"}
{"level":"info","ts":1603109538.9762657,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:12:18","latency":"5.894ms"}
{"level":"info","ts":1603109543.9968226,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:12:23","latency":"2.745ms"}
{"level":"info","ts":1603109549.0200543,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:12:29","latency":"3.1943ms"}
{"level":"info","ts":1603109554.009366,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:12:34","latency":"2.3991ms"}
{"level":"info","ts":1603109559.0324507,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:12:39","latency":"3.1557ms"}
{"level":"info","ts":1603109564.0556936,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:12:44","latency":"3.5133ms"}
{"level":"info","ts":1603109564.0728576,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:12:44","latency":"2.8009ms"}
{"level":"debug","ts":1603109564.3943567,"caller":"services/head_tracker.go:277","msg":"Received new head #3 (0x3)","blockHeight":"3","blockHash":"0x36b0d9900d86f261a2b9d354fd29d44de24a2cad738bfd93cc8c83eb8e0e42d0"}
{"level":"debug","ts":1603109564.4047446,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":3,"chainLength":4,"numCallbacks":6}
{"level":"debug","ts":1603109564.4059896,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"0"}
{"level":"debug","ts":1603109564.4216113,"caller":"services/gas_updater.go:112","msg":"GasUpdater: skipping empty block: 0","blockNumber":0}
{"level":"debug","ts":1603109564.4224498,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 16.4674ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":3,"time":0.0164674,"id":"head_tracker"}
{"level":"debug","ts":1603109564.4231255,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 83µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":3,"time":0.000083,"id":"head_tracker"}
{"level":"debug","ts":1603109564.4238555,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 8.3µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":3,"time":0.0000083,"id":"head_tracker"}
{"level":"debug","ts":1603109564.4248035,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.1µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":3,"time":0.0000071,"id":"head_tracker"}
{"level":"debug","ts":1603109564.4269583,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x7888C4e6eBBc4b83BEe908aa00562334a43535c0","blockNumber":"2"}
{"level":"debug","ts":1603109564.4319499,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 6.4587ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":3,"time":0.0064587,"id":"head_tracker"}
{"level":"debug","ts":1603109564.4327838,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.8µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":3,"time":0.0000068,"id":"head_tracker"}
{"level":"debug","ts":1603109564.4334466,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 3 in 39.0995ms","blockNumber":3,"time":0.0390995,"id":"head_tracker"}
{"level":"debug","ts":1603109622.118995,"caller":"services/head_tracker.go:277","msg":"Received new head #4 (0x4)","blockHeight":"4","blockHash":"0xaa8c71dc94d461b2d08ed0e4dcc08bd7c357c85ffa56507c362f1056e1c310b3"}
{"level":"debug","ts":1603109622.1273394,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":4,"chainLength":5,"numCallbacks":6}
{"level":"debug","ts":1603109622.1286871,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"1"}
{"level":"debug","ts":1603109622.1415098,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 1/24","inHistory":1,"required":24}
{"level":"debug","ts":1603109622.142535,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 13.8391ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":4,"time":0.0138391,"id":"head_tracker"}
{"level":"debug","ts":1603109622.1435552,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 69.8µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":4,"time":0.0000698,"id":"head_tracker"}
{"level":"debug","ts":1603109622.1445138,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 39.2µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":4,"time":0.0000392,"id":"head_tracker"}
{"level":"debug","ts":1603109622.146955,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.3µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":4,"time":0.0000073,"id":"head_tracker"}
{"level":"debug","ts":1603109622.1493108,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x7888C4e6eBBc4b83BEe908aa00562334a43535c0","blockNumber":"3"}
{"level":"debug","ts":1603109622.171089,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 22.9904ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":4,"time":0.0229904,"id":"head_tracker"}
{"level":"debug","ts":1603109622.1728017,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 10.3µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":4,"time":0.0000103,"id":"head_tracker"}
{"level":"debug","ts":1603109622.1740992,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 4 in 55.0877ms","blockNumber":4,"time":0.0550877,"id":"head_tracker"}
{"level":"debug","ts":1603109622.4141598,"caller":"services/head_tracker.go:277","msg":"Received new head #5 (0x5)","blockHeight":"5","blockHash":"0xd3c88dce3eb96a73324475da0f40e9d410c890357a043c8134b03020bb437e47"}
{"level":"debug","ts":1603109622.4220288,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":5,"chainLength":6,"numCallbacks":6}
{"level":"debug","ts":1603109622.423371,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"2"}
{"level":"info","ts":1603109622.430709,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:13:42","latency":"2.1316ms"}
{"level":"debug","ts":1603109622.4492905,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 2/24","inHistory":2,"required":24}
{"level":"debug","ts":1603109622.450788,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 27.3229ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":5,"time":0.0273229,"id":"head_tracker"}
{"level":"debug","ts":1603109622.452059,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 18.2µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":5,"time":0.0000182,"id":"head_tracker"}
{"level":"debug","ts":1603109622.4550722,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 162.2µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":5,"time":0.0001622,"id":"head_tracker"}
{"level":"debug","ts":1603109622.456934,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.9µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":5,"time":0.0000079,"id":"head_tracker"}
{"level":"debug","ts":1603109622.4589756,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x7888C4e6eBBc4b83BEe908aa00562334a43535c0","blockNumber":"4"}
{"level":"debug","ts":1603109622.46615,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 7.7648ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":5,"time":0.0077648,"id":"head_tracker"}
{"level":"debug","ts":1603109622.4672415,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 7.6µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":5,"time":0.0000076,"id":"head_tracker"}
{"level":"debug","ts":1603109622.468213,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 5 in 54.0505ms","blockNumber":5,"time":0.0540505,"id":"head_tracker"}
{"level":"info","ts":1603109627.4496295,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:13:47","latency":"3.3785ms"}
{"level":"info","ts":1603109632.478194,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.192.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:13:52","latency":"5.2124ms"}
{"level":"error","ts":1603109638.4280417,"caller":"services/head_tracker.go:198","msg":"Error in new head subscription, unsubscribed: websocket: close 1006 (abnormal closure): unexpected EOF","err":"websocket: close 1006 (abnormal closure): unexpected EOF","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Errorw\n\t/chainlink/core/logger/logger.go:133\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:198"}
{"level":"info","ts":1603109638.4290574,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603109638.4314873,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"warn","ts":1603109638.4343443,"caller":"services/head_tracker.go:224","msg":"Failed to connect to ethereum node ws://ethnode:8545","err":"EthClient#SubscribeNewHead: dial tcp 192.168.192.2:8545: connect: connection refused","errVerbose":"dial tcp 192.168.192.2:8545: connect: connection refused\nEthClient#SubscribeNewHead\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribeToHead\n\t/chainlink/core/services/head_tracker.go:485\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribe\n\t/chainlink/core/services/head_tracker.go:222\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:194\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373"}
{"level":"info","ts":1603109638.4350455,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 1s"}
{"level":"info","ts":1603109638.4447105,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"info","ts":1603109638.4499822,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"error","ts":1603109638.451633,"caller":"logger/logger.go:247","msg":"unable to lock ORM: postgres advisory locking strategy failed on .Lock, timeout set to 500ms: driver: bad connection, lock ID: 1027321974924625846: can't acquire advisory lock","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).RawDB\n\t/chainlink/core/store/orm/orm.go:1467\ngithub.com/smartcontractkit/chainlink/core/services/synchronization.(*statsPusher).Close\n\t/chainlink/core/services/synchronization/stats_pusher.go:123\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop.func1\n\t/chainlink/core/services/chainlink/application.go:209\nsync.(*Once).doSlow\n\t/usr/local/go/src/sync/once.go:66\nsync.(*Once).Do\n\t/usr/local/go/src/sync/once.go:57\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop\n\t/chainlink/core/services/chainlink/application.go:191\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"error","ts":1603109638.45259,"caller":"chainlink/application.go:158","msg":"write tcp 192.168.192.3:58408->192.168.192.4:5432: write: broken pipe","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.ErrorIf\n\t/chainlink/core/logger/logger.go:209\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"info","ts":1603109646.3250544,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109646.326449,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109646.3280215,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109646.331233,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109647.3832653,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 192.168.208.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109647.3870475,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 192.168.208.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109648.704056,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109648.7047644,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109648.7055547,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109648.7074676,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109648.7107718,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 192.168.208.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109648.7185087,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 192.168.208.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109649.6567008,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109649.6577582,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109649.6586702,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109649.6614122,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603109649.7175784,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0005839,"rows_affected":0}
{"level":"warn","ts":1603109649.7190776,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603109649.7375987,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0093937,"rows_affected":0}
{"level":"debug","ts":1603109649.739655,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011366,"rows_affected":0}
{"level":"debug","ts":1603109649.7525027,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.0098796,"rows_affected":0}
{"level":"debug","ts":1603109649.7680857,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.01223,"rows_affected":0}
{"level":"debug","ts":1603109649.780469,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.0093759,"rows_affected":0}
{"level":"debug","ts":1603109649.7891855,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.004603,"rows_affected":0}
{"level":"debug","ts":1603109649.800355,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.0078271,"rows_affected":0}
{"level":"debug","ts":1603109649.8086257,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0045866,"rows_affected":0}
{"level":"debug","ts":1603109649.8244085,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.013232,"rows_affected":0}
{"level":"debug","ts":1603109649.830194,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0027878,"rows_affected":0}
{"level":"debug","ts":1603109649.8412068,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.0082604,"rows_affected":0}
{"level":"debug","ts":1603109649.8475213,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0033668,"rows_affected":0}
{"level":"debug","ts":1603109649.855403,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0037822,"rows_affected":0}
{"level":"debug","ts":1603109649.8660502,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0085391,"rows_affected":0}
{"level":"debug","ts":1603109649.8746252,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.0048682,"rows_affected":0}
{"level":"debug","ts":1603109649.8802783,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.003261,"rows_affected":0}
{"level":"debug","ts":1603109649.8863378,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.0033977,"rows_affected":0}
{"level":"debug","ts":1603109649.8933332,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.0037147,"rows_affected":0}
{"level":"debug","ts":1603109649.899727,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.0031891,"rows_affected":0}
{"level":"debug","ts":1603109649.9089477,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0071777,"rows_affected":0}
{"level":"debug","ts":1603109649.9162762,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.0049513,"rows_affected":0}
{"level":"debug","ts":1603109649.9223008,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0035472,"rows_affected":0}
{"level":"debug","ts":1603109649.927887,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.0033355,"rows_affected":0}
{"level":"debug","ts":1603109649.9346635,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0046021,"rows_affected":0}
{"level":"debug","ts":1603109649.9455752,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.0082571,"rows_affected":0}
{"level":"debug","ts":1603109649.9592009,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0107475,"rows_affected":0}
{"level":"debug","ts":1603109649.96961,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.0080455,"rows_affected":0}
{"level":"debug","ts":1603109649.9794762,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.0072587,"rows_affected":0}
{"level":"debug","ts":1603109649.9861703,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.0034176,"rows_affected":0}
{"level":"debug","ts":1603109649.9917462,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0029913,"rows_affected":0}
{"level":"debug","ts":1603109650.0027173,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0076947,"rows_affected":0}
{"level":"debug","ts":1603109650.0086672,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.0030622,"rows_affected":0}
{"level":"debug","ts":1603109650.014095,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0031149,"rows_affected":0}
{"level":"debug","ts":1603109650.0253232,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.0086227,"rows_affected":0}
{"level":"debug","ts":1603109650.0362344,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0083243,"rows_affected":0}
{"level":"debug","ts":1603109650.0497882,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.006779,"rows_affected":0}
{"level":"debug","ts":1603109650.0583467,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.0041679,"rows_affected":0}
{"level":"debug","ts":1603109650.0671642,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.0051847,"rows_affected":0}
{"level":"debug","ts":1603109650.0832367,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.0128633,"rows_affected":0}
{"level":"debug","ts":1603109650.0911431,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.0038135,"rows_affected":0}
{"level":"debug","ts":1603109650.1006248,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.0052885,"rows_affected":0}
{"level":"debug","ts":1603109650.1080568,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0025204,"rows_affected":0}
{"level":"debug","ts":1603109650.121624,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0101243,"rows_affected":0}
{"level":"debug","ts":1603109650.1293633,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0039877,"rows_affected":0}
{"level":"debug","ts":1603109650.1412969,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0060907,"rows_affected":0}
{"level":"debug","ts":1603109650.1575027,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.0118666,"rows_affected":0}
{"level":"debug","ts":1603109650.164171,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0037163,"rows_affected":0}
{"level":"debug","ts":1603109650.1704361,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0031437,"rows_affected":0}
{"level":"debug","ts":1603109650.181356,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.0083313,"rows_affected":0}
{"level":"debug","ts":1603109650.188424,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.0043678,"rows_affected":0}
{"level":"debug","ts":1603109650.1906497,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013362,"rows_affected":1}
{"level":"debug","ts":1603109650.192335,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007976,"rows_affected":0}
{"level":"debug","ts":1603109650.194801,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0013896,"rows_affected":0}
{"level":"debug","ts":1603109650.2105966,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0130695,"rows_affected":0}
{"level":"debug","ts":1603109650.2172024,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0034433,"rows_affected":0}
{"level":"debug","ts":1603109650.22794,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0044915,"rows_affected":0}
{"level":"debug","ts":1603109650.2372532,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0046657,"rows_affected":0}
{"level":"debug","ts":1603109650.2554789,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0151764,"rows_affected":0}
{"level":"debug","ts":1603109650.26042,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0022091,"rows_affected":0}
{"level":"debug","ts":1603109650.2670674,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0038854,"rows_affected":0}
{"level":"debug","ts":1603109650.2735686,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.0038454,"rows_affected":0}
{"level":"debug","ts":1603109650.2760725,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.0017198,"rows_affected":0}
{"level":"debug","ts":1603109650.2775037,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004239,"rows_affected":1}
{"level":"debug","ts":1603109650.2792678,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006644,"rows_affected":0}
{"level":"debug","ts":1603109650.328752,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.0008146,"rows_affected":0}
{"level":"debug","ts":1603109650.341678,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006068,"rows_affected":1}
{"level":"debug","ts":1603109650.3434808,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007761,"rows_affected":0}
{"level":"debug","ts":1603109650.345666,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0010725,"rows_affected":0}
{"level":"debug","ts":1603109650.3471074,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005745,"rows_affected":1}
{"level":"debug","ts":1603109650.349342,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007844,"rows_affected":0}
{"level":"debug","ts":1603109650.3510487,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.0007804,"rows_affected":1}
{"level":"debug","ts":1603109650.3530097,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006452,"rows_affected":1}
{"level":"debug","ts":1603109650.3547518,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006907,"rows_affected":0}
{"level":"debug","ts":1603109650.3590019,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.0029954,"rows_affected":0}
{"level":"debug","ts":1603109650.361021,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007728,"rows_affected":1}
{"level":"debug","ts":1603109650.3629036,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000802,"rows_affected":0}
{"level":"debug","ts":1603109650.36429,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.0006695,"rows_affected":0}
{"level":"debug","ts":1603109650.3746505,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.0082508,"rows_affected":0}
{"level":"debug","ts":1603109650.381416,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0033876,"rows_affected":0}
{"level":"debug","ts":1603109650.383512,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.0011221,"rows_affected":0}
{"level":"debug","ts":1603109650.3856146,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009604,"rows_affected":1}
{"level":"debug","ts":1603109650.3880327,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013069,"rows_affected":0}
{"level":"debug","ts":1603109650.4081907,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.0006673,"rows_affected":0}
{"level":"debug","ts":1603109650.4213898,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007139,"rows_affected":1}
{"level":"debug","ts":1603109650.4230664,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006682,"rows_affected":0}
{"level":"debug","ts":1603109650.433341,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0078652,"rows_affected":0}
{"level":"debug","ts":1603109650.4381387,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.0023336,"rows_affected":0}
{"level":"debug","ts":1603109650.4445043,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.00331,"rows_affected":0}
{"level":"debug","ts":1603109650.44685,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.0010218,"rows_affected":0}
{"level":"debug","ts":1603109650.4481552,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004887,"rows_affected":1}
{"level":"debug","ts":1603109650.449919,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009766,"rows_affected":0}
{"level":"debug","ts":1603109650.4513242,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0005462,"rows_affected":0}
{"level":"debug","ts":1603109650.4529493,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006981,"rows_affected":1}
{"level":"debug","ts":1603109650.4543242,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006687,"rows_affected":0}
{"level":"debug","ts":1603109650.4702837,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0132072,"rows_affected":0}
{"level":"debug","ts":1603109650.478502,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.0036362,"rows_affected":0}
{"level":"debug","ts":1603109650.4802778,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007233,"rows_affected":1}
{"level":"debug","ts":1603109650.4822347,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008798,"rows_affected":0}
{"level":"debug","ts":1603109650.4850495,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.0017714,"rows_affected":0}
{"level":"debug","ts":1603109650.4875257,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007798,"rows_affected":1}
{"level":"debug","ts":1603109650.4895594,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008905,"rows_affected":0}
{"level":"debug","ts":1603109650.491603,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.0008765,"rows_affected":0}
{"level":"debug","ts":1603109650.4939506,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011872,"rows_affected":1}
{"level":"debug","ts":1603109650.495741,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008176,"rows_affected":0}
{"level":"debug","ts":1603109650.4979877,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0010187,"rows_affected":0}
{"level":"debug","ts":1603109650.5004988,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.0015759,"rows_affected":0}
{"level":"debug","ts":1603109650.5126588,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0092786,"rows_affected":0}
{"level":"debug","ts":1603109650.5194886,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0035059,"rows_affected":0}
{"level":"debug","ts":1603109650.5227327,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0018771,"rows_affected":1}
{"level":"debug","ts":1603109650.525718,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008576,"rows_affected":0}
{"level":"debug","ts":1603109650.5279248,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.0009407,"rows_affected":0}
{"level":"debug","ts":1603109650.5307734,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0016173,"rows_affected":1}
{"level":"debug","ts":1603109650.5331502,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009685,"rows_affected":0}
{"level":"debug","ts":1603109650.5386243,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.0037727,"rows_affected":0}
{"level":"debug","ts":1603109650.5414164,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009498,"rows_affected":1}
{"level":"debug","ts":1603109650.5433242,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008454,"rows_affected":0}
{"level":"debug","ts":1603109650.545279,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0007257,"rows_affected":0}
{"level":"debug","ts":1603109650.5487616,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0019066,"rows_affected":0}
{"level":"debug","ts":1603109650.5609589,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0096547,"rows_affected":0}
{"level":"debug","ts":1603109650.566586,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.002332,"rows_affected":0}
{"level":"debug","ts":1603109650.5689502,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009474,"rows_affected":1}
{"level":"debug","ts":1603109650.5730379,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0019883,"rows_affected":0}
{"level":"debug","ts":1603109650.5751748,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.0012673,"rows_affected":0}
{"level":"debug","ts":1603109650.5769017,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0006146,"rows_affected":0}
{"level":"debug","ts":1603109650.579508,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0013246,"rows_affected":0}
{"level":"debug","ts":1603109650.581202,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0006445,"rows_affected":0}
{"level":"debug","ts":1603109650.5874326,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.005093,"rows_affected":0}
{"level":"debug","ts":1603109650.589697,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0013094,"rows_affected":0}
{"level":"debug","ts":1603109650.5915873,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0009408,"rows_affected":0}
{"level":"debug","ts":1603109650.593578,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0010052,"rows_affected":0}
{"level":"debug","ts":1603109650.5955577,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.0010143,"rows_affected":0}
{"level":"debug","ts":1603109650.5971403,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.0005399,"rows_affected":0}
{"level":"debug","ts":1603109650.6039565,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0058596,"rows_affected":0}
{"level":"debug","ts":1603109650.6075048,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0023627,"rows_affected":0}
{"level":"debug","ts":1603109650.6120636,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0034259,"rows_affected":0}
{"level":"debug","ts":1603109650.6137476,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007052,"rows_affected":1}
{"level":"debug","ts":1603109650.6152208,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006527,"rows_affected":0}
{"level":"debug","ts":1603109650.61704,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.0009714,"rows_affected":0}
{"level":"debug","ts":1603109650.6262887,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.006925,"rows_affected":0}
{"level":"debug","ts":1603109650.6284087,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006982,"rows_affected":1}
{"level":"debug","ts":1603109650.6303113,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008183,"rows_affected":0}
{"level":"debug","ts":1603109650.661386,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0004682,"rows_affected":0}
{"level":"debug","ts":1603109650.6723518,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000492,"rows_affected":1}
{"level":"debug","ts":1603109650.6737187,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004702,"rows_affected":0}
{"level":"debug","ts":1603109650.6753397,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.000488,"rows_affected":0}
{"level":"debug","ts":1603109650.676991,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007253,"rows_affected":1}
{"level":"debug","ts":1603109650.6785028,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006377,"rows_affected":0}
{"level":"debug","ts":1603109650.680361,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.0007246,"rows_affected":0}
{"level":"debug","ts":1603109650.6821883,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007805,"rows_affected":1}
{"level":"debug","ts":1603109650.6838756,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007862,"rows_affected":0}
{"level":"debug","ts":1603109650.685423,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0004822,"rows_affected":0}
{"level":"debug","ts":1603109650.687327,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0010506,"rows_affected":0}
{"level":"debug","ts":1603109650.6974225,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.00822,"rows_affected":0}
{"level":"debug","ts":1603109650.7019181,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.002382,"rows_affected":0}
{"level":"debug","ts":1603109650.7036378,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009554,"rows_affected":1}
{"level":"debug","ts":1603109650.705237,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007008,"rows_affected":0}
{"level":"debug","ts":1603109650.7193828,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.0004937,"rows_affected":0}
{"level":"debug","ts":1603109650.7221873,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006301,"rows_affected":1}
{"level":"debug","ts":1603109650.72393,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009473,"rows_affected":0}
{"level":"debug","ts":1603109650.7416413,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005247,"rows_affected":1}
{"level":"debug","ts":1603109650.743165,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.00071,"rows_affected":0}
{"level":"debug","ts":1603109650.7502506,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.006191,"rows_affected":0}
{"level":"debug","ts":1603109650.7520094,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005947,"rows_affected":1}
{"level":"debug","ts":1603109650.75345,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005965,"rows_affected":0}
{"level":"debug","ts":1603109650.7548535,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0006921,"rows_affected":0}
{"level":"debug","ts":1603109650.756135,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005275,"rows_affected":1}
{"level":"debug","ts":1603109650.7578733,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008741,"rows_affected":0}
{"level":"debug","ts":1603109650.7590983,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0004474,"rows_affected":0}
{"level":"debug","ts":1603109650.760688,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005898,"rows_affected":1}
{"level":"debug","ts":1603109650.7623174,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006452,"rows_affected":0}
{"level":"debug","ts":1603109650.7640164,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0005264,"rows_affected":0}
{"level":"debug","ts":1603109650.7656763,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005541,"rows_affected":1}
{"level":"debug","ts":1603109650.7672448,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006531,"rows_affected":0}
{"level":"debug","ts":1603109650.769254,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.000719,"rows_affected":0}
{"level":"debug","ts":1603109650.7704773,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0004746,"rows_affected":0}
{"level":"debug","ts":1603109650.7718446,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.000497,"rows_affected":0}
{"level":"debug","ts":1603109650.7733576,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007277,"rows_affected":1}
{"level":"debug","ts":1603109650.7752666,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010109,"rows_affected":0}
{"level":"debug","ts":1603109650.7843077,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.0067949,"rows_affected":0}
{"level":"debug","ts":1603109650.7863593,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009825,"rows_affected":1}
{"level":"debug","ts":1603109650.7881384,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008006,"rows_affected":0}
{"level":"debug","ts":1603109650.8421283,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.0529309,"rows_affected":0}
{"level":"debug","ts":1603109650.8452282,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011743,"rows_affected":1}
{"level":"debug","ts":1603109650.8480597,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013763,"rows_affected":0}
{"level":"debug","ts":1603109650.8526423,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.003277,"rows_affected":0}
{"level":"debug","ts":1603109650.8580394,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.0041021,"rows_affected":0}
{"level":"debug","ts":1603109650.8611763,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0021454,"rows_affected":0}
{"level":"debug","ts":1603109650.86549,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.0030963,"rows_affected":0}
{"level":"debug","ts":1603109650.8742135,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.0077003,"rows_affected":0}
{"level":"debug","ts":1603109650.8762722,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006311,"rows_affected":1}
{"level":"debug","ts":1603109650.89228,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0035896,"rows_affected":0}
{"level":"debug","ts":1603109650.9144013,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0203212,"rows_affected":0}
{"level":"debug","ts":1603109650.9546385,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0356628,"rows_affected":0}
{"level":"debug","ts":1603109650.9693503,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0025494,"rows_affected":0}
{"level":"debug","ts":1603109650.9719229,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.0012052,"rows_affected":0}
{"level":"debug","ts":1603109650.9851446,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0113764,"rows_affected":0}
{"level":"debug","ts":1603109650.9944417,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0057323,"rows_affected":1}
{"level":"debug","ts":1603109650.997542,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013482,"rows_affected":0}
{"level":"debug","ts":1603109651.0573266,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.0511734,"rows_affected":0}
{"level":"debug","ts":1603109651.0603833,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008942,"rows_affected":1}
{"level":"debug","ts":1603109651.0630825,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010651,"rows_affected":0}
{"level":"debug","ts":1603109651.2270045,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.1625282,"rows_affected":0}
{"level":"debug","ts":1603109651.2293444,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010591,"rows_affected":1}
{"level":"debug","ts":1603109651.2314956,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013359,"rows_affected":0}
{"level":"debug","ts":1603109651.2372274,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.0035221,"rows_affected":0}
{"level":"debug","ts":1603109651.2400138,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0016184,"rows_affected":1}
{"level":"debug","ts":1603109651.2422035,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009537,"rows_affected":0}
{"level":"debug","ts":1603109651.2940123,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.050498,"rows_affected":0}
{"level":"debug","ts":1603109651.2965934,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.001327,"rows_affected":1}
{"level":"debug","ts":1603109651.2991202,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012248,"rows_affected":0}
{"level":"debug","ts":1603109651.3129508,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.0119585,"rows_affected":0}
{"level":"debug","ts":1603109651.3149242,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007751,"rows_affected":1}
{"level":"debug","ts":1603109651.3168807,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009581,"rows_affected":0}
{"level":"debug","ts":1603109651.318849,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0007599,"rows_affected":0}
{"level":"debug","ts":1603109651.3219454,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013587,"rows_affected":1}
{"level":"debug","ts":1603109651.3245096,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013298,"rows_affected":0}
{"level":"debug","ts":1603109651.3265116,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.000894,"rows_affected":0}
{"level":"debug","ts":1603109651.3283062,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009792,"rows_affected":1}
{"level":"debug","ts":1603109651.330063,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006408,"rows_affected":0}
{"level":"debug","ts":1603109651.3476086,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.016259,"rows_affected":0}
{"level":"debug","ts":1603109651.3496535,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009447,"rows_affected":1}
{"level":"debug","ts":1603109651.3516004,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008313,"rows_affected":0}
{"level":"debug","ts":1603109651.353391,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.0007286,"rows_affected":0}
{"level":"debug","ts":1603109651.3550582,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008275,"rows_affected":1}
{"level":"debug","ts":1603109651.3569334,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009341,"rows_affected":0}
{"level":"debug","ts":1603109651.3616543,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.0037442,"rows_affected":0}
{"level":"debug","ts":1603109651.3633215,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.00068,"rows_affected":1}
{"level":"debug","ts":1603109651.3650055,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007303,"rows_affected":0}
{"level":"debug","ts":1603109651.369246,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.0031454,"rows_affected":0}
{"level":"debug","ts":1603109651.3710208,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007432,"rows_affected":1}
{"level":"debug","ts":1603109651.3726106,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006983,"rows_affected":0}
{"level":"debug","ts":1603109651.4618912,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.0883095,"rows_affected":0}
{"level":"debug","ts":1603109651.4640684,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008138,"rows_affected":1}
{"level":"debug","ts":1603109651.466167,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000904,"rows_affected":0}
{"level":"debug","ts":1603109651.471393,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.004159,"rows_affected":0}
{"level":"debug","ts":1603109651.473314,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007205,"rows_affected":1}
{"level":"debug","ts":1603109651.4747765,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006034,"rows_affected":0}
{"level":"debug","ts":1603109651.4925609,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0168073,"rows_affected":0}
{"level":"debug","ts":1603109651.494467,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008962,"rows_affected":1}
{"level":"debug","ts":1603109651.496289,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008623,"rows_affected":0}
{"level":"debug","ts":1603109651.683552,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.1861409,"rows_affected":0}
{"level":"debug","ts":1603109651.6861517,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008641,"rows_affected":1}
{"level":"debug","ts":1603109651.6880891,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009448,"rows_affected":0}
{"level":"debug","ts":1603109651.692869,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.0039745,"rows_affected":0}
{"level":"debug","ts":1603109651.6948612,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006989,"rows_affected":1}
{"level":"debug","ts":1603109651.6965907,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006582,"rows_affected":0}
{"level":"debug","ts":1603109651.7096467,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.0120869,"rows_affected":0}
{"level":"debug","ts":1603109651.7113423,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005687,"rows_affected":1}
{"level":"debug","ts":1603109651.712886,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006085,"rows_affected":0}
{"level":"debug","ts":1603109651.7706876,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0565485,"rows_affected":0}
{"level":"debug","ts":1603109651.7729828,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008623,"rows_affected":1}
{"level":"debug","ts":1603109651.7745612,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006345,"rows_affected":0}
{"level":"debug","ts":1603109651.7862544,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.0108326,"rows_affected":0}
{"level":"debug","ts":1603109651.7876427,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004589,"rows_affected":1}
{"level":"debug","ts":1603109651.7889373,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005647,"rows_affected":0}
{"level":"debug","ts":1603109651.7932506,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.003613,"rows_affected":0}
{"level":"debug","ts":1603109651.7948208,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006702,"rows_affected":1}
{"level":"debug","ts":1603109651.7962134,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008018,"rows_affected":0}
{"level":"debug","ts":1603109651.808335,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.0112699,"rows_affected":0}
{"level":"debug","ts":1603109651.810274,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008673,"rows_affected":1}
{"level":"debug","ts":1603109651.8115587,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006819,"rows_affected":0}
{"level":"debug","ts":1603109651.8168547,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.0045349,"rows_affected":0}
{"level":"debug","ts":1603109651.818209,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005186,"rows_affected":1}
{"level":"debug","ts":1603109651.8197417,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006574,"rows_affected":0}
{"level":"debug","ts":1603109651.8211415,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.0004882,"rows_affected":0}
{"level":"debug","ts":1603109651.8225014,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005128,"rows_affected":1}
{"level":"debug","ts":1603109651.8240361,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007541,"rows_affected":0}
{"level":"debug","ts":1603109651.8256931,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.0008534,"rows_affected":0}
{"level":"debug","ts":1603109651.8271716,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006485,"rows_affected":1}
{"level":"debug","ts":1603109651.8286388,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006861,"rows_affected":0}
{"level":"debug","ts":1603109651.838582,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.009219,"rows_affected":0}
{"level":"debug","ts":1603109651.840199,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006432,"rows_affected":1}
{"level":"debug","ts":1603109651.8417108,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007376,"rows_affected":0}
{"level":"debug","ts":1603109651.8434548,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0008787,"rows_affected":0}
{"level":"debug","ts":1603109651.844686,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006218,"rows_affected":1}
{"level":"debug","ts":1603109651.8462267,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007506,"rows_affected":0}
{"level":"debug","ts":1603109651.8684294,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.0214357,"rows_affected":0}
{"level":"debug","ts":1603109651.8701239,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006406,"rows_affected":1}
{"level":"info","ts":1603109654.8001125,"caller":"store/key_store.go:73","msg":"Unlocked account 0x5f8288ED227D5CB1C80c0c6a4C99de785fcf55d7","address":"0x5f8288ED227D5CB1C80c0c6a4C99de785fcf55d7"}
{"level":"debug","ts":1603109654.8033342,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603109654.866877,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603109654.867985,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603109654.8865325,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603109654.8923342,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603109654.8942015,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603109654.8950126,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603109654.8980978,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0x5f8288ED227D5CB1C80c0c6a4C99de785fcf55d7\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603109654.9011033,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603109654.9018443,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603109654.9025183,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9030282,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9036295,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603109654.904298,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603109654.9050467,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9059424,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9069211,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9076188,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9083972,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9090621,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109654.910023,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9107049,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109654.911536,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9124947,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9132042,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109654.9123738,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603109654.9144912,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109654.916411,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9170578,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9179714,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109654.918702,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109654.919526,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9202995,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109654.921008,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9217355,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9228907,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9238539,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109654.924779,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603109654.923575,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603109654.9268153,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0x5f8288ED227D5CB1C80c0c6a4C99de785fcf55d7"}
{"level":"debug","ts":1603109654.9260015,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109654.9287393,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109654.9295042,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9304287,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9314642,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9321547,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109654.9407191,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x5f8288ED227D5CB1C80c0c6a4C99de785fcf55d7","blockNumber":"<nil>"}
{"level":"info","ts":1603109654.9451168,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0x5f8288ED227D5CB1C80c0c6a4C99de785fcf55d7: 0.000000000000000000","address":"0x5f8288ED227D5CB1C80c0c6a4C99de785fcf55d7","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"info","ts":1603109654.9469037,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"info","ts":1603109654.9493678,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"debug","ts":1603109677.4185252,"caller":"services/head_tracker.go:277","msg":"Received new head #1 (0x1)","blockHeight":"1","blockHash":"0x9557f08add942d2c15a6470a9d7236a2a9b790dcf5e6ec42369b0f2f8f5c9803"}
{"level":"debug","ts":1603109677.4342542,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":0}
{"level":"debug","ts":1603109677.4355745,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"0"}
{"level":"debug","ts":1603109677.4507723,"caller":"services/head_tracker.go:386","msg":"HeadTracker: finished backfill","fetched":1,"blockNumber":0,"time":0.017796,"id":"head_tracker","n":0,"fromBlockHeight":0,"toBlockHeight":-1}
{"level":"debug","ts":1603109677.456722,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":1,"chainLength":2,"numCallbacks":6}
{"level":"warn","ts":1603109677.4582226,"caller":"services/gas_updater.go:89","msg":"GasUpdater: skipping gas calculation, current block height 1 is lower than GAS_UPDATER_BLOCK_DELAY of 3"}
{"level":"debug","ts":1603109677.4591305,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 1.0267ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":1,"time":0.0010267,"id":"head_tracker"}
{"level":"debug","ts":1603109677.4603655,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 43.3µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":1,"time":0.0000433,"id":"head_tracker"}
{"level":"debug","ts":1603109677.4617596,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 225.2µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":1,"time":0.0002252,"id":"head_tracker"}
{"level":"debug","ts":1603109677.4635513,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 8.1µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":1,"time":0.0000081,"id":"head_tracker"}
{"level":"debug","ts":1603109677.475656,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x5f8288ED227D5CB1C80c0c6a4C99de785fcf55d7","blockNumber":"0"}
{"level":"debug","ts":1603109677.4936838,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 28.7677ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":1,"time":0.0287677,"id":"head_tracker"}
{"level":"debug","ts":1603109677.495636,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.6µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":1,"time":0.0000066,"id":"head_tracker"}
{"level":"debug","ts":1603109677.4964728,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 1 in 77.8367ms","blockNumber":1,"time":0.0778367,"id":"head_tracker"}
{"level":"debug","ts":1603109677.8036082,"caller":"services/head_tracker.go:277","msg":"Received new head #2 (0x2)","blockHeight":"2","blockHash":"0x0b800f6869192942f6b00b479f1d0f18fc6d87ca09577329b02511affc3db142"}
{"level":"debug","ts":1603109677.814734,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":2,"chainLength":3,"numCallbacks":6}
{"level":"warn","ts":1603109677.8185065,"caller":"services/gas_updater.go:89","msg":"GasUpdater: skipping gas calculation, current block height 2 is lower than GAS_UPDATER_BLOCK_DELAY of 3"}
{"level":"debug","ts":1603109677.8229008,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 4.294ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":2,"time":0.004294,"id":"head_tracker"}
{"level":"debug","ts":1603109677.824032,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 22.8µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":2,"time":0.0000228,"id":"head_tracker"}
{"level":"debug","ts":1603109677.82514,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 37.9µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":2,"time":0.0000379,"id":"head_tracker"}
{"level":"debug","ts":1603109677.8267531,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 11.4µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":2,"time":0.0000114,"id":"head_tracker"}
{"level":"debug","ts":1603109677.829085,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x5f8288ED227D5CB1C80c0c6a4C99de785fcf55d7","blockNumber":"1"}
{"level":"info","ts":1603109677.8305514,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:14:37","latency":"4.2467ms"}
{"level":"debug","ts":1603109677.849755,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 21.9458ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":2,"time":0.0219458,"id":"head_tracker"}
{"level":"debug","ts":1603109677.8509145,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 7.8µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":2,"time":0.0000078,"id":"head_tracker"}
{"level":"debug","ts":1603109677.8525705,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 2 in 48.9349ms","blockNumber":2,"time":0.0489349,"id":"head_tracker"}
{"level":"info","ts":1603109682.8527408,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:14:42","latency":"3.8502ms"}
{"level":"info","ts":1603109687.8741999,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:14:47","latency":"3.5631ms"}
{"level":"info","ts":1603109692.894489,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:14:52","latency":"2.7238ms"}
{"level":"info","ts":1603109697.915893,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:14:57","latency":"3.6504ms"}
{"level":"info","ts":1603109702.911631,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:15:02","latency":"4.2145ms"}
{"level":"info","ts":1603109707.939019,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:15:07","latency":"3.3385ms"}
{"level":"info","ts":1603109712.959464,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:15:12","latency":"3.0455ms"}
{"level":"info","ts":1603109718.0001357,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:15:18","latency":"4.8866ms"}
{"level":"info","ts":1603109723.031046,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:15:23","latency":"6.305ms"}
{"level":"info","ts":1603109728.054638,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:15:28","latency":"2.3306ms"}
{"level":"info","ts":1603109728.0722005,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.208.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:15:28","latency":"7.4461ms"}
{"level":"debug","ts":1603109728.4289799,"caller":"services/head_tracker.go:277","msg":"Received new head #3 (0x3)","blockHeight":"3","blockHash":"0xd1e5a17ae7d29a06a461e96fcff116d8f3bbb770c68e9f33ab77973831c75c8e"}
{"level":"debug","ts":1603109728.440593,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":3,"chainLength":4,"numCallbacks":6}
{"level":"debug","ts":1603109728.4418368,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"0"}
{"level":"debug","ts":1603109728.4566853,"caller":"services/gas_updater.go:112","msg":"GasUpdater: skipping empty block: 0","blockNumber":0}
{"level":"debug","ts":1603109728.4582052,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 16.368ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":3,"time":0.016368,"id":"head_tracker"}
{"level":"debug","ts":1603109728.4604514,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 20.7µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":3,"time":0.0000207,"id":"head_tracker"}
{"level":"debug","ts":1603109728.4617562,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 34.5µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":3,"time":0.0000345,"id":"head_tracker"}
{"level":"debug","ts":1603109728.4627903,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.7µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":3,"time":0.0000077,"id":"head_tracker"}
{"level":"debug","ts":1603109728.4645822,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x5f8288ED227D5CB1C80c0c6a4C99de785fcf55d7","blockNumber":"2"}
{"level":"debug","ts":1603109728.4697604,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 6.0014ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":3,"time":0.0060014,"id":"head_tracker"}
{"level":"debug","ts":1603109728.470929,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 5.6µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":3,"time":0.0000056,"id":"head_tracker"}
{"level":"debug","ts":1603109728.4721045,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 3 in 43.1253ms","blockNumber":3,"time":0.0431253,"id":"head_tracker"}
{"level":"info","ts":1603109749.5167606,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"error","ts":1603109749.5174406,"caller":"services/head_tracker.go:198","msg":"Error in new head subscription, unsubscribed: websocket: close 1006 (abnormal closure): unexpected EOF","err":"websocket: close 1006 (abnormal closure): unexpected EOF","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Errorw\n\t/chainlink/core/logger/logger.go:133\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:198"}
{"level":"info","ts":1603109749.5328164,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"info","ts":1603109749.5338178,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"error","ts":1603109749.5347583,"caller":"logger/logger.go:247","msg":"unable to lock ORM: postgres advisory locking strategy failed on .Lock, timeout set to 500ms: driver: bad connection, lock ID: 1027321974924625846: can't acquire advisory lock","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).RawDB\n\t/chainlink/core/store/orm/orm.go:1467\ngithub.com/smartcontractkit/chainlink/core/services/synchronization.(*statsPusher).Close\n\t/chainlink/core/services/synchronization/stats_pusher.go:123\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop.func1\n\t/chainlink/core/services/chainlink/application.go:209\nsync.(*Once).doSlow\n\t/usr/local/go/src/sync/once.go:66\nsync.(*Once).Do\n\t/usr/local/go/src/sync/once.go:57\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop\n\t/chainlink/core/services/chainlink/application.go:191\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"error","ts":1603109749.540038,"caller":"chainlink/application.go:158","msg":"write tcp 192.168.208.3:35460->192.168.208.4:5432: write: broken pipe","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.ErrorIf\n\t/chainlink/core/logger/logger.go:209\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"info","ts":1603109755.1585248,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109755.1604905,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109755.1613135,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109755.1646235,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109755.1688626,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109755.176438,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109756.3210828,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109756.3224978,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109756.3242652,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109756.3278024,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109756.3334498,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 192.168.224.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109756.336271,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 192.168.224.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109757.6371741,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109757.6388812,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109757.6402967,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109757.6447647,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109757.653923,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 192.168.224.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109757.6607955,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 192.168.224.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109758.9225848,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109758.9237168,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109758.9248476,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109758.9277322,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603109758.9745505,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0010049,"rows_affected":0}
{"level":"warn","ts":1603109758.9762554,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603109758.991803,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0072075,"rows_affected":0}
{"level":"debug","ts":1603109758.9948575,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011442,"rows_affected":0}
{"level":"debug","ts":1603109759.0053766,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.0074296,"rows_affected":0}
{"level":"debug","ts":1603109759.0183766,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.0104351,"rows_affected":0}
{"level":"debug","ts":1603109759.0296686,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.0081016,"rows_affected":0}
{"level":"debug","ts":1603109759.036992,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0039467,"rows_affected":0}
{"level":"debug","ts":1603109759.045504,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.0058343,"rows_affected":0}
{"level":"debug","ts":1603109759.0511801,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0032784,"rows_affected":0}
{"level":"debug","ts":1603109759.0599759,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.00649,"rows_affected":0}
{"level":"debug","ts":1603109759.0653687,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0022308,"rows_affected":0}
{"level":"debug","ts":1603109759.0717738,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.0036262,"rows_affected":0}
{"level":"debug","ts":1603109759.0770683,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0026175,"rows_affected":0}
{"level":"debug","ts":1603109759.081968,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0023312,"rows_affected":0}
{"level":"debug","ts":1603109759.0954301,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0103355,"rows_affected":0}
{"level":"debug","ts":1603109759.102193,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.002981,"rows_affected":0}
{"level":"debug","ts":1603109759.106667,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.0024078,"rows_affected":0}
{"level":"debug","ts":1603109759.1125193,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.0034015,"rows_affected":0}
{"level":"debug","ts":1603109759.1171865,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.002021,"rows_affected":0}
{"level":"debug","ts":1603109759.1224332,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.0029731,"rows_affected":0}
{"level":"debug","ts":1603109759.1325343,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0077631,"rows_affected":0}
{"level":"debug","ts":1603109759.1383095,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.0025219,"rows_affected":0}
{"level":"debug","ts":1603109759.144274,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0037244,"rows_affected":0}
{"level":"debug","ts":1603109759.1486766,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.0016585,"rows_affected":0}
{"level":"debug","ts":1603109759.1547267,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0032348,"rows_affected":0}
{"level":"debug","ts":1603109759.16272,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.005984,"rows_affected":0}
{"level":"debug","ts":1603109759.171561,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.006729,"rows_affected":0}
{"level":"debug","ts":1603109759.1810555,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.007167,"rows_affected":0}
{"level":"debug","ts":1603109759.1903102,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.0069184,"rows_affected":0}
{"level":"debug","ts":1603109759.196148,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.003564,"rows_affected":0}
{"level":"debug","ts":1603109759.2016015,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0030936,"rows_affected":0}
{"level":"debug","ts":1603109759.2119324,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0071571,"rows_affected":0}
{"level":"debug","ts":1603109759.2170613,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.0025441,"rows_affected":0}
{"level":"debug","ts":1603109759.2234511,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0036396,"rows_affected":0}
{"level":"debug","ts":1603109759.2328897,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.0072134,"rows_affected":0}
{"level":"debug","ts":1603109759.2450118,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0094921,"rows_affected":0}
{"level":"debug","ts":1603109759.2531335,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.0044077,"rows_affected":0}
{"level":"debug","ts":1603109759.2612674,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.0031005,"rows_affected":0}
{"level":"debug","ts":1603109759.2682877,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.0036641,"rows_affected":0}
{"level":"debug","ts":1603109759.2807736,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.0096438,"rows_affected":0}
{"level":"debug","ts":1603109759.2868795,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0032489,"rows_affected":0}
{"level":"debug","ts":1603109759.2958784,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.0050217,"rows_affected":0}
{"level":"debug","ts":1603109759.3023934,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.0034712,"rows_affected":0}
{"level":"debug","ts":1603109759.3180003,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0123339,"rows_affected":0}
{"level":"debug","ts":1603109759.3237243,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0025636,"rows_affected":0}
{"level":"debug","ts":1603109759.329632,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0030086,"rows_affected":0}
{"level":"debug","ts":1603109759.3422842,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.0095999,"rows_affected":0}
{"level":"debug","ts":1603109759.348579,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0027308,"rows_affected":0}
{"level":"debug","ts":1603109759.3530638,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0020291,"rows_affected":0}
{"level":"debug","ts":1603109759.3622746,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.0071039,"rows_affected":0}
{"level":"debug","ts":1603109759.367934,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.0028437,"rows_affected":0}
{"level":"debug","ts":1603109759.3696852,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008187,"rows_affected":1}
{"level":"debug","ts":1603109759.3714836,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007299,"rows_affected":0}
{"level":"debug","ts":1603109759.3738565,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0013475,"rows_affected":0}
{"level":"debug","ts":1603109759.3861213,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0094373,"rows_affected":0}
{"level":"debug","ts":1603109759.3917134,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0028731,"rows_affected":0}
{"level":"debug","ts":1603109759.3964365,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0018751,"rows_affected":0}
{"level":"debug","ts":1603109759.4013586,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0024507,"rows_affected":0}
{"level":"debug","ts":1603109759.4131515,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0095317,"rows_affected":0}
{"level":"debug","ts":1603109759.4181294,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.002607,"rows_affected":0}
{"level":"debug","ts":1603109759.4222443,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0019867,"rows_affected":0}
{"level":"debug","ts":1603109759.4317722,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0053503,"rows_affected":0}
{"level":"debug","ts":1603109759.4353979,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.0023381,"rows_affected":0}
{"level":"debug","ts":1603109759.4376137,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008656,"rows_affected":1}
{"level":"debug","ts":1603109759.4396703,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009973,"rows_affected":0}
{"level":"debug","ts":1603109759.483105,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.0005764,"rows_affected":0}
{"level":"debug","ts":1603109759.4937987,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005612,"rows_affected":1}
{"level":"debug","ts":1603109759.4954195,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006522,"rows_affected":0}
{"level":"debug","ts":1603109759.497042,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0006738,"rows_affected":0}
{"level":"debug","ts":1603109759.49844,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005539,"rows_affected":1}
{"level":"debug","ts":1603109759.5002234,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006532,"rows_affected":0}
{"level":"debug","ts":1603109759.501649,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.0005659,"rows_affected":1}
{"level":"debug","ts":1603109759.5030925,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005289,"rows_affected":1}
{"level":"debug","ts":1603109759.504584,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000596,"rows_affected":0}
{"level":"debug","ts":1603109759.509983,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.0045779,"rows_affected":0}
{"level":"debug","ts":1603109759.5114734,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005393,"rows_affected":1}
{"level":"debug","ts":1603109759.512829,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005394,"rows_affected":0}
{"level":"debug","ts":1603109759.5140936,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.0005962,"rows_affected":0}
{"level":"debug","ts":1603109759.5242736,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.0078421,"rows_affected":0}
{"level":"debug","ts":1603109759.5308158,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0032246,"rows_affected":0}
{"level":"debug","ts":1603109759.5337417,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.0020035,"rows_affected":0}
{"level":"debug","ts":1603109759.535265,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005714,"rows_affected":1}
{"level":"debug","ts":1603109759.5372846,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007776,"rows_affected":0}
{"level":"debug","ts":1603109759.5528162,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.0005782,"rows_affected":0}
{"level":"debug","ts":1603109759.5622716,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008486,"rows_affected":1}
{"level":"debug","ts":1603109759.5641434,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008486,"rows_affected":0}
{"level":"debug","ts":1603109759.5732017,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0068843,"rows_affected":0}
{"level":"debug","ts":1603109759.5779047,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.0024788,"rows_affected":0}
{"level":"debug","ts":1603109759.5819402,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.0020127,"rows_affected":0}
{"level":"debug","ts":1603109759.583658,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.0009713,"rows_affected":0}
{"level":"debug","ts":1603109759.5854905,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006449,"rows_affected":1}
{"level":"debug","ts":1603109759.586848,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006259,"rows_affected":0}
{"level":"debug","ts":1603109759.588319,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0006073,"rows_affected":0}
{"level":"debug","ts":1603109759.5896087,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005171,"rows_affected":1}
{"level":"debug","ts":1603109759.5908432,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000585,"rows_affected":0}
{"level":"debug","ts":1603109759.600954,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0076843,"rows_affected":0}
{"level":"debug","ts":1603109759.6059346,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.0023642,"rows_affected":0}
{"level":"debug","ts":1603109759.607453,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005028,"rows_affected":1}
{"level":"debug","ts":1603109759.6086605,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005459,"rows_affected":0}
{"level":"debug","ts":1603109759.6109724,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.0014514,"rows_affected":0}
{"level":"debug","ts":1603109759.6129568,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009782,"rows_affected":1}
{"level":"debug","ts":1603109759.6146915,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005543,"rows_affected":0}
{"level":"debug","ts":1603109759.6160932,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.0004524,"rows_affected":0}
{"level":"debug","ts":1603109759.6175082,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006475,"rows_affected":1}
{"level":"debug","ts":1603109759.6190464,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007871,"rows_affected":0}
{"level":"debug","ts":1603109759.6205318,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0004655,"rows_affected":0}
{"level":"debug","ts":1603109759.6225588,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.0012412,"rows_affected":0}
{"level":"debug","ts":1603109759.633894,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0085139,"rows_affected":0}
{"level":"debug","ts":1603109759.639957,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.003643,"rows_affected":0}
{"level":"debug","ts":1603109759.641515,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005758,"rows_affected":1}
{"level":"debug","ts":1603109759.6432543,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007948,"rows_affected":0}
{"level":"debug","ts":1603109759.6447406,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.0004574,"rows_affected":0}
{"level":"debug","ts":1603109759.6477334,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012407,"rows_affected":1}
{"level":"debug","ts":1603109759.6554234,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0047252,"rows_affected":0}
{"level":"debug","ts":1603109759.6628096,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.0060686,"rows_affected":0}
{"level":"debug","ts":1603109759.6655407,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009732,"rows_affected":1}
{"level":"debug","ts":1603109759.6678827,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009651,"rows_affected":0}
{"level":"debug","ts":1603109759.6695976,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.000692,"rows_affected":0}
{"level":"debug","ts":1603109759.6720903,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0016713,"rows_affected":0}
{"level":"debug","ts":1603109759.6920063,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0163781,"rows_affected":0}
{"level":"debug","ts":1603109759.7007208,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0057775,"rows_affected":0}
{"level":"debug","ts":1603109759.7028944,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.00083,"rows_affected":1}
{"level":"debug","ts":1603109759.705717,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010929,"rows_affected":0}
{"level":"debug","ts":1603109759.7089632,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.0014959,"rows_affected":0}
{"level":"debug","ts":1603109759.7107887,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0006902,"rows_affected":0}
{"level":"debug","ts":1603109759.7132063,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0010701,"rows_affected":0}
{"level":"debug","ts":1603109759.715188,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0008907,"rows_affected":0}
{"level":"debug","ts":1603109759.7219067,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0057466,"rows_affected":0}
{"level":"debug","ts":1603109759.7258432,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0023879,"rows_affected":0}
{"level":"debug","ts":1603109759.729435,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0019749,"rows_affected":0}
{"level":"debug","ts":1603109759.7327,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.002237,"rows_affected":0}
{"level":"debug","ts":1603109759.7353902,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.0015545,"rows_affected":0}
{"level":"debug","ts":1603109759.7381096,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.0010117,"rows_affected":0}
{"level":"debug","ts":1603109759.7444422,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0052601,"rows_affected":0}
{"level":"debug","ts":1603109759.748501,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0031089,"rows_affected":0}
{"level":"debug","ts":1603109759.7563276,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0065971,"rows_affected":0}
{"level":"debug","ts":1603109759.758221,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000931,"rows_affected":1}
{"level":"debug","ts":1603109759.7607253,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012193,"rows_affected":0}
{"level":"debug","ts":1603109759.7634115,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.0015671,"rows_affected":0}
{"level":"debug","ts":1603109759.7765846,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.0100172,"rows_affected":0}
{"level":"debug","ts":1603109759.77824,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007469,"rows_affected":1}
{"level":"debug","ts":1603109759.7809508,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013033,"rows_affected":0}
{"level":"debug","ts":1603109759.8355029,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0006641,"rows_affected":0}
{"level":"debug","ts":1603109759.8531048,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008434,"rows_affected":1}
{"level":"debug","ts":1603109759.8553555,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012484,"rows_affected":0}
{"level":"debug","ts":1603109759.8571334,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.0008371,"rows_affected":0}
{"level":"debug","ts":1603109759.8594916,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000935,"rows_affected":1}
{"level":"debug","ts":1603109759.8618157,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009798,"rows_affected":0}
{"level":"debug","ts":1603109759.8639617,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.0011173,"rows_affected":0}
{"level":"debug","ts":1603109759.866062,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009285,"rows_affected":1}
{"level":"debug","ts":1603109759.8682885,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011007,"rows_affected":0}
{"level":"debug","ts":1603109759.870553,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.001008,"rows_affected":0}
{"level":"debug","ts":1603109759.8734295,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0020805,"rows_affected":0}
{"level":"debug","ts":1603109759.887946,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.011342,"rows_affected":0}
{"level":"debug","ts":1603109759.8934946,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0030479,"rows_affected":0}
{"level":"debug","ts":1603109759.8953953,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006486,"rows_affected":1}
{"level":"debug","ts":1603109759.8971262,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.00071,"rows_affected":0}
{"level":"debug","ts":1603109759.9185605,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.0007346,"rows_affected":0}
{"level":"debug","ts":1603109759.9268048,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006169,"rows_affected":1}
{"level":"debug","ts":1603109759.9293747,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007024,"rows_affected":0}
{"level":"debug","ts":1603109759.9553046,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008122,"rows_affected":1}
{"level":"debug","ts":1603109759.957136,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006212,"rows_affected":0}
{"level":"debug","ts":1603109759.9651117,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.0069071,"rows_affected":0}
{"level":"debug","ts":1603109759.9666274,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005898,"rows_affected":1}
{"level":"debug","ts":1603109759.9684548,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007254,"rows_affected":0}
{"level":"debug","ts":1603109759.970578,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0012666,"rows_affected":0}
{"level":"debug","ts":1603109759.9728167,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009777,"rows_affected":1}
{"level":"debug","ts":1603109759.9746203,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000974,"rows_affected":0}
{"level":"debug","ts":1603109759.976437,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0006006,"rows_affected":0}
{"level":"debug","ts":1603109759.9786556,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008985,"rows_affected":1}
{"level":"debug","ts":1603109759.980386,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008244,"rows_affected":0}
{"level":"debug","ts":1603109759.9819129,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0005175,"rows_affected":0}
{"level":"debug","ts":1603109759.9838076,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007025,"rows_affected":1}
{"level":"debug","ts":1603109759.985814,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007211,"rows_affected":0}
{"level":"debug","ts":1603109759.9877276,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.0008196,"rows_affected":0}
{"level":"debug","ts":1603109759.9895597,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0007351,"rows_affected":0}
{"level":"debug","ts":1603109759.991941,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.0005326,"rows_affected":0}
{"level":"debug","ts":1603109759.9936397,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000525,"rows_affected":1}
{"level":"debug","ts":1603109759.994824,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005353,"rows_affected":0}
{"level":"debug","ts":1603109760.0073032,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.0101394,"rows_affected":0}
{"level":"debug","ts":1603109760.008788,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006726,"rows_affected":1}
{"level":"debug","ts":1603109760.0102508,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000743,"rows_affected":0}
{"level":"debug","ts":1603109760.0860558,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.0741596,"rows_affected":0}
{"level":"debug","ts":1603109760.08768,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006182,"rows_affected":1}
{"level":"debug","ts":1603109760.089135,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007674,"rows_affected":0}
{"level":"debug","ts":1603109760.0950515,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.0047965,"rows_affected":0}
{"level":"debug","ts":1603109760.100386,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.0038808,"rows_affected":0}
{"level":"debug","ts":1603109760.104399,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0027586,"rows_affected":0}
{"level":"debug","ts":1603109760.1104038,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.0050457,"rows_affected":0}
{"level":"debug","ts":1603109760.1262162,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.0146694,"rows_affected":0}
{"level":"debug","ts":1603109760.1283443,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009468,"rows_affected":1}
{"level":"debug","ts":1603109760.1318648,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009869,"rows_affected":0}
{"level":"debug","ts":1603109760.1507108,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0178005,"rows_affected":0}
{"level":"debug","ts":1603109760.1760635,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0239722,"rows_affected":0}
{"level":"debug","ts":1603109760.1779525,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0012862,"rows_affected":0}
{"level":"debug","ts":1603109760.1803007,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.00049,"rows_affected":0}
{"level":"debug","ts":1603109760.1881835,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0069443,"rows_affected":0}
{"level":"debug","ts":1603109760.189663,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006064,"rows_affected":1}
{"level":"debug","ts":1603109760.1917326,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006577,"rows_affected":0}
{"level":"debug","ts":1603109760.2095907,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.0167427,"rows_affected":0}
{"level":"debug","ts":1603109760.2112336,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006143,"rows_affected":1}
{"level":"debug","ts":1603109760.212489,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006368,"rows_affected":0}
{"level":"debug","ts":1603109760.3127935,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.0996389,"rows_affected":0}
{"level":"debug","ts":1603109760.3144581,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000797,"rows_affected":1}
{"level":"debug","ts":1603109760.3160589,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006707,"rows_affected":0}
{"level":"debug","ts":1603109760.3197072,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.0025416,"rows_affected":0}
{"level":"debug","ts":1603109760.3210428,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005891,"rows_affected":1}
{"level":"debug","ts":1603109760.32209,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006509,"rows_affected":0}
{"level":"debug","ts":1603109760.3584216,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.0358195,"rows_affected":0}
{"level":"debug","ts":1603109760.360545,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005803,"rows_affected":1}
{"level":"debug","ts":1603109760.362152,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008233,"rows_affected":0}
{"level":"debug","ts":1603109760.3745055,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.0113692,"rows_affected":0}
{"level":"debug","ts":1603109760.3760786,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005972,"rows_affected":1}
{"level":"debug","ts":1603109760.3773632,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006491,"rows_affected":0}
{"level":"debug","ts":1603109760.3785758,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0003734,"rows_affected":0}
{"level":"debug","ts":1603109760.3798342,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005346,"rows_affected":1}
{"level":"debug","ts":1603109760.381356,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006534,"rows_affected":0}
{"level":"debug","ts":1603109760.3827329,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.0006116,"rows_affected":0}
{"level":"debug","ts":1603109760.3841095,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006285,"rows_affected":1}
{"level":"debug","ts":1603109760.3853586,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006127,"rows_affected":0}
{"level":"debug","ts":1603109760.399772,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.0136465,"rows_affected":0}
{"level":"debug","ts":1603109760.4023726,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008535,"rows_affected":1}
{"level":"debug","ts":1603109760.4036825,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007208,"rows_affected":0}
{"level":"debug","ts":1603109760.4050703,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.0005838,"rows_affected":0}
{"level":"debug","ts":1603109760.406348,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005259,"rows_affected":1}
{"level":"debug","ts":1603109760.4076462,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005726,"rows_affected":0}
{"level":"debug","ts":1603109760.4110548,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.002631,"rows_affected":0}
{"level":"debug","ts":1603109760.4123404,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005572,"rows_affected":1}
{"level":"debug","ts":1603109760.4136293,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006588,"rows_affected":0}
{"level":"debug","ts":1603109760.417671,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.0032811,"rows_affected":0}
{"level":"debug","ts":1603109760.418811,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005334,"rows_affected":1}
{"level":"debug","ts":1603109760.4206636,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007788,"rows_affected":0}
{"level":"debug","ts":1603109760.5015588,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.0801978,"rows_affected":0}
{"level":"debug","ts":1603109760.503552,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009924,"rows_affected":1}
{"level":"debug","ts":1603109760.5049798,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000701,"rows_affected":0}
{"level":"debug","ts":1603109760.5103161,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.004541,"rows_affected":0}
{"level":"debug","ts":1603109760.5117803,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006983,"rows_affected":1}
{"level":"debug","ts":1603109760.5130856,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006192,"rows_affected":0}
{"level":"debug","ts":1603109760.5302103,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0164433,"rows_affected":0}
{"level":"debug","ts":1603109760.5316365,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000534,"rows_affected":1}
{"level":"debug","ts":1603109760.5328135,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005828,"rows_affected":0}
{"level":"debug","ts":1603109760.7227437,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.1891255,"rows_affected":0}
{"level":"debug","ts":1603109760.724875,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000739,"rows_affected":1}
{"level":"debug","ts":1603109760.7271852,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013282,"rows_affected":0}
{"level":"debug","ts":1603109760.7357216,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.0058522,"rows_affected":0}
{"level":"debug","ts":1603109760.73931,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0020207,"rows_affected":1}
{"level":"debug","ts":1603109760.74132,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009611,"rows_affected":0}
{"level":"debug","ts":1603109760.7575758,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.0138097,"rows_affected":0}
{"level":"debug","ts":1603109760.7591918,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007783,"rows_affected":1}
{"level":"debug","ts":1603109760.7608287,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007688,"rows_affected":0}
{"level":"debug","ts":1603109760.8134003,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0515331,"rows_affected":0}
{"level":"debug","ts":1603109760.815161,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000764,"rows_affected":1}
{"level":"debug","ts":1603109760.817132,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006293,"rows_affected":0}
{"level":"debug","ts":1603109760.8275898,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.0097358,"rows_affected":0}
{"level":"debug","ts":1603109760.8288891,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005595,"rows_affected":1}
{"level":"debug","ts":1603109760.8302817,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006485,"rows_affected":0}
{"level":"debug","ts":1603109760.8344388,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.0036145,"rows_affected":0}
{"level":"debug","ts":1603109760.835773,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005087,"rows_affected":1}
{"level":"debug","ts":1603109760.8370776,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000633,"rows_affected":0}
{"level":"debug","ts":1603109760.8517234,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.0140939,"rows_affected":0}
{"level":"debug","ts":1603109760.8536303,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007056,"rows_affected":1}
{"level":"debug","ts":1603109760.856336,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006209,"rows_affected":0}
{"level":"debug","ts":1603109760.8649292,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.0076892,"rows_affected":0}
{"level":"debug","ts":1603109760.8675241,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008998,"rows_affected":1}
{"level":"debug","ts":1603109760.8694158,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010211,"rows_affected":0}
{"level":"debug","ts":1603109760.8708532,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.0004224,"rows_affected":0}
{"level":"debug","ts":1603109760.8720946,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005717,"rows_affected":1}
{"level":"debug","ts":1603109760.873531,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006079,"rows_affected":0}
{"level":"debug","ts":1603109760.874932,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.0005092,"rows_affected":0}
{"level":"debug","ts":1603109760.8761635,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005814,"rows_affected":1}
{"level":"debug","ts":1603109760.8777394,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000592,"rows_affected":0}
{"level":"debug","ts":1603109760.8900836,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.0116143,"rows_affected":0}
{"level":"debug","ts":1603109760.89162,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005132,"rows_affected":1}
{"level":"debug","ts":1603109760.8927667,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005615,"rows_affected":0}
{"level":"debug","ts":1603109760.8942714,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0007604,"rows_affected":0}
{"level":"debug","ts":1603109760.8952868,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005246,"rows_affected":1}
{"level":"debug","ts":1603109760.896489,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005988,"rows_affected":0}
{"level":"debug","ts":1603109760.9207416,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.0231772,"rows_affected":0}
{"level":"debug","ts":1603109760.9227715,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009059,"rows_affected":1}
{"level":"info","ts":1603109763.780981,"caller":"store/key_store.go:73","msg":"Unlocked account 0x2f1fB0c4e64D8e71cA95De353F9f3dF628864907","address":"0x2f1fB0c4e64D8e71cA95De353F9f3dF628864907"}
{"level":"debug","ts":1603109763.783786,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603109763.8484697,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603109763.8493242,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603109763.862815,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603109763.8676074,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603109763.8691263,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603109763.870404,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603109763.8722568,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0x2f1fB0c4e64D8e71cA95De353F9f3dF628864907\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603109763.874717,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603109763.8756769,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603109763.87644,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8771262,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109763.877847,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603109763.8786302,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603109763.8793392,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603109763.880298,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8812609,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8819098,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8828664,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8834774,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8838768,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603109763.8848526,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8868608,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109763.88769,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109763.888385,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8894143,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109763.8905177,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109763.891367,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603109763.892063,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8908508,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603109763.8935022,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0x2f1fB0c4e64D8e71cA95De353F9f3dF628864907"}
{"level":"debug","ts":1603109763.893059,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109763.895073,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109763.8958387,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8964102,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8971727,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8978593,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8984656,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109763.8992755,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109763.9000256,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603109763.90085,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109763.9017427,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109763.9025245,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109763.9034526,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603109763.904277,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109763.9049642,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109763.9140341,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x2f1fB0c4e64D8e71cA95De353F9f3dF628864907","blockNumber":"<nil>"}
{"level":"info","ts":1603109763.91808,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"info","ts":1603109763.918277,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0x2f1fB0c4e64D8e71cA95De353F9f3dF628864907: 0.000000000000000000","address":"0x2f1fB0c4e64D8e71cA95De353F9f3dF628864907","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"info","ts":1603109763.9213376,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"info","ts":1603109796.021081,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"info","ts":1603109796.02285,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"info","ts":1603109801.2547252,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109801.2564876,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109801.2576883,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109801.2615023,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109802.2816327,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 192.168.240.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109802.2854602,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 192.168.240.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109803.7052388,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109803.7064865,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109803.7140975,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109803.7177374,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603109803.810899,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0018479,"rows_affected":0}
{"level":"warn","ts":1603109803.812356,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603109803.8365703,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0108703,"rows_affected":0}
{"level":"debug","ts":1603109803.8403597,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0019037,"rows_affected":0}
{"level":"debug","ts":1603109803.8555248,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.0100614,"rows_affected":0}
{"level":"debug","ts":1603109803.87515,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.0156113,"rows_affected":0}
{"level":"debug","ts":1603109803.8873463,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.0083794,"rows_affected":0}
{"level":"debug","ts":1603109803.9052947,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0099756,"rows_affected":0}
{"level":"debug","ts":1603109803.9211996,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.0116745,"rows_affected":0}
{"level":"debug","ts":1603109803.9290378,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0041097,"rows_affected":0}
{"level":"debug","ts":1603109803.9417205,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0088948,"rows_affected":0}
{"level":"debug","ts":1603109803.951604,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0042674,"rows_affected":0}
{"level":"debug","ts":1603109803.960771,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0052295,"rows_affected":0}
{"level":"debug","ts":1603109803.9705932,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0052587,"rows_affected":0}
{"level":"debug","ts":1603109803.9829295,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.0064528,"rows_affected":0}
{"level":"debug","ts":1603109804.0024374,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0155173,"rows_affected":0}
{"level":"debug","ts":1603109804.01219,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.0049373,"rows_affected":0}
{"level":"debug","ts":1603109804.0202007,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.0038966,"rows_affected":0}
{"level":"debug","ts":1603109804.0270236,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.0034449,"rows_affected":0}
{"level":"debug","ts":1603109804.0357292,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.0055137,"rows_affected":0}
{"level":"debug","ts":1603109804.044811,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.0045728,"rows_affected":0}
{"level":"debug","ts":1603109804.0649686,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0133016,"rows_affected":0}
{"level":"debug","ts":1603109804.0738268,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.0051435,"rows_affected":0}
{"level":"debug","ts":1603109804.0798004,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0029189,"rows_affected":0}
{"level":"debug","ts":1603109804.0861015,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.0032542,"rows_affected":0}
{"level":"debug","ts":1603109804.0965078,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0066602,"rows_affected":0}
{"level":"debug","ts":1603109804.1168377,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.0130822,"rows_affected":0}
{"level":"debug","ts":1603109804.1326854,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0121185,"rows_affected":0}
{"level":"debug","ts":1603109804.1460629,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.0089382,"rows_affected":0}
{"level":"debug","ts":1603109804.1599257,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.0109996,"rows_affected":0}
{"level":"debug","ts":1603109804.1673207,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.0037996,"rows_affected":0}
{"level":"debug","ts":1603109804.174103,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0034521,"rows_affected":0}
{"level":"debug","ts":1603109804.182768,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0058003,"rows_affected":0}
{"level":"debug","ts":1603109804.1876795,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.002625,"rows_affected":0}
{"level":"debug","ts":1603109804.193142,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0031309,"rows_affected":0}
{"level":"debug","ts":1603109804.2006085,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.0053564,"rows_affected":0}
{"level":"debug","ts":1603109804.2117126,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0049528,"rows_affected":0}
{"level":"debug","ts":1603109804.216251,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.0027064,"rows_affected":0}
{"level":"debug","ts":1603109804.2205672,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.0024709,"rows_affected":0}
{"level":"debug","ts":1603109804.2251208,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.0026953,"rows_affected":0}
{"level":"debug","ts":1603109804.2330647,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.0059801,"rows_affected":0}
{"level":"debug","ts":1603109804.2369626,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0018096,"rows_affected":0}
{"level":"debug","ts":1603109804.2400603,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.001255,"rows_affected":0}
{"level":"debug","ts":1603109804.2444923,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.0026274,"rows_affected":0}
{"level":"debug","ts":1603109804.2507155,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0044547,"rows_affected":0}
{"level":"debug","ts":1603109804.2558167,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0029589,"rows_affected":0}
{"level":"debug","ts":1603109804.2594569,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0017459,"rows_affected":0}
{"level":"debug","ts":1603109804.265308,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.004122,"rows_affected":0}
{"level":"debug","ts":1603109804.2698236,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0025393,"rows_affected":0}
{"level":"debug","ts":1603109804.2744699,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0026166,"rows_affected":0}
{"level":"debug","ts":1603109804.2809663,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.0044208,"rows_affected":0}
{"level":"debug","ts":1603109804.2856379,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.002626,"rows_affected":0}
{"level":"debug","ts":1603109804.2870464,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006167,"rows_affected":1}
{"level":"debug","ts":1603109804.2884274,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006312,"rows_affected":0}
{"level":"debug","ts":1603109804.2901125,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0008911,"rows_affected":0}
{"level":"debug","ts":1603109804.3002677,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0083951,"rows_affected":0}
{"level":"debug","ts":1603109804.3049228,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0027453,"rows_affected":0}
{"level":"debug","ts":1603109804.3106706,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0034547,"rows_affected":0}
{"level":"debug","ts":1603109804.3149512,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0020418,"rows_affected":0}
{"level":"debug","ts":1603109804.325821,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0081014,"rows_affected":0}
{"level":"debug","ts":1603109804.3297708,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0017036,"rows_affected":0}
{"level":"debug","ts":1603109804.3357482,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0035015,"rows_affected":0}
{"level":"debug","ts":1603109804.3406143,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.002847,"rows_affected":0}
{"level":"debug","ts":1603109804.34276,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.001267,"rows_affected":0}
{"level":"debug","ts":1603109804.3441274,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005981,"rows_affected":1}
{"level":"debug","ts":1603109804.3454368,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006318,"rows_affected":0}
{"level":"debug","ts":1603109804.3651366,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.0004573,"rows_affected":0}
{"level":"debug","ts":1603109804.3719676,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005433,"rows_affected":1}
{"level":"debug","ts":1603109804.3732896,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004812,"rows_affected":0}
{"level":"debug","ts":1603109804.3748229,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0006774,"rows_affected":0}
{"level":"debug","ts":1603109804.3760877,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004795,"rows_affected":1}
{"level":"debug","ts":1603109804.3775418,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005152,"rows_affected":0}
{"level":"debug","ts":1603109804.37888,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.0005798,"rows_affected":1}
{"level":"debug","ts":1603109804.3802223,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006156,"rows_affected":1}
{"level":"debug","ts":1603109804.3816233,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007279,"rows_affected":0}
{"level":"debug","ts":1603109804.385431,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.0029337,"rows_affected":0}
{"level":"debug","ts":1603109804.386251,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003467,"rows_affected":1}
{"level":"debug","ts":1603109804.3872662,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0003401,"rows_affected":0}
{"level":"debug","ts":1603109804.3882942,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.0004144,"rows_affected":0}
{"level":"debug","ts":1603109804.3953264,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.0054894,"rows_affected":0}
{"level":"debug","ts":1603109804.4006429,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0032225,"rows_affected":0}
{"level":"debug","ts":1603109804.4021199,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.0006835,"rows_affected":0}
{"level":"debug","ts":1603109804.4035285,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004995,"rows_affected":1}
{"level":"debug","ts":1603109804.4046528,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005535,"rows_affected":0}
{"level":"debug","ts":1603109804.4159698,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.0003825,"rows_affected":0}
{"level":"debug","ts":1603109804.422226,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006515,"rows_affected":1}
{"level":"debug","ts":1603109804.4237719,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006575,"rows_affected":0}
{"level":"debug","ts":1603109804.4306698,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0052461,"rows_affected":0}
{"level":"debug","ts":1603109804.4360573,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.0034307,"rows_affected":0}
{"level":"debug","ts":1603109804.441798,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.0037234,"rows_affected":0}
{"level":"debug","ts":1603109804.4446383,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.001589,"rows_affected":0}
{"level":"debug","ts":1603109804.4464602,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005564,"rows_affected":1}
{"level":"debug","ts":1603109804.4480972,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000597,"rows_affected":0}
{"level":"debug","ts":1603109804.4498286,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0005669,"rows_affected":0}
{"level":"debug","ts":1603109804.4519808,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010756,"rows_affected":1}
{"level":"debug","ts":1603109804.4536636,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006773,"rows_affected":0}
{"level":"debug","ts":1603109804.465858,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0098034,"rows_affected":0}
{"level":"debug","ts":1603109804.471026,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.0032838,"rows_affected":0}
{"level":"debug","ts":1603109804.4724355,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004685,"rows_affected":1}
{"level":"debug","ts":1603109804.47374,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004889,"rows_affected":0}
{"level":"debug","ts":1603109804.4753213,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.0008182,"rows_affected":0}
{"level":"debug","ts":1603109804.4767344,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005521,"rows_affected":1}
{"level":"debug","ts":1603109804.4782157,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004721,"rows_affected":0}
{"level":"debug","ts":1603109804.4795446,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.0004217,"rows_affected":0}
{"level":"debug","ts":1603109804.4808843,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.00057,"rows_affected":1}
{"level":"debug","ts":1603109804.4822762,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004879,"rows_affected":0}
{"level":"debug","ts":1603109804.4836674,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.000491,"rows_affected":0}
{"level":"debug","ts":1603109804.4852345,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.0007111,"rows_affected":0}
{"level":"debug","ts":1603109804.4936242,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0064727,"rows_affected":0}
{"level":"debug","ts":1603109804.4999325,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0040415,"rows_affected":0}
{"level":"debug","ts":1603109804.5016725,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005562,"rows_affected":1}
{"level":"debug","ts":1603109804.5029452,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004583,"rows_affected":0}
{"level":"debug","ts":1603109804.5041065,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.0003329,"rows_affected":0}
{"level":"debug","ts":1603109804.5052989,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003946,"rows_affected":1}
{"level":"debug","ts":1603109804.507589,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006587,"rows_affected":0}
{"level":"debug","ts":1603109804.510373,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.0016252,"rows_affected":0}
{"level":"debug","ts":1603109804.5120707,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005118,"rows_affected":1}
{"level":"debug","ts":1603109804.5135674,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005626,"rows_affected":0}
{"level":"debug","ts":1603109804.514835,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.000399,"rows_affected":0}
{"level":"debug","ts":1603109804.516328,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0007763,"rows_affected":0}
{"level":"debug","ts":1603109804.525877,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0073273,"rows_affected":0}
{"level":"debug","ts":1603109804.5311627,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0029263,"rows_affected":0}
{"level":"debug","ts":1603109804.5326362,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004662,"rows_affected":1}
{"level":"debug","ts":1603109804.5339708,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005286,"rows_affected":0}
{"level":"debug","ts":1603109804.535839,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.0008299,"rows_affected":0}
{"level":"debug","ts":1603109804.5372133,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0004861,"rows_affected":0}
{"level":"debug","ts":1603109804.538842,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0005932,"rows_affected":0}
{"level":"debug","ts":1603109804.5407982,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0008383,"rows_affected":0}
{"level":"debug","ts":1603109804.5467072,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0046009,"rows_affected":0}
{"level":"debug","ts":1603109804.548813,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0012365,"rows_affected":0}
{"level":"debug","ts":1603109804.5504997,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0009874,"rows_affected":0}
{"level":"debug","ts":1603109804.5524042,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0008356,"rows_affected":0}
{"level":"debug","ts":1603109804.5539427,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.0007455,"rows_affected":0}
{"level":"debug","ts":1603109804.555215,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.0004633,"rows_affected":0}
{"level":"debug","ts":1603109804.5596406,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0037522,"rows_affected":0}
{"level":"debug","ts":1603109804.5612826,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0009845,"rows_affected":0}
{"level":"debug","ts":1603109804.565216,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0032155,"rows_affected":0}
{"level":"debug","ts":1603109804.5663958,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004877,"rows_affected":1}
{"level":"debug","ts":1603109804.5676882,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006497,"rows_affected":0}
{"level":"debug","ts":1603109804.5691357,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.0006199,"rows_affected":0}
{"level":"debug","ts":1603109804.577332,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.0061982,"rows_affected":0}
{"level":"debug","ts":1603109804.578614,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004529,"rows_affected":1}
{"level":"debug","ts":1603109804.5798926,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0003939,"rows_affected":0}
{"level":"debug","ts":1603109804.608009,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0005769,"rows_affected":0}
{"level":"debug","ts":1603109804.6183956,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004306,"rows_affected":1}
{"level":"debug","ts":1603109804.6199505,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006682,"rows_affected":0}
{"level":"debug","ts":1603109804.621319,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.0004595,"rows_affected":0}
{"level":"debug","ts":1603109804.6225092,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004116,"rows_affected":1}
{"level":"debug","ts":1603109804.623908,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004874,"rows_affected":0}
{"level":"debug","ts":1603109804.6256,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.0008314,"rows_affected":0}
{"level":"debug","ts":1603109804.6269991,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006914,"rows_affected":1}
{"level":"debug","ts":1603109804.6285458,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006805,"rows_affected":0}
{"level":"debug","ts":1603109804.6298852,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0004032,"rows_affected":0}
{"level":"debug","ts":1603109804.6318715,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0010556,"rows_affected":0}
{"level":"debug","ts":1603109804.6415074,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.007496,"rows_affected":0}
{"level":"debug","ts":1603109804.6461923,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0023349,"rows_affected":0}
{"level":"debug","ts":1603109804.6477535,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006229,"rows_affected":1}
{"level":"debug","ts":1603109804.6490598,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005277,"rows_affected":0}
{"level":"debug","ts":1603109804.6649957,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.0005085,"rows_affected":0}
{"level":"debug","ts":1603109804.6694562,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009134,"rows_affected":1}
{"level":"debug","ts":1603109804.6714945,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008754,"rows_affected":0}
{"level":"debug","ts":1603109804.6907887,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007233,"rows_affected":1}
{"level":"debug","ts":1603109804.6922634,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006266,"rows_affected":0}
{"level":"debug","ts":1603109804.698203,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.0051997,"rows_affected":0}
{"level":"debug","ts":1603109804.6996,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005773,"rows_affected":1}
{"level":"debug","ts":1603109804.7008586,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005985,"rows_affected":0}
{"level":"debug","ts":1603109804.7020662,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0006485,"rows_affected":0}
{"level":"debug","ts":1603109804.7032783,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000498,"rows_affected":1}
{"level":"debug","ts":1603109804.7046063,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005986,"rows_affected":0}
{"level":"debug","ts":1603109804.7054672,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0003795,"rows_affected":0}
{"level":"debug","ts":1603109804.7067456,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005249,"rows_affected":1}
{"level":"debug","ts":1603109804.7081668,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006091,"rows_affected":0}
{"level":"debug","ts":1603109804.7092807,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0003757,"rows_affected":0}
{"level":"debug","ts":1603109804.7106235,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006574,"rows_affected":1}
{"level":"debug","ts":1603109804.711953,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006886,"rows_affected":0}
{"level":"debug","ts":1603109804.7131524,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.0004819,"rows_affected":0}
{"level":"debug","ts":1603109804.715918,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0019374,"rows_affected":0}
{"level":"debug","ts":1603109804.7173853,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.0004905,"rows_affected":0}
{"level":"debug","ts":1603109804.7185915,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005958,"rows_affected":1}
{"level":"debug","ts":1603109804.719876,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006759,"rows_affected":0}
{"level":"debug","ts":1603109804.7286522,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.006675,"rows_affected":0}
{"level":"debug","ts":1603109804.729935,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005957,"rows_affected":1}
{"level":"debug","ts":1603109804.7311118,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006341,"rows_affected":0}
{"level":"debug","ts":1603109804.7720675,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.0401798,"rows_affected":0}
{"level":"debug","ts":1603109804.7735167,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006834,"rows_affected":1}
{"level":"debug","ts":1603109804.7748327,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005846,"rows_affected":0}
{"level":"debug","ts":1603109804.7778342,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.0022702,"rows_affected":0}
{"level":"debug","ts":1603109804.780143,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.0016622,"rows_affected":0}
{"level":"debug","ts":1603109804.7838814,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0029392,"rows_affected":0}
{"level":"debug","ts":1603109804.7873251,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.0026234,"rows_affected":0}
{"level":"debug","ts":1603109804.794059,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.0060252,"rows_affected":0}
{"level":"debug","ts":1603109804.795519,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007302,"rows_affected":1}
{"level":"debug","ts":1603109804.7971382,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006595,"rows_affected":0}
{"level":"debug","ts":1603109804.8100252,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0118893,"rows_affected":0}
{"level":"debug","ts":1603109804.826844,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0159285,"rows_affected":0}
{"level":"debug","ts":1603109804.8290353,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0008647,"rows_affected":0}
{"level":"debug","ts":1603109804.8302486,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.000416,"rows_affected":0}
{"level":"debug","ts":1603109804.834809,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0038399,"rows_affected":0}
{"level":"debug","ts":1603109804.8361983,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005372,"rows_affected":1}
{"level":"debug","ts":1603109804.8376524,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006445,"rows_affected":0}
{"level":"debug","ts":1603109804.8557897,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.0174997,"rows_affected":0}
{"level":"debug","ts":1603109804.8573775,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006804,"rows_affected":1}
{"level":"debug","ts":1603109804.8587267,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005628,"rows_affected":0}
{"level":"debug","ts":1603109804.9454684,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.0860257,"rows_affected":0}
{"level":"debug","ts":1603109804.9472108,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000909,"rows_affected":1}
{"level":"debug","ts":1603109804.9488952,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008604,"rows_affected":0}
{"level":"debug","ts":1603109804.954368,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.004795,"rows_affected":0}
{"level":"debug","ts":1603109804.9556465,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005126,"rows_affected":1}
{"level":"debug","ts":1603109804.956909,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0003869,"rows_affected":0}
{"level":"debug","ts":1603109804.9882467,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.030536,"rows_affected":0}
{"level":"debug","ts":1603109804.990091,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006686,"rows_affected":1}
{"level":"debug","ts":1603109804.9918194,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008788,"rows_affected":0}
{"level":"debug","ts":1603109805.004191,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.0113486,"rows_affected":0}
{"level":"debug","ts":1603109805.0054955,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004163,"rows_affected":1}
{"level":"debug","ts":1603109805.0069394,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006861,"rows_affected":0}
{"level":"debug","ts":1603109805.0081034,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0003973,"rows_affected":0}
{"level":"debug","ts":1603109805.0094645,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005401,"rows_affected":1}
{"level":"debug","ts":1603109805.0106592,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006139,"rows_affected":0}
{"level":"debug","ts":1603109805.0119934,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.000553,"rows_affected":0}
{"level":"debug","ts":1603109805.0131853,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004896,"rows_affected":1}
{"level":"debug","ts":1603109805.0144615,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006328,"rows_affected":0}
{"level":"debug","ts":1603109805.0280497,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.012812,"rows_affected":0}
{"level":"debug","ts":1603109805.0301096,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007412,"rows_affected":1}
{"level":"debug","ts":1603109805.031452,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007434,"rows_affected":0}
{"level":"debug","ts":1603109805.0327845,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.0007195,"rows_affected":0}
{"level":"debug","ts":1603109805.034261,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006578,"rows_affected":1}
{"level":"debug","ts":1603109805.0356658,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007136,"rows_affected":0}
{"level":"debug","ts":1603109805.0388825,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.0025941,"rows_affected":0}
{"level":"debug","ts":1603109805.040431,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006115,"rows_affected":1}
{"level":"debug","ts":1603109805.041826,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007212,"rows_affected":0}
{"level":"debug","ts":1603109805.0448759,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.0022422,"rows_affected":0}
{"level":"debug","ts":1603109805.047049,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007343,"rows_affected":1}
{"level":"debug","ts":1603109805.0486925,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007638,"rows_affected":0}
{"level":"debug","ts":1603109805.1219203,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.0723861,"rows_affected":0}
{"level":"debug","ts":1603109805.1238904,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006477,"rows_affected":1}
{"level":"debug","ts":1603109805.1253808,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006,"rows_affected":0}
{"level":"debug","ts":1603109805.1297913,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.0031973,"rows_affected":0}
{"level":"debug","ts":1603109805.1312692,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006956,"rows_affected":1}
{"level":"debug","ts":1603109805.1329448,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006233,"rows_affected":0}
{"level":"debug","ts":1603109805.1474013,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0136555,"rows_affected":0}
{"level":"debug","ts":1603109805.1491616,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006494,"rows_affected":1}
{"level":"debug","ts":1603109805.1509173,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009,"rows_affected":0}
{"level":"debug","ts":1603109805.3122506,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.1602635,"rows_affected":0}
{"level":"debug","ts":1603109805.314382,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006531,"rows_affected":1}
{"level":"debug","ts":1603109805.31627,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007519,"rows_affected":0}
{"level":"debug","ts":1603109805.3211434,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.0036194,"rows_affected":0}
{"level":"debug","ts":1603109805.322801,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005717,"rows_affected":1}
{"level":"debug","ts":1603109805.3240905,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006427,"rows_affected":0}
{"level":"debug","ts":1603109805.3330078,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.0081282,"rows_affected":0}
{"level":"debug","ts":1603109805.3342874,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005803,"rows_affected":1}
{"level":"debug","ts":1603109805.335706,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007343,"rows_affected":0}
{"level":"debug","ts":1603109805.382977,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0465547,"rows_affected":0}
{"level":"debug","ts":1603109805.3846815,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008327,"rows_affected":1}
{"level":"debug","ts":1603109805.3862534,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009838,"rows_affected":0}
{"level":"debug","ts":1603109805.3979647,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.0109942,"rows_affected":0}
{"level":"debug","ts":1603109805.3994412,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005885,"rows_affected":1}
{"level":"debug","ts":1603109805.4006445,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000632,"rows_affected":0}
{"level":"debug","ts":1603109805.406966,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.0048115,"rows_affected":0}
{"level":"debug","ts":1603109805.4082966,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006471,"rows_affected":1}
{"level":"debug","ts":1603109805.4096746,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006681,"rows_affected":0}
{"level":"debug","ts":1603109805.4231648,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.0128775,"rows_affected":0}
{"level":"debug","ts":1603109805.425035,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005164,"rows_affected":1}
{"level":"debug","ts":1603109805.4262166,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005975,"rows_affected":0}
{"level":"debug","ts":1603109805.4334557,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.0065936,"rows_affected":0}
{"level":"debug","ts":1603109805.434779,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004458,"rows_affected":1}
{"level":"debug","ts":1603109805.4357536,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004743,"rows_affected":0}
{"level":"debug","ts":1603109805.4367757,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.000344,"rows_affected":0}
{"level":"debug","ts":1603109805.438164,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006804,"rows_affected":1}
{"level":"debug","ts":1603109805.4400163,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007724,"rows_affected":0}
{"level":"debug","ts":1603109805.4420683,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.0009512,"rows_affected":0}
{"level":"debug","ts":1603109805.446992,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008907,"rows_affected":1}
{"level":"debug","ts":1603109805.4492836,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007819,"rows_affected":0}
{"level":"debug","ts":1603109805.4662366,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.0149015,"rows_affected":0}
{"level":"debug","ts":1603109805.467754,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000564,"rows_affected":1}
{"level":"debug","ts":1603109805.4694507,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000804,"rows_affected":0}
{"level":"debug","ts":1603109805.4712455,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0010564,"rows_affected":0}
{"level":"debug","ts":1603109805.4730926,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005935,"rows_affected":1}
{"level":"debug","ts":1603109805.4747722,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007911,"rows_affected":0}
{"level":"debug","ts":1603109805.5067055,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.0307501,"rows_affected":0}
{"level":"debug","ts":1603109805.5085983,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006963,"rows_affected":1}
{"level":"info","ts":1603109808.430927,"caller":"store/key_store.go:73","msg":"Unlocked account 0x9dB41730b609487e0b6e89BFFa3DF28B73E296cc","address":"0x9dB41730b609487e0b6e89BFFa3DF28B73E296cc"}
{"level":"debug","ts":1603109808.4339368,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603109808.4994946,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603109808.5007467,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603109808.511395,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603109808.5159872,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603109808.517717,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603109808.5186706,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603109808.5211415,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0x9dB41730b609487e0b6e89BFFa3DF28B73E296cc\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603109808.5236619,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603109808.5246634,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603109808.525538,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109808.526147,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109808.527033,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603109808.5276344,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603109808.528265,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5291095,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603109808.530038,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5289395,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603109808.5308409,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5326777,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5334342,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5345984,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109808.535524,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109808.536582,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5375147,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109808.538509,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109808.536865,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603109808.539863,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5410023,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5416205,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5403268,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0x9dB41730b609487e0b6e89BFFa3DF28B73E296cc"}
{"level":"debug","ts":1603109808.54238,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109808.543837,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109808.5445824,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109808.545305,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109808.545981,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5466783,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5476959,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5484958,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5491862,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603109808.550068,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109808.5512288,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109808.5522442,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5532532,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5542874,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109808.555418,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109808.5575871,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x9dB41730b609487e0b6e89BFFa3DF28B73E296cc","blockNumber":"<nil>"}
{"level":"info","ts":1603109808.562409,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0x9dB41730b609487e0b6e89BFFa3DF28B73E296cc: 0.000000000000000000","address":"0x9dB41730b609487e0b6e89BFFa3DF28B73E296cc","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"info","ts":1603109808.5650842,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"info","ts":1603109808.576551,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"info","ts":1603109812.662693,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:16:52","latency":"3.1587ms"}
{"level":"info","ts":1603109817.6894565,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:16:57","latency":"5.4163ms"}
{"level":"info","ts":1603109822.6751535,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:17:02","latency":"3.3257ms"}
{"level":"info","ts":1603109827.6963353,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:17:07","latency":"3.09ms"}
{"level":"info","ts":1603109832.7205281,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:17:12","latency":"3.2125ms"}
{"level":"info","ts":1603109837.7402287,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:17:17","latency":"2.9687ms"}
{"level":"info","ts":1603109842.763337,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:17:22","latency":"3.817ms"}
{"level":"info","ts":1603109847.7905161,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:17:27","latency":"6.3282ms"}
{"level":"info","ts":1603109852.777066,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:17:32","latency":"2.1084ms"}
{"level":"info","ts":1603109857.7968812,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:17:37","latency":"4.0667ms"}
{"level":"info","ts":1603109857.821102,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:17:37","latency":"5.2924ms"}
{"level":"debug","ts":1603109858.3065543,"caller":"services/head_tracker.go:277","msg":"Received new head #4 (0x4)","blockHeight":"4","blockHash":"0x3b2a8a008489ca3797f5ceb13f5fbd09481a09db1364cd7198a6dadd5cc8a55c"}
{"level":"debug","ts":1603109858.3295538,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":3}
{"level":"debug","ts":1603109858.331926,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"3"}
{"level":"debug","ts":1603109858.34915,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":2}
{"level":"debug","ts":1603109858.3513868,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"2"}
{"level":"debug","ts":1603109858.3620117,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":1}
{"level":"debug","ts":1603109858.3639781,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"1"}
{"level":"debug","ts":1603109858.3776522,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":0}
{"level":"debug","ts":1603109858.3793693,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"0"}
{"level":"debug","ts":1603109858.390692,"caller":"services/head_tracker.go:386","msg":"HeadTracker: finished backfill","fetched":4,"blockNumber":0,"time":0.0695738,"id":"head_tracker","n":0,"fromBlockHeight":0,"toBlockHeight":-1}
{"level":"debug","ts":1603109858.3938777,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":4,"chainLength":5,"numCallbacks":6}
{"level":"debug","ts":1603109858.3957257,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"1"}
{"level":"debug","ts":1603109858.41877,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 1/24","inHistory":1,"required":24}
{"level":"debug","ts":1603109858.4204147,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 24.551ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":4,"time":0.024551,"id":"head_tracker"}
{"level":"debug","ts":1603109858.4225285,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 27.8µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":4,"time":0.0000278,"id":"head_tracker"}
{"level":"debug","ts":1603109858.4246135,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 40µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":4,"time":0.00004,"id":"head_tracker"}
{"level":"debug","ts":1603109858.4274173,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.5µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":4,"time":0.0000075,"id":"head_tracker"}
{"level":"debug","ts":1603109858.4438486,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x9dB41730b609487e0b6e89BFFa3DF28B73E296cc","blockNumber":"3"}
{"level":"debug","ts":1603109858.4512382,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 22.4434ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":4,"time":0.0224434,"id":"head_tracker"}
{"level":"debug","ts":1603109858.4523485,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.7µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":4,"time":0.0000067,"id":"head_tracker"}
{"level":"debug","ts":1603109858.4533992,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 4 in 146.837ms","blockNumber":4,"time":0.146837,"id":"head_tracker"}
{"level":"debug","ts":1603109964.1344972,"caller":"services/head_tracker.go:277","msg":"Received new head #5 (0x5)","blockHeight":"5","blockHash":"0x21a8451bdbe799dec6e1e08938dc0aa81d60a60ec3ec77e6b2851ce439afe949"}
{"level":"info","ts":1603109964.148242,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.240.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:19:24","latency":"2.7031ms"}
{"level":"debug","ts":1603109964.1489956,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":5,"chainLength":6,"numCallbacks":6}
{"level":"debug","ts":1603109964.1541696,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"2"}
{"level":"debug","ts":1603109964.1836915,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 2/24","inHistory":2,"required":24}
{"level":"debug","ts":1603109964.1863024,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 32.1269ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":5,"time":0.0321269,"id":"head_tracker"}
{"level":"debug","ts":1603109964.187558,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 18.8µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":5,"time":0.0000188,"id":"head_tracker"}
{"level":"debug","ts":1603109964.1888733,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 42.8µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":5,"time":0.0000428,"id":"head_tracker"}
{"level":"debug","ts":1603109964.1901417,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.8µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":5,"time":0.0000078,"id":"head_tracker"}
{"level":"debug","ts":1603109964.1922948,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x9dB41730b609487e0b6e89BFFa3DF28B73E296cc","blockNumber":"4"}
{"level":"debug","ts":1603109964.2005553,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 9.1817ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":5,"time":0.0091817,"id":"head_tracker"}
{"level":"debug","ts":1603109964.2014582,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 8.7µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":5,"time":0.0000087,"id":"head_tracker"}
{"level":"debug","ts":1603109964.202374,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 5 in 67.8591ms","blockNumber":5,"time":0.0678591,"id":"head_tracker"}
{"level":"info","ts":1603109970.0990555,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"info","ts":1603109970.1010518,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"info","ts":1603109980.1567943,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109980.1578827,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109980.158736,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109980.161197,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109980.168349,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109980.175836,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109981.3843782,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109981.385632,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109981.3867815,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109981.391218,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109981.3945131,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 172.27.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109981.3998797,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 172.27.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109982.7467601,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109982.7479546,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109982.7492108,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109982.7537708,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603109982.763826,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 172.27.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603109982.7709742,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 172.27.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603109983.966071,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603109983.9670265,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603109983.9679298,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603109983.9706838,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603109984.0254695,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0012366,"rows_affected":0}
{"level":"warn","ts":1603109984.0268154,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603109984.0492463,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0103821,"rows_affected":0}
{"level":"debug","ts":1603109984.0511947,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010036,"rows_affected":0}
{"level":"debug","ts":1603109984.0629988,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.0090102,"rows_affected":0}
{"level":"debug","ts":1603109984.0755658,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.0095117,"rows_affected":0}
{"level":"debug","ts":1603109984.0903654,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.0114588,"rows_affected":0}
{"level":"debug","ts":1603109984.1007862,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0056297,"rows_affected":0}
{"level":"debug","ts":1603109984.1173022,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.0133693,"rows_affected":0}
{"level":"debug","ts":1603109984.1242883,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0043234,"rows_affected":0}
{"level":"debug","ts":1603109984.1366713,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0088472,"rows_affected":0}
{"level":"debug","ts":1603109984.1433625,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0033803,"rows_affected":0}
{"level":"debug","ts":1603109984.1507273,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0041026,"rows_affected":0}
{"level":"debug","ts":1603109984.1588,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.0049621,"rows_affected":0}
{"level":"debug","ts":1603109984.1684296,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0060941,"rows_affected":0}
{"level":"debug","ts":1603109984.179133,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0081779,"rows_affected":0}
{"level":"debug","ts":1603109984.1855621,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.0041246,"rows_affected":0}
{"level":"debug","ts":1603109984.1909685,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.0028461,"rows_affected":0}
{"level":"debug","ts":1603109984.198701,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.0047575,"rows_affected":0}
{"level":"debug","ts":1603109984.2044084,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.0033689,"rows_affected":0}
{"level":"debug","ts":1603109984.212373,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.0046771,"rows_affected":0}
{"level":"debug","ts":1603109984.2269056,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0114335,"rows_affected":0}
{"level":"debug","ts":1603109984.2348475,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.0047439,"rows_affected":0}
{"level":"debug","ts":1603109984.2433202,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0056605,"rows_affected":0}
{"level":"debug","ts":1603109984.2519343,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.004807,"rows_affected":0}
{"level":"debug","ts":1603109984.2589579,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0040256,"rows_affected":0}
{"level":"debug","ts":1603109984.2693243,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.0077816,"rows_affected":0}
{"level":"debug","ts":1603109984.280569,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0089632,"rows_affected":0}
{"level":"debug","ts":1603109984.2900074,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.0073102,"rows_affected":0}
{"level":"debug","ts":1603109984.2991953,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.0068872,"rows_affected":0}
{"level":"debug","ts":1603109984.3056722,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0042786,"rows_affected":0}
{"level":"debug","ts":1603109984.3114102,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.0036931,"rows_affected":0}
{"level":"debug","ts":1603109984.3201375,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.006797,"rows_affected":0}
{"level":"debug","ts":1603109984.3263028,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.0026488,"rows_affected":0}
{"level":"debug","ts":1603109984.3320732,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0030129,"rows_affected":0}
{"level":"debug","ts":1603109984.3409786,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.0066786,"rows_affected":0}
{"level":"debug","ts":1603109984.3504298,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0074559,"rows_affected":0}
{"level":"debug","ts":1603109984.3583221,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.0053516,"rows_affected":0}
{"level":"debug","ts":1603109984.3657615,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.003918,"rows_affected":0}
{"level":"debug","ts":1603109984.3712635,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.0029596,"rows_affected":0}
{"level":"debug","ts":1603109984.381124,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.0077885,"rows_affected":0}
{"level":"debug","ts":1603109984.3875875,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.0034661,"rows_affected":0}
{"level":"debug","ts":1603109984.3946297,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0036996,"rows_affected":0}
{"level":"debug","ts":1603109984.3990347,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.0023051,"rows_affected":0}
{"level":"debug","ts":1603109984.4083683,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0067418,"rows_affected":0}
{"level":"debug","ts":1603109984.4143574,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0033814,"rows_affected":0}
{"level":"debug","ts":1603109984.4206786,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0033758,"rows_affected":0}
{"level":"debug","ts":1603109984.437401,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.0129302,"rows_affected":0}
{"level":"debug","ts":1603109984.444245,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0034489,"rows_affected":0}
{"level":"debug","ts":1603109984.4506195,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0030364,"rows_affected":0}
{"level":"debug","ts":1603109984.461209,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.0079912,"rows_affected":0}
{"level":"debug","ts":1603109984.469253,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.0045052,"rows_affected":0}
{"level":"debug","ts":1603109984.4709845,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008863,"rows_affected":1}
{"level":"debug","ts":1603109984.4730918,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008782,"rows_affected":0}
{"level":"debug","ts":1603109984.4756224,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0013614,"rows_affected":0}
{"level":"debug","ts":1603109984.4879894,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0093979,"rows_affected":0}
{"level":"debug","ts":1603109984.4935603,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0030987,"rows_affected":0}
{"level":"debug","ts":1603109984.4998834,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0038317,"rows_affected":0}
{"level":"debug","ts":1603109984.5051506,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0033059,"rows_affected":0}
{"level":"debug","ts":1603109984.5153844,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0078403,"rows_affected":0}
{"level":"debug","ts":1603109984.5230374,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0051382,"rows_affected":0}
{"level":"debug","ts":1603109984.5300388,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0037963,"rows_affected":0}
{"level":"debug","ts":1603109984.536279,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.0028391,"rows_affected":0}
{"level":"debug","ts":1603109984.5410094,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.0034801,"rows_affected":0}
{"level":"debug","ts":1603109984.543366,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010135,"rows_affected":1}
{"level":"debug","ts":1603109984.5456276,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010907,"rows_affected":0}
{"level":"debug","ts":1603109984.585905,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.0008834,"rows_affected":0}
{"level":"debug","ts":1603109984.5950165,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007843,"rows_affected":1}
{"level":"debug","ts":1603109984.5965657,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000719,"rows_affected":0}
{"level":"debug","ts":1603109984.5980647,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0007614,"rows_affected":0}
{"level":"debug","ts":1603109984.5992937,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005231,"rows_affected":1}
{"level":"debug","ts":1603109984.6008277,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007186,"rows_affected":0}
{"level":"debug","ts":1603109984.602088,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.0006635,"rows_affected":1}
{"level":"debug","ts":1603109984.6037118,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005387,"rows_affected":1}
{"level":"debug","ts":1603109984.606605,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007248,"rows_affected":0}
{"level":"debug","ts":1603109984.6103015,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.0030676,"rows_affected":0}
{"level":"debug","ts":1603109984.613004,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.001289,"rows_affected":1}
{"level":"debug","ts":1603109984.6146038,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000923,"rows_affected":0}
{"level":"debug","ts":1603109984.615867,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.0005119,"rows_affected":0}
{"level":"debug","ts":1603109984.6262043,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.007962,"rows_affected":0}
{"level":"debug","ts":1603109984.630308,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0021622,"rows_affected":0}
{"level":"debug","ts":1603109984.632178,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.0009303,"rows_affected":0}
{"level":"debug","ts":1603109984.633754,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008344,"rows_affected":1}
{"level":"debug","ts":1603109984.6351302,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007156,"rows_affected":0}
{"level":"debug","ts":1603109984.6494288,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.0004936,"rows_affected":0}
{"level":"debug","ts":1603109984.65846,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005993,"rows_affected":1}
{"level":"debug","ts":1603109984.6605923,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011734,"rows_affected":0}
{"level":"debug","ts":1603109984.6713006,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0080481,"rows_affected":0}
{"level":"debug","ts":1603109984.6779733,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.0041284,"rows_affected":0}
{"level":"debug","ts":1603109984.6849906,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.0044111,"rows_affected":0}
{"level":"debug","ts":1603109984.6866822,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.0009776,"rows_affected":0}
{"level":"debug","ts":1603109984.6882925,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006533,"rows_affected":1}
{"level":"debug","ts":1603109984.6902075,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007942,"rows_affected":0}
{"level":"debug","ts":1603109984.6916316,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0004708,"rows_affected":0}
{"level":"debug","ts":1603109984.6930737,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007555,"rows_affected":1}
{"level":"debug","ts":1603109984.6946728,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005689,"rows_affected":0}
{"level":"debug","ts":1603109984.7051635,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0084616,"rows_affected":0}
{"level":"debug","ts":1603109984.7100897,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.0023093,"rows_affected":0}
{"level":"debug","ts":1603109984.7119875,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006206,"rows_affected":1}
{"level":"debug","ts":1603109984.7137897,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005573,"rows_affected":0}
{"level":"debug","ts":1603109984.716017,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.0011302,"rows_affected":0}
{"level":"debug","ts":1603109984.7174451,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005789,"rows_affected":1}
{"level":"debug","ts":1603109984.7188241,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000717,"rows_affected":0}
{"level":"debug","ts":1603109984.7199955,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.000314,"rows_affected":0}
{"level":"debug","ts":1603109984.722072,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007905,"rows_affected":1}
{"level":"debug","ts":1603109984.7234364,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005522,"rows_affected":0}
{"level":"debug","ts":1603109984.7248237,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0006169,"rows_affected":0}
{"level":"debug","ts":1603109984.7282052,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.0011232,"rows_affected":0}
{"level":"debug","ts":1603109984.738704,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0079812,"rows_affected":0}
{"level":"debug","ts":1603109984.7438319,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0029203,"rows_affected":0}
{"level":"debug","ts":1603109984.7461193,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011986,"rows_affected":1}
{"level":"debug","ts":1603109984.7481084,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008781,"rows_affected":0}
{"level":"debug","ts":1603109984.7495785,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.0005832,"rows_affected":0}
{"level":"debug","ts":1603109984.7516446,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008209,"rows_affected":1}
{"level":"debug","ts":1603109984.7531724,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007215,"rows_affected":0}
{"level":"debug","ts":1603109984.7579095,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.003465,"rows_affected":0}
{"level":"debug","ts":1603109984.759853,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009656,"rows_affected":1}
{"level":"debug","ts":1603109984.7630904,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010803,"rows_affected":0}
{"level":"debug","ts":1603109984.7650886,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0006121,"rows_affected":0}
{"level":"debug","ts":1603109984.7672777,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.001176,"rows_affected":0}
{"level":"debug","ts":1603109984.779376,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0096819,"rows_affected":0}
{"level":"debug","ts":1603109984.7876408,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0049876,"rows_affected":0}
{"level":"debug","ts":1603109984.790629,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0014016,"rows_affected":1}
{"level":"debug","ts":1603109984.7928731,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011969,"rows_affected":0}
{"level":"debug","ts":1603109984.7956614,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.0016022,"rows_affected":0}
{"level":"debug","ts":1603109984.7975683,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0008089,"rows_affected":0}
{"level":"debug","ts":1603109984.8003635,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0011329,"rows_affected":0}
{"level":"debug","ts":1603109984.802605,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0009763,"rows_affected":0}
{"level":"debug","ts":1603109984.8109422,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0068784,"rows_affected":0}
{"level":"debug","ts":1603109984.8137088,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0017011,"rows_affected":0}
{"level":"debug","ts":1603109984.8171008,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0015472,"rows_affected":0}
{"level":"debug","ts":1603109984.8194222,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0010752,"rows_affected":0}
{"level":"debug","ts":1603109984.8219614,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.0012421,"rows_affected":0}
{"level":"debug","ts":1603109984.8235667,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.0005239,"rows_affected":0}
{"level":"debug","ts":1603109984.8282974,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0034922,"rows_affected":0}
{"level":"debug","ts":1603109984.8316212,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0019635,"rows_affected":0}
{"level":"debug","ts":1603109984.8355923,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0029969,"rows_affected":0}
{"level":"debug","ts":1603109984.837606,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000841,"rows_affected":1}
{"level":"debug","ts":1603109984.8397145,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009123,"rows_affected":0}
{"level":"debug","ts":1603109984.8417115,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.0009442,"rows_affected":0}
{"level":"debug","ts":1603109984.8506231,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.0064827,"rows_affected":0}
{"level":"debug","ts":1603109984.8527942,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008133,"rows_affected":1}
{"level":"debug","ts":1603109984.8548598,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007959,"rows_affected":0}
{"level":"debug","ts":1603109984.9175851,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0006591,"rows_affected":0}
{"level":"debug","ts":1603109984.9349084,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007381,"rows_affected":1}
{"level":"debug","ts":1603109984.9365857,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008359,"rows_affected":0}
{"level":"debug","ts":1603109984.9384243,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.0008378,"rows_affected":0}
{"level":"debug","ts":1603109984.9403908,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006989,"rows_affected":1}
{"level":"debug","ts":1603109984.9421403,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008606,"rows_affected":0}
{"level":"debug","ts":1603109984.944224,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.000791,"rows_affected":0}
{"level":"debug","ts":1603109984.945777,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005774,"rows_affected":1}
{"level":"debug","ts":1603109984.9470937,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000667,"rows_affected":0}
{"level":"debug","ts":1603109984.948434,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.000456,"rows_affected":0}
{"level":"debug","ts":1603109984.9507728,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0013579,"rows_affected":0}
{"level":"debug","ts":1603109984.9664173,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0124226,"rows_affected":0}
{"level":"debug","ts":1603109984.9740186,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0043484,"rows_affected":0}
{"level":"debug","ts":1603109984.9757001,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006673,"rows_affected":1}
{"level":"debug","ts":1603109984.977872,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.001597,"rows_affected":0}
{"level":"debug","ts":1603109985.0072875,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.0004025,"rows_affected":0}
{"level":"debug","ts":1603109985.011103,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005601,"rows_affected":1}
{"level":"debug","ts":1603109985.0128825,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009251,"rows_affected":0}
{"level":"debug","ts":1603109985.0500822,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005883,"rows_affected":1}
{"level":"debug","ts":1603109985.0521133,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006879,"rows_affected":0}
{"level":"debug","ts":1603109985.0590181,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.0057573,"rows_affected":0}
{"level":"debug","ts":1603109985.0607462,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005979,"rows_affected":1}
{"level":"debug","ts":1603109985.0625196,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006191,"rows_affected":0}
{"level":"debug","ts":1603109985.0640843,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0006927,"rows_affected":0}
{"level":"debug","ts":1603109985.0656826,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005214,"rows_affected":1}
{"level":"debug","ts":1603109985.0674155,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000586,"rows_affected":0}
{"level":"debug","ts":1603109985.0686386,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0003465,"rows_affected":0}
{"level":"debug","ts":1603109985.0700994,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005212,"rows_affected":1}
{"level":"debug","ts":1603109985.0718665,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005711,"rows_affected":0}
{"level":"debug","ts":1603109985.0730832,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0003422,"rows_affected":0}
{"level":"debug","ts":1603109985.07459,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005515,"rows_affected":1}
{"level":"debug","ts":1603109985.0763764,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000619,"rows_affected":0}
{"level":"debug","ts":1603109985.0777256,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.000502,"rows_affected":0}
{"level":"debug","ts":1603109985.0789762,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0004345,"rows_affected":0}
{"level":"debug","ts":1603109985.0808144,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.0005895,"rows_affected":0}
{"level":"debug","ts":1603109985.0832984,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009948,"rows_affected":1}
{"level":"debug","ts":1603109985.085712,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0014861,"rows_affected":0}
{"level":"debug","ts":1603109985.0966446,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.0074982,"rows_affected":0}
{"level":"debug","ts":1603109985.0989985,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010864,"rows_affected":1}
{"level":"debug","ts":1603109985.1015165,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013291,"rows_affected":0}
{"level":"debug","ts":1603109985.1635888,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.0610346,"rows_affected":0}
{"level":"debug","ts":1603109985.1661637,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011509,"rows_affected":1}
{"level":"debug","ts":1603109985.1680186,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009053,"rows_affected":0}
{"level":"debug","ts":1603109985.172894,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.0040099,"rows_affected":0}
{"level":"debug","ts":1603109985.1762328,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.0024537,"rows_affected":0}
{"level":"debug","ts":1603109985.1797626,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0025709,"rows_affected":0}
{"level":"debug","ts":1603109985.1884625,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.0048104,"rows_affected":0}
{"level":"debug","ts":1603109985.2007706,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.0106447,"rows_affected":0}
{"level":"debug","ts":1603109985.2026248,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007065,"rows_affected":1}
{"level":"debug","ts":1603109985.2047935,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010465,"rows_affected":0}
{"level":"debug","ts":1603109985.2253945,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0192732,"rows_affected":0}
{"level":"debug","ts":1603109985.256184,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0289754,"rows_affected":0}
{"level":"debug","ts":1603109985.2586577,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0013893,"rows_affected":0}
{"level":"debug","ts":1603109985.2606788,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.0007394,"rows_affected":0}
{"level":"debug","ts":1603109985.2832034,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0212195,"rows_affected":0}
{"level":"debug","ts":1603109985.2856352,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008793,"rows_affected":1}
{"level":"debug","ts":1603109985.2891877,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0018422,"rows_affected":0}
{"level":"debug","ts":1603109985.3214316,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.031464,"rows_affected":0}
{"level":"debug","ts":1603109985.3231657,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000823,"rows_affected":1}
{"level":"debug","ts":1603109985.3257027,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007719,"rows_affected":0}
{"level":"debug","ts":1603109985.4137824,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.0870707,"rows_affected":0}
{"level":"debug","ts":1603109985.4151237,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005108,"rows_affected":1}
{"level":"debug","ts":1603109985.416388,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005797,"rows_affected":0}
{"level":"debug","ts":1603109985.4195578,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.0024767,"rows_affected":0}
{"level":"debug","ts":1603109985.4208884,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006542,"rows_affected":1}
{"level":"debug","ts":1603109985.42213,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005719,"rows_affected":0}
{"level":"debug","ts":1603109985.450752,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.0278977,"rows_affected":0}
{"level":"debug","ts":1603109985.452817,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006556,"rows_affected":1}
{"level":"debug","ts":1603109985.4540968,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006572,"rows_affected":0}
{"level":"debug","ts":1603109985.46337,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.0084744,"rows_affected":0}
{"level":"debug","ts":1603109985.4649863,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005938,"rows_affected":1}
{"level":"debug","ts":1603109985.4661622,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005726,"rows_affected":0}
{"level":"debug","ts":1603109985.4675062,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0005036,"rows_affected":0}
{"level":"debug","ts":1603109985.4687243,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000544,"rows_affected":1}
{"level":"debug","ts":1603109985.4698586,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006673,"rows_affected":0}
{"level":"debug","ts":1603109985.4711354,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.0004838,"rows_affected":0}
{"level":"debug","ts":1603109985.47232,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003493,"rows_affected":1}
{"level":"debug","ts":1603109985.4736743,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005472,"rows_affected":0}
{"level":"debug","ts":1603109985.4881296,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.0136983,"rows_affected":0}
{"level":"debug","ts":1603109985.490009,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005659,"rows_affected":1}
{"level":"debug","ts":1603109985.492377,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005335,"rows_affected":0}
{"level":"debug","ts":1603109985.4936664,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.0005741,"rows_affected":0}
{"level":"debug","ts":1603109985.494896,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005448,"rows_affected":1}
{"level":"debug","ts":1603109985.4963102,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005595,"rows_affected":0}
{"level":"debug","ts":1603109985.49967,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.0025887,"rows_affected":0}
{"level":"debug","ts":1603109985.500963,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006345,"rows_affected":1}
{"level":"debug","ts":1603109985.502186,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005791,"rows_affected":0}
{"level":"debug","ts":1603109985.5062966,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.0033504,"rows_affected":0}
{"level":"debug","ts":1603109985.5075831,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005677,"rows_affected":1}
{"level":"debug","ts":1603109985.5087938,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006555,"rows_affected":0}
{"level":"debug","ts":1603109985.582555,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.072842,"rows_affected":0}
{"level":"debug","ts":1603109985.5845952,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009964,"rows_affected":1}
{"level":"debug","ts":1603109985.5869315,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013373,"rows_affected":0}
{"level":"debug","ts":1603109985.5923567,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.0045093,"rows_affected":0}
{"level":"debug","ts":1603109985.5939991,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008892,"rows_affected":1}
{"level":"debug","ts":1603109985.596257,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009834,"rows_affected":0}
{"level":"debug","ts":1603109985.61525,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0179676,"rows_affected":0}
{"level":"debug","ts":1603109985.617002,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007428,"rows_affected":1}
{"level":"debug","ts":1603109985.618692,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006093,"rows_affected":0}
{"level":"debug","ts":1603109985.7698984,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.1504171,"rows_affected":0}
{"level":"debug","ts":1603109985.7714548,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003925,"rows_affected":1}
{"level":"debug","ts":1603109985.7726188,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004666,"rows_affected":0}
{"level":"debug","ts":1603109985.7761462,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.0028057,"rows_affected":0}
{"level":"debug","ts":1603109985.7773783,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003197,"rows_affected":1}
{"level":"debug","ts":1603109985.7790506,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007455,"rows_affected":0}
{"level":"debug","ts":1603109985.7901616,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.0102503,"rows_affected":0}
{"level":"debug","ts":1603109985.791806,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003959,"rows_affected":1}
{"level":"debug","ts":1603109985.7929509,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0003668,"rows_affected":0}
{"level":"debug","ts":1603109985.841384,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0475431,"rows_affected":0}
{"level":"debug","ts":1603109985.844929,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009384,"rows_affected":1}
{"level":"debug","ts":1603109985.8468668,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009822,"rows_affected":0}
{"level":"debug","ts":1603109985.8609333,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.0133173,"rows_affected":0}
{"level":"debug","ts":1603109985.8631785,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009997,"rows_affected":1}
{"level":"debug","ts":1603109985.864853,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000937,"rows_affected":0}
{"level":"debug","ts":1603109985.8707798,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.0051694,"rows_affected":0}
{"level":"debug","ts":1603109985.8722105,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007483,"rows_affected":1}
{"level":"debug","ts":1603109985.8738704,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.001028,"rows_affected":0}
{"level":"debug","ts":1603109985.8877852,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.013239,"rows_affected":0}
{"level":"debug","ts":1603109985.889104,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005755,"rows_affected":1}
{"level":"debug","ts":1603109985.8904412,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005984,"rows_affected":0}
{"level":"debug","ts":1603109985.8956528,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.004467,"rows_affected":0}
{"level":"debug","ts":1603109985.8967373,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003908,"rows_affected":1}
{"level":"debug","ts":1603109985.8979259,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005808,"rows_affected":0}
{"level":"debug","ts":1603109985.899082,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.0003454,"rows_affected":0}
{"level":"debug","ts":1603109985.9003367,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005173,"rows_affected":1}
{"level":"debug","ts":1603109985.9015489,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005966,"rows_affected":0}
{"level":"debug","ts":1603109985.9028234,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.000519,"rows_affected":0}
{"level":"debug","ts":1603109985.9039357,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005317,"rows_affected":1}
{"level":"debug","ts":1603109985.905163,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005497,"rows_affected":0}
{"level":"debug","ts":1603109985.9149299,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.008913,"rows_affected":0}
{"level":"debug","ts":1603109985.9165235,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005871,"rows_affected":1}
{"level":"debug","ts":1603109985.9177647,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005678,"rows_affected":0}
{"level":"debug","ts":1603109985.9192154,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0007666,"rows_affected":0}
{"level":"debug","ts":1603109985.9205358,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005454,"rows_affected":1}
{"level":"debug","ts":1603109985.9217257,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006017,"rows_affected":0}
{"level":"debug","ts":1603109985.938933,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.0165362,"rows_affected":0}
{"level":"debug","ts":1603109985.940662,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004967,"rows_affected":1}
{"level":"info","ts":1603109988.8321252,"caller":"store/key_store.go:73","msg":"Unlocked account 0xe1F748D1E1742741383Dd541F7e3A58e8340E681","address":"0xe1F748D1E1742741383Dd541F7e3A58e8340E681"}
{"level":"debug","ts":1603109988.8362284,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603109988.9016283,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603109988.9026785,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603109988.915568,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603109988.9194386,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603109988.9210148,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603109988.921719,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603109988.923265,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0xe1F748D1E1742741383Dd541F7e3A58e8340E681\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603109988.926075,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603109988.9269562,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603109988.9276013,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9281855,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9287972,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603109988.9294047,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603109988.9301217,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9307396,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9313014,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9319777,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9325693,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9331293,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9337354,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9343004,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109988.9349387,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9355533,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109988.936248,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109988.9368784,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109988.93741,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9379911,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109988.938687,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9393017,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109988.9399736,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9408472,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9417772,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603109988.942425,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9430485,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9437506,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9443126,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9449492,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109988.9455795,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603109988.946271,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9471834,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603109988.947797,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9483697,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603109988.9497218,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603109988.9546669,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603109988.9553437,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0xe1F748D1E1742741383Dd541F7e3A58e8340E681"}
{"level":"debug","ts":1603109988.9656186,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xe1F748D1E1742741383Dd541F7e3A58e8340E681","blockNumber":"<nil>"}
{"level":"info","ts":1603109988.9657676,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"info","ts":1603109988.970039,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0xe1F748D1E1742741383Dd541F7e3A58e8340E681: 0.000000000000000000","address":"0xe1F748D1E1742741383Dd541F7e3A58e8340E681","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"info","ts":1603109988.9722047,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"info","ts":1603109992.072867,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"172.27.0.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:19:52","latency":"4.3426ms"}
{"level":"info","ts":1603109997.097248,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"yorewole@gmail.com\",\"password\":\"*REDACTED*\"}","clientIP":"172.27.0.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:19:57","latency":"5.8102ms"}
{"level":"info","ts":1603110028.7598112,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"error","ts":1603110028.7634747,"caller":"services/head_tracker.go:198","msg":"Error in new head subscription, unsubscribed: websocket: close 1006 (abnormal closure): unexpected EOF","err":"websocket: close 1006 (abnormal closure): unexpected EOF","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Errorw\n\t/chainlink/core/logger/logger.go:133\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:198"}
{"level":"info","ts":1603110028.7699687,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"info","ts":1603110028.7765706,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"error","ts":1603110028.7784116,"caller":"logger/logger.go:247","msg":"unable to lock ORM: postgres advisory locking strategy failed on .Lock, timeout set to 500ms: driver: bad connection, lock ID: 1027321974924625846: can't acquire advisory lock","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).RawDB\n\t/chainlink/core/store/orm/orm.go:1467\ngithub.com/smartcontractkit/chainlink/core/services/synchronization.(*statsPusher).Close\n\t/chainlink/core/services/synchronization/stats_pusher.go:123\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop.func1\n\t/chainlink/core/services/chainlink/application.go:209\nsync.(*Once).doSlow\n\t/usr/local/go/src/sync/once.go:66\nsync.(*Once).Do\n\t/usr/local/go/src/sync/once.go:57\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop\n\t/chainlink/core/services/chainlink/application.go:191\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"error","ts":1603110028.7802093,"caller":"chainlink/application.go:158","msg":"write tcp 172.27.0.3:54206->172.27.0.4:5432: write: broken pipe","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.ErrorIf\n\t/chainlink/core/logger/logger.go:209\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"info","ts":1603110033.4435143,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110033.4444005,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110033.4451115,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110033.4468384,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110033.4531245,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110033.4603996,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110034.8093193,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110034.810826,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110034.8125966,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110034.816141,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110034.8229873,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 172.28.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110034.8354957,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 172.28.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110036.193388,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110036.1944976,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110036.1954067,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110036.1991997,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110036.2044165,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 172.28.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110036.209537,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 172.28.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110037.4905288,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110037.4913542,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110037.4926734,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110037.4958773,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603110037.5520086,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0008193,"rows_affected":0}
{"level":"warn","ts":1603110037.5532992,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603110037.5677726,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0063119,"rows_affected":0}
{"level":"debug","ts":1603110037.5694952,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007359,"rows_affected":0}
{"level":"debug","ts":1603110037.5801585,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.0082032,"rows_affected":0}
{"level":"debug","ts":1603110037.591643,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.0091067,"rows_affected":0}
{"level":"debug","ts":1603110037.6057942,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.0105358,"rows_affected":0}
{"level":"debug","ts":1603110037.613218,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0027125,"rows_affected":0}
{"level":"debug","ts":1603110037.6218154,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.006407,"rows_affected":0}
{"level":"debug","ts":1603110037.6272013,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.003156,"rows_affected":0}
{"level":"debug","ts":1603110037.6369536,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0069037,"rows_affected":0}
{"level":"debug","ts":1603110037.643647,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0028803,"rows_affected":0}
{"level":"debug","ts":1603110037.6547256,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0044283,"rows_affected":0}
{"level":"debug","ts":1603110037.6628501,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0041958,"rows_affected":0}
{"level":"debug","ts":1603110037.6682718,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.0020848,"rows_affected":0}
{"level":"debug","ts":1603110037.6801994,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0087609,"rows_affected":0}
{"level":"debug","ts":1603110037.686549,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.0029279,"rows_affected":0}
{"level":"debug","ts":1603110037.6933074,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.0035425,"rows_affected":0}
{"level":"debug","ts":1603110037.6989572,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.0025053,"rows_affected":0}
{"level":"debug","ts":1603110037.7045963,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.0026048,"rows_affected":0}
{"level":"debug","ts":1603110037.7116365,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.0036552,"rows_affected":0}
{"level":"debug","ts":1603110037.724826,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0101941,"rows_affected":0}
{"level":"debug","ts":1603110037.730759,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.0030881,"rows_affected":0}
{"level":"debug","ts":1603110037.7376096,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0037752,"rows_affected":0}
{"level":"debug","ts":1603110037.7441132,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.0039799,"rows_affected":0}
{"level":"debug","ts":1603110037.7503278,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0032636,"rows_affected":0}
{"level":"debug","ts":1603110037.7607186,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.0072951,"rows_affected":0}
{"level":"debug","ts":1603110037.772587,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0084328,"rows_affected":0}
{"level":"debug","ts":1603110037.784279,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.0084741,"rows_affected":0}
{"level":"debug","ts":1603110037.796976,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.0094205,"rows_affected":0}
{"level":"debug","ts":1603110037.8026223,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.0033313,"rows_affected":0}
{"level":"debug","ts":1603110037.8089762,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0031507,"rows_affected":0}
{"level":"debug","ts":1603110037.817385,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.006452,"rows_affected":0}
{"level":"debug","ts":1603110037.822693,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.0023006,"rows_affected":0}
{"level":"debug","ts":1603110037.8275125,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0022035,"rows_affected":0}
{"level":"debug","ts":1603110037.8379824,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.0070968,"rows_affected":0}
{"level":"debug","ts":1603110037.8496878,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0094385,"rows_affected":0}
{"level":"debug","ts":1603110037.8546443,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.0025007,"rows_affected":0}
{"level":"debug","ts":1603110037.8611472,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.003779,"rows_affected":0}
{"level":"debug","ts":1603110037.8661327,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.0027012,"rows_affected":0}
{"level":"debug","ts":1603110037.8769305,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.0073958,"rows_affected":0}
{"level":"debug","ts":1603110037.883233,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.0036838,"rows_affected":0}
{"level":"debug","ts":1603110037.8885407,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0026031,"rows_affected":0}
{"level":"debug","ts":1603110037.8932238,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.0024849,"rows_affected":0}
{"level":"debug","ts":1603110037.9012544,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0054497,"rows_affected":0}
{"level":"debug","ts":1603110037.9064817,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0028018,"rows_affected":0}
{"level":"debug","ts":1603110037.9125557,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0036385,"rows_affected":0}
{"level":"debug","ts":1603110037.9214466,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.0068219,"rows_affected":0}
{"level":"debug","ts":1603110037.9270089,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0027999,"rows_affected":0}
{"level":"debug","ts":1603110037.9329894,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0032887,"rows_affected":0}
{"level":"debug","ts":1603110037.9417226,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.0057974,"rows_affected":0}
{"level":"debug","ts":1603110037.9478705,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.0036116,"rows_affected":0}
{"level":"debug","ts":1603110037.9493499,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006856,"rows_affected":1}
{"level":"debug","ts":1603110037.9510741,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007618,"rows_affected":0}
{"level":"debug","ts":1603110037.953439,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0016292,"rows_affected":0}
{"level":"debug","ts":1603110037.9672308,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0101252,"rows_affected":0}
{"level":"debug","ts":1603110037.9737048,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0034345,"rows_affected":0}
{"level":"debug","ts":1603110037.9801779,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0033161,"rows_affected":0}
{"level":"debug","ts":1603110037.9845853,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0019278,"rows_affected":0}
{"level":"debug","ts":1603110037.9943206,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0075456,"rows_affected":0}
{"level":"debug","ts":1603110038.003118,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.0061107,"rows_affected":0}
{"level":"debug","ts":1603110038.013605,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0040011,"rows_affected":0}
{"level":"debug","ts":1603110038.0218787,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0041181,"rows_affected":0}
{"level":"debug","ts":1603110038.0261977,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.0030866,"rows_affected":0}
{"level":"debug","ts":1603110038.0282252,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007505,"rows_affected":1}
{"level":"debug","ts":1603110038.0306761,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011285,"rows_affected":0}
{"level":"debug","ts":1603110038.0718539,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.000989,"rows_affected":0}
{"level":"debug","ts":1603110038.089178,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011319,"rows_affected":1}
{"level":"debug","ts":1603110038.092366,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013923,"rows_affected":0}
{"level":"debug","ts":1603110038.0954046,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0014881,"rows_affected":0}
{"level":"debug","ts":1603110038.0979657,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009236,"rows_affected":1}
{"level":"debug","ts":1603110038.101131,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0014393,"rows_affected":0}
{"level":"debug","ts":1603110038.10357,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.000926,"rows_affected":1}
{"level":"debug","ts":1603110038.1057448,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012623,"rows_affected":1}
{"level":"debug","ts":1603110038.1080115,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010076,"rows_affected":0}
{"level":"debug","ts":1603110038.113847,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.0041718,"rows_affected":0}
{"level":"debug","ts":1603110038.11673,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013458,"rows_affected":1}
{"level":"debug","ts":1603110038.1189578,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009809,"rows_affected":0}
{"level":"debug","ts":1603110038.1222057,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.0011874,"rows_affected":0}
{"level":"debug","ts":1603110038.1358,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.0102849,"rows_affected":0}
{"level":"debug","ts":1603110038.1419406,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0037246,"rows_affected":0}
{"level":"debug","ts":1603110038.1443157,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.0008443,"rows_affected":0}
{"level":"debug","ts":1603110038.1453748,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003139,"rows_affected":1}
{"level":"debug","ts":1603110038.1463988,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0003633,"rows_affected":0}
{"level":"debug","ts":1603110038.159718,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.0004055,"rows_affected":0}
{"level":"debug","ts":1603110038.1675382,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004827,"rows_affected":1}
{"level":"debug","ts":1603110038.1691744,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005479,"rows_affected":0}
{"level":"debug","ts":1603110038.178677,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0069502,"rows_affected":0}
{"level":"debug","ts":1603110038.1844404,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.0034722,"rows_affected":0}
{"level":"debug","ts":1603110038.1898131,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.0032902,"rows_affected":0}
{"level":"debug","ts":1603110038.191718,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.0007988,"rows_affected":0}
{"level":"debug","ts":1603110038.1942775,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007737,"rows_affected":1}
{"level":"debug","ts":1603110038.195669,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000849,"rows_affected":0}
{"level":"debug","ts":1603110038.1971784,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0005846,"rows_affected":0}
{"level":"debug","ts":1603110038.19842,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004214,"rows_affected":1}
{"level":"debug","ts":1603110038.1999857,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004755,"rows_affected":0}
{"level":"debug","ts":1603110038.209909,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0075831,"rows_affected":0}
{"level":"debug","ts":1603110038.2139497,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.0019062,"rows_affected":0}
{"level":"debug","ts":1603110038.2157507,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007942,"rows_affected":1}
{"level":"debug","ts":1603110038.2176774,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000839,"rows_affected":0}
{"level":"debug","ts":1603110038.2196066,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.0010545,"rows_affected":0}
{"level":"debug","ts":1603110038.2211785,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006078,"rows_affected":1}
{"level":"debug","ts":1603110038.2227318,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007187,"rows_affected":0}
{"level":"debug","ts":1603110038.2246525,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.0004274,"rows_affected":0}
{"level":"debug","ts":1603110038.2262104,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006694,"rows_affected":1}
{"level":"debug","ts":1603110038.2275589,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005869,"rows_affected":0}
{"level":"debug","ts":1603110038.2292206,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0005119,"rows_affected":0}
{"level":"debug","ts":1603110038.232023,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.0010527,"rows_affected":0}
{"level":"debug","ts":1603110038.2421193,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0079225,"rows_affected":0}
{"level":"debug","ts":1603110038.2465217,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0024342,"rows_affected":0}
{"level":"debug","ts":1603110038.2483559,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005718,"rows_affected":1}
{"level":"debug","ts":1603110038.2499218,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005253,"rows_affected":0}
{"level":"debug","ts":1603110038.2515755,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.000349,"rows_affected":0}
{"level":"debug","ts":1603110038.2528436,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005633,"rows_affected":1}
{"level":"debug","ts":1603110038.255231,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008589,"rows_affected":0}
{"level":"debug","ts":1603110038.257817,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.0017717,"rows_affected":0}
{"level":"debug","ts":1603110038.2596235,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004245,"rows_affected":1}
{"level":"debug","ts":1603110038.261001,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004969,"rows_affected":0}
{"level":"debug","ts":1603110038.2625942,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0003397,"rows_affected":0}
{"level":"debug","ts":1603110038.2647445,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0010654,"rows_affected":0}
{"level":"debug","ts":1603110038.2741284,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0071052,"rows_affected":0}
{"level":"debug","ts":1603110038.2790487,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0027116,"rows_affected":0}
{"level":"debug","ts":1603110038.2806354,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004832,"rows_affected":1}
{"level":"debug","ts":1603110038.2822447,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006035,"rows_affected":0}
{"level":"debug","ts":1603110038.2839496,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.0007909,"rows_affected":0}
{"level":"debug","ts":1603110038.285418,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0003985,"rows_affected":0}
{"level":"debug","ts":1603110038.2870214,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0004982,"rows_affected":0}
{"level":"debug","ts":1603110038.2882752,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0005216,"rows_affected":0}
{"level":"debug","ts":1603110038.2924893,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.003026,"rows_affected":0}
{"level":"debug","ts":1603110038.2957728,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0013713,"rows_affected":0}
{"level":"debug","ts":1603110038.2977786,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0010619,"rows_affected":0}
{"level":"debug","ts":1603110038.2997217,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0008788,"rows_affected":0}
{"level":"debug","ts":1603110038.3015,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.0008629,"rows_affected":0}
{"level":"debug","ts":1603110038.3031757,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.0005143,"rows_affected":0}
{"level":"debug","ts":1603110038.3080115,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0034472,"rows_affected":0}
{"level":"debug","ts":1603110038.310132,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0012858,"rows_affected":0}
{"level":"debug","ts":1603110038.3147986,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0036048,"rows_affected":0}
{"level":"debug","ts":1603110038.3165002,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005588,"rows_affected":1}
{"level":"debug","ts":1603110038.3180525,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006389,"rows_affected":0}
{"level":"debug","ts":1603110038.319882,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.0007862,"rows_affected":0}
{"level":"debug","ts":1603110038.32822,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.0064039,"rows_affected":0}
{"level":"debug","ts":1603110038.3579507,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006682,"rows_affected":1}
{"level":"debug","ts":1603110038.359433,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006441,"rows_affected":0}
{"level":"debug","ts":1603110038.404016,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0007411,"rows_affected":0}
{"level":"debug","ts":1603110038.4254692,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008563,"rows_affected":1}
{"level":"debug","ts":1603110038.4272552,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008838,"rows_affected":0}
{"level":"debug","ts":1603110038.4294596,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.0013475,"rows_affected":0}
{"level":"debug","ts":1603110038.4325416,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010757,"rows_affected":1}
{"level":"debug","ts":1603110038.4346051,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011113,"rows_affected":0}
{"level":"debug","ts":1603110038.436697,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.000883,"rows_affected":0}
{"level":"debug","ts":1603110038.4404106,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009379,"rows_affected":1}
{"level":"debug","ts":1603110038.4429293,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011056,"rows_affected":0}
{"level":"debug","ts":1603110038.4445252,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.000791,"rows_affected":0}
{"level":"debug","ts":1603110038.447596,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0012835,"rows_affected":0}
{"level":"debug","ts":1603110038.4596045,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0093864,"rows_affected":0}
{"level":"debug","ts":1603110038.4648187,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0030161,"rows_affected":0}
{"level":"debug","ts":1603110038.4665887,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003903,"rows_affected":1}
{"level":"debug","ts":1603110038.468229,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005704,"rows_affected":0}
{"level":"debug","ts":1603110038.4961097,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.001236,"rows_affected":0}
{"level":"debug","ts":1603110038.500605,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007385,"rows_affected":1}
{"level":"debug","ts":1603110038.5022342,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008789,"rows_affected":0}
{"level":"debug","ts":1603110038.5343156,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012966,"rows_affected":1}
{"level":"debug","ts":1603110038.5359285,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000691,"rows_affected":0}
{"level":"debug","ts":1603110038.5455203,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.0083021,"rows_affected":0}
{"level":"debug","ts":1603110038.5481377,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005194,"rows_affected":1}
{"level":"debug","ts":1603110038.5505195,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007125,"rows_affected":0}
{"level":"debug","ts":1603110038.552522,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0010234,"rows_affected":0}
{"level":"debug","ts":1603110038.55415,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000519,"rows_affected":1}
{"level":"debug","ts":1603110038.5562313,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006111,"rows_affected":0}
{"level":"debug","ts":1603110038.5581455,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0005029,"rows_affected":0}
{"level":"debug","ts":1603110038.5592744,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000487,"rows_affected":1}
{"level":"debug","ts":1603110038.5614195,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007206,"rows_affected":0}
{"level":"debug","ts":1603110038.5625877,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0003604,"rows_affected":0}
{"level":"debug","ts":1603110038.5637414,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004342,"rows_affected":1}
{"level":"debug","ts":1603110038.566131,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005178,"rows_affected":0}
{"level":"debug","ts":1603110038.568233,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.0008681,"rows_affected":0}
{"level":"debug","ts":1603110038.5700307,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0004701,"rows_affected":0}
{"level":"debug","ts":1603110038.5713446,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.0003836,"rows_affected":0}
{"level":"debug","ts":1603110038.5739884,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004141,"rows_affected":1}
{"level":"debug","ts":1603110038.5756302,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005032,"rows_affected":0}
{"level":"debug","ts":1603110038.5836225,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.0057975,"rows_affected":0}
{"level":"debug","ts":1603110038.5858586,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006284,"rows_affected":1}
{"level":"debug","ts":1603110038.5884855,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008254,"rows_affected":0}
{"level":"debug","ts":1603110038.6670012,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.0775814,"rows_affected":0}
{"level":"debug","ts":1603110038.6703959,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013002,"rows_affected":1}
{"level":"debug","ts":1603110038.6741607,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0014678,"rows_affected":0}
{"level":"debug","ts":1603110038.6808298,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.0041503,"rows_affected":0}
{"level":"debug","ts":1603110038.6901386,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.0064184,"rows_affected":0}
{"level":"debug","ts":1603110038.6961079,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0034724,"rows_affected":0}
{"level":"debug","ts":1603110038.702251,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.0042383,"rows_affected":0}
{"level":"debug","ts":1603110038.7148454,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.011353,"rows_affected":0}
{"level":"debug","ts":1603110038.7170193,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009372,"rows_affected":1}
{"level":"debug","ts":1603110038.7193377,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009114,"rows_affected":0}
{"level":"debug","ts":1603110038.7373877,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0167174,"rows_affected":0}
{"level":"debug","ts":1603110038.758687,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0200813,"rows_affected":0}
{"level":"debug","ts":1603110038.7607522,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0008915,"rows_affected":0}
{"level":"debug","ts":1603110038.7623522,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.0005328,"rows_affected":0}
{"level":"debug","ts":1603110038.7678344,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0044902,"rows_affected":0}
{"level":"debug","ts":1603110038.7700355,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006638,"rows_affected":1}
{"level":"debug","ts":1603110038.7714403,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005208,"rows_affected":0}
{"level":"debug","ts":1603110038.7956672,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.0229886,"rows_affected":0}
{"level":"debug","ts":1603110038.7981591,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008586,"rows_affected":1}
{"level":"debug","ts":1603110038.80143,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0018817,"rows_affected":0}
{"level":"debug","ts":1603110038.879315,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.0755721,"rows_affected":0}
{"level":"debug","ts":1603110038.8809552,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005536,"rows_affected":1}
{"level":"debug","ts":1603110038.8824584,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009549,"rows_affected":0}
{"level":"debug","ts":1603110038.8857262,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.0023358,"rows_affected":0}
{"level":"debug","ts":1603110038.8877153,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009696,"rows_affected":1}
{"level":"debug","ts":1603110038.8894534,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000717,"rows_affected":0}
{"level":"debug","ts":1603110038.9241545,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.0336409,"rows_affected":0}
{"level":"debug","ts":1603110038.9274802,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007799,"rows_affected":1}
{"level":"debug","ts":1603110038.9293149,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007673,"rows_affected":0}
{"level":"debug","ts":1603110038.939543,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.009212,"rows_affected":0}
{"level":"debug","ts":1603110038.9419456,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007717,"rows_affected":1}
{"level":"debug","ts":1603110038.943935,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010768,"rows_affected":0}
{"level":"debug","ts":1603110038.9461071,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0008085,"rows_affected":0}
{"level":"debug","ts":1603110038.9484363,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007979,"rows_affected":1}
{"level":"debug","ts":1603110038.9506853,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010355,"rows_affected":0}
{"level":"debug","ts":1603110038.9525843,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.0007906,"rows_affected":0}
{"level":"debug","ts":1603110038.9543636,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006734,"rows_affected":1}
{"level":"debug","ts":1603110038.9560182,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007926,"rows_affected":0}
{"level":"debug","ts":1603110038.9684024,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.0112259,"rows_affected":0}
{"level":"debug","ts":1603110038.9710264,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012061,"rows_affected":1}
{"level":"debug","ts":1603110038.9728205,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008064,"rows_affected":0}
{"level":"debug","ts":1603110038.9745455,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.0007716,"rows_affected":0}
{"level":"debug","ts":1603110038.9766076,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008829,"rows_affected":1}
{"level":"debug","ts":1603110038.9788117,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.001224,"rows_affected":0}
{"level":"debug","ts":1603110038.984994,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.0049589,"rows_affected":0}
{"level":"debug","ts":1603110038.9864297,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006386,"rows_affected":1}
{"level":"debug","ts":1603110038.9877484,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006231,"rows_affected":0}
{"level":"debug","ts":1603110038.9911737,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.0026491,"rows_affected":0}
{"level":"debug","ts":1603110038.9922986,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005264,"rows_affected":1}
{"level":"debug","ts":1603110038.9936285,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005833,"rows_affected":0}
{"level":"debug","ts":1603110039.0705295,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.0762308,"rows_affected":0}
{"level":"debug","ts":1603110039.0732367,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012783,"rows_affected":1}
{"level":"debug","ts":1603110039.0764608,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0019077,"rows_affected":0}
{"level":"debug","ts":1603110039.0840468,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.005712,"rows_affected":0}
{"level":"debug","ts":1603110039.0865471,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010124,"rows_affected":1}
{"level":"debug","ts":1603110039.0892367,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011797,"rows_affected":0}
{"level":"debug","ts":1603110039.1132572,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0227105,"rows_affected":0}
{"level":"debug","ts":1603110039.1155918,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010122,"rows_affected":1}
{"level":"debug","ts":1603110039.1176772,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000959,"rows_affected":0}
{"level":"debug","ts":1603110039.2839162,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.165012,"rows_affected":0}
{"level":"debug","ts":1603110039.2857542,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006288,"rows_affected":1}
{"level":"debug","ts":1603110039.2870982,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006592,"rows_affected":0}
{"level":"debug","ts":1603110039.291305,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.003078,"rows_affected":0}
{"level":"debug","ts":1603110039.2930624,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007344,"rows_affected":1}
{"level":"debug","ts":1603110039.2946815,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008563,"rows_affected":0}
{"level":"debug","ts":1603110039.3043158,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.00816,"rows_affected":0}
{"level":"debug","ts":1603110039.3060286,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000832,"rows_affected":1}
{"level":"debug","ts":1603110039.3076725,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008096,"rows_affected":0}
{"level":"debug","ts":1603110039.3548791,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0465916,"rows_affected":0}
{"level":"debug","ts":1603110039.356662,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000682,"rows_affected":1}
{"level":"debug","ts":1603110039.3581905,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007636,"rows_affected":0}
{"level":"debug","ts":1603110039.3671207,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.0081496,"rows_affected":0}
{"level":"debug","ts":1603110039.3687398,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004741,"rows_affected":1}
{"level":"debug","ts":1603110039.3700929,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000597,"rows_affected":0}
{"level":"debug","ts":1603110039.3766816,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.0059102,"rows_affected":0}
{"level":"debug","ts":1603110039.3783538,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007183,"rows_affected":1}
{"level":"debug","ts":1603110039.380114,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007871,"rows_affected":0}
{"level":"debug","ts":1603110039.3918366,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.0109813,"rows_affected":0}
{"level":"debug","ts":1603110039.3930862,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004638,"rows_affected":1}
{"level":"debug","ts":1603110039.3943205,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004703,"rows_affected":0}
{"level":"debug","ts":1603110039.3989656,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.0038701,"rows_affected":0}
{"level":"debug","ts":1603110039.400224,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004417,"rows_affected":1}
{"level":"debug","ts":1603110039.4013138,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000483,"rows_affected":0}
{"level":"debug","ts":1603110039.402719,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.0004011,"rows_affected":0}
{"level":"debug","ts":1603110039.4039025,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005234,"rows_affected":1}
{"level":"debug","ts":1603110039.4052467,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006012,"rows_affected":0}
{"level":"debug","ts":1603110039.4064972,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.0004682,"rows_affected":0}
{"level":"debug","ts":1603110039.407709,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003518,"rows_affected":1}
{"level":"debug","ts":1603110039.408908,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0003779,"rows_affected":0}
{"level":"debug","ts":1603110039.4205773,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.0107995,"rows_affected":0}
{"level":"debug","ts":1603110039.4224317,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006039,"rows_affected":1}
{"level":"debug","ts":1603110039.4240453,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007281,"rows_affected":0}
{"level":"debug","ts":1603110039.4260664,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0012039,"rows_affected":0}
{"level":"debug","ts":1603110039.4277163,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004408,"rows_affected":1}
{"level":"debug","ts":1603110039.428993,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004957,"rows_affected":0}
{"level":"debug","ts":1603110039.4534361,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.023626,"rows_affected":0}
{"level":"debug","ts":1603110039.4560115,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005661,"rows_affected":1}
{"level":"info","ts":1603110042.24372,"caller":"store/key_store.go:73","msg":"Unlocked account 0x720C2F2480869861b8db15111D18B2188D4B8323","address":"0x720C2F2480869861b8db15111D18B2188D4B8323"}
{"level":"debug","ts":1603110042.2466085,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603110042.3099513,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603110042.3109143,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603110042.3206298,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603110042.3251524,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603110042.3266869,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603110042.3275304,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603110042.3297,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0x720C2F2480869861b8db15111D18B2188D4B8323\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603110042.3320422,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603110042.3329878,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603110042.3335876,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110042.334165,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3346715,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603110042.335419,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603110042.3360069,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3366404,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3373003,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110042.337977,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3385992,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3370304,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603110042.3393786,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3407798,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110042.341491,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110042.3420663,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110042.342675,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3433642,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110042.3439388,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110042.344468,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3450847,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3457484,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110042.346385,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110042.3449686,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603110042.3477361,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0x720C2F2480869861b8db15111D18B2188D4B8323"}
{"level":"debug","ts":1603110042.3470793,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110042.349174,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3497667,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3505087,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3510685,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3515968,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110042.352347,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3530047,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110042.353501,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110042.3542523,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3550327,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603110042.356064,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110042.3570635,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110042.360196,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x720C2F2480869861b8db15111D18B2188D4B8323","blockNumber":"<nil>"}
{"level":"info","ts":1603110042.3640692,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0x720C2F2480869861b8db15111D18B2188D4B8323: 0.000000000000000000","address":"0x720C2F2480869861b8db15111D18B2188D4B8323","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"info","ts":1603110042.3662045,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"info","ts":1603110042.3707778,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"info","ts":1603110045.2233949,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"user@email.com\",\"password\":\"*REDACTED*\"}","clientIP":"172.28.0.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:20:45","latency":"5.6053ms"}
{"level":"info","ts":1603110050.2464142,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":401,"path":"/sessions","query":"","body":"{\"email\":\"user@email.com\",\"password\":\"*REDACTED*\"}","clientIP":"172.28.0.1","errors":"Error #01: Invalid email\n","servedAt":"2020-10-19 12:20:50","latency":"4.5096ms"}
{"level":"error","ts":1603110062.967223,"caller":"services/head_tracker.go:198","msg":"Error in new head subscription, unsubscribed: websocket: close 1006 (abnormal closure): unexpected EOF","err":"websocket: close 1006 (abnormal closure): unexpected EOF","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Errorw\n\t/chainlink/core/logger/logger.go:133\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:198"}
{"level":"info","ts":1603110062.9691246,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"info","ts":1603110062.9746945,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"info","ts":1603110062.976314,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"debug","ts":1603110062.9803817,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"warn","ts":1603110062.9826655,"caller":"services/head_tracker.go:224","msg":"Failed to connect to ethereum node ws://ethnode:8545","err":"EthClient#SubscribeNewHead: dial tcp 172.28.0.2:8545: connect: connection refused","errVerbose":"dial tcp 172.28.0.2:8545: connect: connection refused\nEthClient#SubscribeNewHead\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribeToHead\n\t/chainlink/core/services/head_tracker.go:485\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribe\n\t/chainlink/core/services/head_tracker.go:222\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:194\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373"}
{"level":"info","ts":1603110062.983545,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 1s"}
{"level":"error","ts":1603110062.9849234,"caller":"logger/logger.go:247","msg":"unable to lock ORM: postgres advisory locking strategy failed on .Lock, timeout set to 500ms: driver: bad connection, lock ID: 1027321974924625846: can't acquire advisory lock","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).RawDB\n\t/chainlink/core/store/orm/orm.go:1467\ngithub.com/smartcontractkit/chainlink/core/services/synchronization.(*statsPusher).Close\n\t/chainlink/core/services/synchronization/stats_pusher.go:123\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop.func1\n\t/chainlink/core/services/chainlink/application.go:209\nsync.(*Once).doSlow\n\t/usr/local/go/src/sync/once.go:66\nsync.(*Once).Do\n\t/usr/local/go/src/sync/once.go:57\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop\n\t/chainlink/core/services/chainlink/application.go:191\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"error","ts":1603110062.9861305,"caller":"chainlink/application.go:158","msg":"write tcp 172.28.0.3:53726->172.28.0.4:5432: write: broken pipe","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.ErrorIf\n\t/chainlink/core/logger/logger.go:209\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"info","ts":1603110067.7761366,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110067.7775102,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110067.7784085,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110067.7810771,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110067.7866437,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110067.7942004,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110069.0036814,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110069.0051086,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110069.0065346,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110069.0094159,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110069.016741,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 172.29.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110069.0236964,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 172.29.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110070.5926948,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110070.5977876,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110070.6007135,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110070.6044257,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110070.6092932,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 172.29.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110070.6162875,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 172.29.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110072.0197356,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110072.0205412,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110072.0211773,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110072.0228877,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603110072.0856884,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0005392,"rows_affected":0}
{"level":"warn","ts":1603110072.0872948,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603110072.1034994,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0070719,"rows_affected":0}
{"level":"debug","ts":1603110072.1058416,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013105,"rows_affected":0}
{"level":"debug","ts":1603110072.1174047,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.009057,"rows_affected":0}
{"level":"debug","ts":1603110072.131933,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.0111076,"rows_affected":0}
{"level":"debug","ts":1603110072.1440716,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.0096318,"rows_affected":0}
{"level":"debug","ts":1603110072.1529272,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0041797,"rows_affected":0}
{"level":"debug","ts":1603110072.1618528,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.0062194,"rows_affected":0}
{"level":"debug","ts":1603110072.1675327,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0027499,"rows_affected":0}
{"level":"debug","ts":1603110072.175342,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0056426,"rows_affected":0}
{"level":"debug","ts":1603110072.182377,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0035966,"rows_affected":0}
{"level":"debug","ts":1603110072.1901999,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.0050344,"rows_affected":0}
{"level":"debug","ts":1603110072.1998155,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0048353,"rows_affected":0}
{"level":"debug","ts":1603110072.2076907,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0040907,"rows_affected":0}
{"level":"debug","ts":1603110072.2221138,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0113978,"rows_affected":0}
{"level":"debug","ts":1603110072.2306542,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.0042047,"rows_affected":0}
{"level":"debug","ts":1603110072.2413821,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.0049641,"rows_affected":0}
{"level":"debug","ts":1603110072.250768,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.0048437,"rows_affected":0}
{"level":"debug","ts":1603110072.2573225,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.0033655,"rows_affected":0}
{"level":"debug","ts":1603110072.2658367,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.0038411,"rows_affected":0}
{"level":"debug","ts":1603110072.2768617,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0084972,"rows_affected":0}
{"level":"debug","ts":1603110072.2843566,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.0028781,"rows_affected":0}
{"level":"debug","ts":1603110072.2915769,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0039076,"rows_affected":0}
{"level":"debug","ts":1603110072.2977207,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.0038552,"rows_affected":0}
{"level":"debug","ts":1603110072.3023245,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0018419,"rows_affected":0}
{"level":"debug","ts":1603110072.3100536,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.0052991,"rows_affected":0}
{"level":"debug","ts":1603110072.3225203,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.009928,"rows_affected":0}
{"level":"debug","ts":1603110072.332622,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.0075662,"rows_affected":0}
{"level":"debug","ts":1603110072.3482053,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.0112351,"rows_affected":0}
{"level":"debug","ts":1603110072.3542714,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.0025177,"rows_affected":0}
{"level":"debug","ts":1603110072.3597488,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0025866,"rows_affected":0}
{"level":"debug","ts":1603110072.3710785,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.008454,"rows_affected":0}
{"level":"debug","ts":1603110072.376411,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.0035016,"rows_affected":0}
{"level":"debug","ts":1603110072.3805027,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0018605,"rows_affected":0}
{"level":"debug","ts":1603110072.3890653,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.0065779,"rows_affected":0}
{"level":"debug","ts":1603110072.3983977,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0067962,"rows_affected":0}
{"level":"debug","ts":1603110072.403425,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.0026155,"rows_affected":0}
{"level":"debug","ts":1603110072.408533,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.0030168,"rows_affected":0}
{"level":"debug","ts":1603110072.414759,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.0032568,"rows_affected":0}
{"level":"debug","ts":1603110072.4255154,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.0081791,"rows_affected":0}
{"level":"debug","ts":1603110072.4325373,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0038123,"rows_affected":0}
{"level":"debug","ts":1603110072.4383028,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.0031569,"rows_affected":0}
{"level":"debug","ts":1603110072.4426768,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.0021466,"rows_affected":0}
{"level":"debug","ts":1603110072.45225,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0069144,"rows_affected":0}
{"level":"debug","ts":1603110072.4594223,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0046457,"rows_affected":0}
{"level":"debug","ts":1603110072.464511,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.002602,"rows_affected":0}
{"level":"debug","ts":1603110072.4759185,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.0089356,"rows_affected":0}
{"level":"debug","ts":1603110072.480158,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0023671,"rows_affected":0}
{"level":"debug","ts":1603110072.4861102,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0036278,"rows_affected":0}
{"level":"debug","ts":1603110072.4936204,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.005227,"rows_affected":0}
{"level":"debug","ts":1603110072.4985821,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.0024675,"rows_affected":0}
{"level":"debug","ts":1603110072.5000997,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007258,"rows_affected":1}
{"level":"debug","ts":1603110072.5016208,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006727,"rows_affected":0}
{"level":"debug","ts":1603110072.5035224,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0011057,"rows_affected":0}
{"level":"debug","ts":1603110072.5147371,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0090323,"rows_affected":0}
{"level":"debug","ts":1603110072.5194304,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0026015,"rows_affected":0}
{"level":"debug","ts":1603110072.524657,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0025749,"rows_affected":0}
{"level":"debug","ts":1603110072.5314121,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0040861,"rows_affected":0}
{"level":"debug","ts":1603110072.542219,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0084566,"rows_affected":0}
{"level":"debug","ts":1603110072.5476239,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0027255,"rows_affected":0}
{"level":"debug","ts":1603110072.5529275,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0030061,"rows_affected":0}
{"level":"debug","ts":1603110072.5589323,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.0030253,"rows_affected":0}
{"level":"debug","ts":1603110072.5621624,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.0023134,"rows_affected":0}
{"level":"debug","ts":1603110072.5638297,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007648,"rows_affected":1}
{"level":"debug","ts":1603110072.566284,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010555,"rows_affected":0}
{"level":"debug","ts":1603110072.6033928,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.0007351,"rows_affected":0}
{"level":"debug","ts":1603110072.6174057,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007338,"rows_affected":1}
{"level":"debug","ts":1603110072.6191804,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007322,"rows_affected":0}
{"level":"debug","ts":1603110072.6207893,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0009208,"rows_affected":0}
{"level":"debug","ts":1603110072.622347,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007083,"rows_affected":1}
{"level":"debug","ts":1603110072.6244009,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009551,"rows_affected":0}
{"level":"debug","ts":1603110072.6264098,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.0013434,"rows_affected":1}
{"level":"debug","ts":1603110072.6278834,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005498,"rows_affected":1}
{"level":"debug","ts":1603110072.6296933,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008588,"rows_affected":0}
{"level":"debug","ts":1603110072.6342888,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.003898,"rows_affected":0}
{"level":"debug","ts":1603110072.6354423,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006561,"rows_affected":1}
{"level":"debug","ts":1603110072.637059,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007304,"rows_affected":0}
{"level":"debug","ts":1603110072.638674,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.001047,"rows_affected":0}
{"level":"debug","ts":1603110072.648451,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.0075558,"rows_affected":0}
{"level":"debug","ts":1603110072.65374,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0024549,"rows_affected":0}
{"level":"debug","ts":1603110072.655812,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.0012281,"rows_affected":0}
{"level":"debug","ts":1603110072.6573796,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006962,"rows_affected":1}
{"level":"debug","ts":1603110072.659147,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009159,"rows_affected":0}
{"level":"debug","ts":1603110072.6761885,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.0005049,"rows_affected":0}
{"level":"debug","ts":1603110072.6850743,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012285,"rows_affected":1}
{"level":"debug","ts":1603110072.686487,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007184,"rows_affected":0}
{"level":"debug","ts":1603110072.6958773,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0073692,"rows_affected":0}
{"level":"debug","ts":1603110072.7038622,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.0044507,"rows_affected":0}
{"level":"debug","ts":1603110072.7109637,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.0038002,"rows_affected":0}
{"level":"debug","ts":1603110072.712885,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.000986,"rows_affected":0}
{"level":"debug","ts":1603110072.7146297,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005521,"rows_affected":1}
{"level":"debug","ts":1603110072.7159333,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000642,"rows_affected":0}
{"level":"debug","ts":1603110072.7172742,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0005501,"rows_affected":0}
{"level":"debug","ts":1603110072.7185783,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007134,"rows_affected":1}
{"level":"debug","ts":1603110072.7207565,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011584,"rows_affected":0}
{"level":"debug","ts":1603110072.732504,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0094451,"rows_affected":0}
{"level":"debug","ts":1603110072.7372482,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.002595,"rows_affected":0}
{"level":"debug","ts":1603110072.7385907,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007923,"rows_affected":1}
{"level":"debug","ts":1603110072.740647,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007877,"rows_affected":0}
{"level":"debug","ts":1603110072.7423425,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.0011034,"rows_affected":0}
{"level":"debug","ts":1603110072.7438464,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006418,"rows_affected":1}
{"level":"debug","ts":1603110072.745962,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007274,"rows_affected":0}
{"level":"debug","ts":1603110072.7478642,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.0008731,"rows_affected":0}
{"level":"debug","ts":1603110072.750485,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013817,"rows_affected":1}
{"level":"debug","ts":1603110072.7582152,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0023676,"rows_affected":0}
{"level":"debug","ts":1603110072.7599382,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0006683,"rows_affected":0}
{"level":"debug","ts":1603110072.7629495,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.00182,"rows_affected":0}
{"level":"debug","ts":1603110072.7757945,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.009118,"rows_affected":0}
{"level":"debug","ts":1603110072.7841809,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0056866,"rows_affected":0}
{"level":"debug","ts":1603110072.7861586,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009762,"rows_affected":1}
{"level":"debug","ts":1603110072.7879539,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009013,"rows_affected":0}
{"level":"debug","ts":1603110072.7895646,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.0008469,"rows_affected":0}
{"level":"debug","ts":1603110072.7914178,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007645,"rows_affected":1}
{"level":"debug","ts":1603110072.7936337,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009718,"rows_affected":0}
{"level":"debug","ts":1603110072.797719,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.0032389,"rows_affected":0}
{"level":"debug","ts":1603110072.800391,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009042,"rows_affected":1}
{"level":"debug","ts":1603110072.8021085,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009205,"rows_affected":0}
{"level":"debug","ts":1603110072.8047926,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0008369,"rows_affected":0}
{"level":"debug","ts":1603110072.8081014,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0021423,"rows_affected":0}
{"level":"debug","ts":1603110072.8284566,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0161188,"rows_affected":0}
{"level":"debug","ts":1603110072.835249,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0038622,"rows_affected":0}
{"level":"debug","ts":1603110072.8370523,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008288,"rows_affected":1}
{"level":"debug","ts":1603110072.8393917,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010226,"rows_affected":0}
{"level":"debug","ts":1603110072.841781,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.0011498,"rows_affected":0}
{"level":"debug","ts":1603110072.8438776,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.000745,"rows_affected":0}
{"level":"debug","ts":1603110072.8459427,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0008776,"rows_affected":0}
{"level":"debug","ts":1603110072.8481786,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0013062,"rows_affected":0}
{"level":"debug","ts":1603110072.859276,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0090548,"rows_affected":0}
{"level":"debug","ts":1603110072.864528,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.003809,"rows_affected":0}
{"level":"debug","ts":1603110072.8676276,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0015505,"rows_affected":0}
{"level":"debug","ts":1603110072.8705437,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0017834,"rows_affected":0}
{"level":"debug","ts":1603110072.8736522,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.0017454,"rows_affected":0}
{"level":"debug","ts":1603110072.8757095,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.0008047,"rows_affected":0}
{"level":"debug","ts":1603110072.8816998,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0049329,"rows_affected":0}
{"level":"debug","ts":1603110072.887391,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0040564,"rows_affected":0}
{"level":"debug","ts":1603110072.893217,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0044589,"rows_affected":0}
{"level":"debug","ts":1603110072.8949456,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006985,"rows_affected":1}
{"level":"debug","ts":1603110072.8974082,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011253,"rows_affected":0}
{"level":"debug","ts":1603110072.9002764,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.0016954,"rows_affected":0}
{"level":"debug","ts":1603110072.9156604,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.0105625,"rows_affected":0}
{"level":"debug","ts":1603110072.917725,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008628,"rows_affected":1}
{"level":"debug","ts":1603110072.9195457,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009799,"rows_affected":0}
{"level":"debug","ts":1603110072.9706922,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0007205,"rows_affected":0}
{"level":"debug","ts":1603110072.9848144,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005626,"rows_affected":1}
{"level":"debug","ts":1603110072.9864082,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006617,"rows_affected":0}
{"level":"debug","ts":1603110072.9883735,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.0011814,"rows_affected":0}
{"level":"debug","ts":1603110072.9901912,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006575,"rows_affected":1}
{"level":"debug","ts":1603110072.991852,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007317,"rows_affected":0}
{"level":"debug","ts":1603110072.9936166,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.0007522,"rows_affected":0}
{"level":"debug","ts":1603110072.9956205,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006224,"rows_affected":1}
{"level":"debug","ts":1603110072.9971702,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007002,"rows_affected":0}
{"level":"debug","ts":1603110072.9987836,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0007307,"rows_affected":0}
{"level":"debug","ts":1603110073.001117,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0012974,"rows_affected":0}
{"level":"debug","ts":1603110073.015209,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0117126,"rows_affected":0}
{"level":"debug","ts":1603110073.020382,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0026588,"rows_affected":0}
{"level":"debug","ts":1603110073.0219283,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007078,"rows_affected":1}
{"level":"debug","ts":1603110073.0235095,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006245,"rows_affected":0}
{"level":"debug","ts":1603110073.0378594,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.0004641,"rows_affected":0}
{"level":"debug","ts":1603110073.040856,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005836,"rows_affected":1}
{"level":"debug","ts":1603110073.0420883,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005607,"rows_affected":0}
{"level":"debug","ts":1603110073.0616946,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005615,"rows_affected":1}
{"level":"debug","ts":1603110073.063466,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008948,"rows_affected":0}
{"level":"debug","ts":1603110073.0694094,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.0052404,"rows_affected":0}
{"level":"debug","ts":1603110073.0706296,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005485,"rows_affected":1}
{"level":"debug","ts":1603110073.0719051,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006207,"rows_affected":0}
{"level":"debug","ts":1603110073.073444,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0006672,"rows_affected":0}
{"level":"debug","ts":1603110073.0747018,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005038,"rows_affected":1}
{"level":"debug","ts":1603110073.0758324,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000536,"rows_affected":0}
{"level":"debug","ts":1603110073.077134,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0003862,"rows_affected":0}
{"level":"debug","ts":1603110073.0782647,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004352,"rows_affected":1}
{"level":"debug","ts":1603110073.0793335,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005417,"rows_affected":0}
{"level":"debug","ts":1603110073.0803354,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0003684,"rows_affected":0}
{"level":"debug","ts":1603110073.0816069,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004998,"rows_affected":1}
{"level":"debug","ts":1603110073.0828989,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005661,"rows_affected":0}
{"level":"debug","ts":1603110073.084071,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.000501,"rows_affected":0}
{"level":"debug","ts":1603110073.0850964,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0004699,"rows_affected":0}
{"level":"debug","ts":1603110073.086185,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.000452,"rows_affected":0}
{"level":"debug","ts":1603110073.087333,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005656,"rows_affected":1}
{"level":"debug","ts":1603110073.0887487,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005649,"rows_affected":0}
{"level":"debug","ts":1603110073.0967746,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.0062945,"rows_affected":0}
{"level":"debug","ts":1603110073.0983267,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006061,"rows_affected":1}
{"level":"debug","ts":1603110073.0995772,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006097,"rows_affected":0}
{"level":"debug","ts":1603110073.1555912,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.055386,"rows_affected":0}
{"level":"debug","ts":1603110073.157808,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007469,"rows_affected":1}
{"level":"debug","ts":1603110073.1595647,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007924,"rows_affected":0}
{"level":"debug","ts":1603110073.1648636,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.0043273,"rows_affected":0}
{"level":"debug","ts":1603110073.1685314,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.0023754,"rows_affected":0}
{"level":"debug","ts":1603110073.1712937,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0019818,"rows_affected":0}
{"level":"debug","ts":1603110073.1745946,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.0027187,"rows_affected":0}
{"level":"debug","ts":1603110073.1835399,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.0081251,"rows_affected":0}
{"level":"debug","ts":1603110073.1863227,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007116,"rows_affected":1}
{"level":"debug","ts":1603110073.187773,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007057,"rows_affected":0}
{"level":"debug","ts":1603110073.2017283,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0130618,"rows_affected":0}
{"level":"debug","ts":1603110073.223202,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0206149,"rows_affected":0}
{"level":"debug","ts":1603110073.228047,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0018467,"rows_affected":0}
{"level":"debug","ts":1603110073.2327144,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.0024354,"rows_affected":0}
{"level":"debug","ts":1603110073.2435198,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0081675,"rows_affected":0}
{"level":"debug","ts":1603110073.246891,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0014601,"rows_affected":1}
{"level":"debug","ts":1603110073.2509422,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0017255,"rows_affected":0}
{"level":"debug","ts":1603110073.2733917,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.0207247,"rows_affected":0}
{"level":"debug","ts":1603110073.2765236,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011565,"rows_affected":1}
{"level":"debug","ts":1603110073.2799644,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0019412,"rows_affected":0}
{"level":"debug","ts":1603110073.3826575,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.1001415,"rows_affected":0}
{"level":"debug","ts":1603110073.3842611,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006249,"rows_affected":1}
{"level":"debug","ts":1603110073.3858721,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006709,"rows_affected":0}
{"level":"debug","ts":1603110073.3893034,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.0023862,"rows_affected":0}
{"level":"debug","ts":1603110073.3918724,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006184,"rows_affected":1}
{"level":"debug","ts":1603110073.3934674,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007526,"rows_affected":0}
{"level":"debug","ts":1603110073.4228241,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.0287243,"rows_affected":0}
{"level":"debug","ts":1603110073.4242177,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000644,"rows_affected":1}
{"level":"debug","ts":1603110073.425486,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006302,"rows_affected":0}
{"level":"debug","ts":1603110073.4378176,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.011899,"rows_affected":0}
{"level":"debug","ts":1603110073.4392583,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005622,"rows_affected":1}
{"level":"debug","ts":1603110073.440453,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005873,"rows_affected":0}
{"level":"debug","ts":1603110073.441497,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0003791,"rows_affected":0}
{"level":"debug","ts":1603110073.4426208,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003871,"rows_affected":1}
{"level":"debug","ts":1603110073.4441805,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006597,"rows_affected":0}
{"level":"debug","ts":1603110073.4465895,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.001221,"rows_affected":0}
{"level":"debug","ts":1603110073.448608,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008063,"rows_affected":1}
{"level":"debug","ts":1603110073.450667,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009995,"rows_affected":0}
{"level":"debug","ts":1603110073.4674246,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.0155238,"rows_affected":0}
{"level":"debug","ts":1603110073.4689834,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005116,"rows_affected":1}
{"level":"debug","ts":1603110073.471063,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000511,"rows_affected":0}
{"level":"debug","ts":1603110073.472418,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.0005594,"rows_affected":0}
{"level":"debug","ts":1603110073.474037,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005096,"rows_affected":1}
{"level":"debug","ts":1603110073.4752781,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006294,"rows_affected":0}
{"level":"debug","ts":1603110073.4794393,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.0035564,"rows_affected":0}
{"level":"debug","ts":1603110073.4807272,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004929,"rows_affected":1}
{"level":"debug","ts":1603110073.4819229,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005608,"rows_affected":0}
{"level":"debug","ts":1603110073.4847622,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.002139,"rows_affected":0}
{"level":"debug","ts":1603110073.485827,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003375,"rows_affected":1}
{"level":"debug","ts":1603110073.4871106,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.00044,"rows_affected":0}
{"level":"debug","ts":1603110073.5583696,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.0705189,"rows_affected":0}
{"level":"debug","ts":1603110073.560485,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010299,"rows_affected":1}
{"level":"debug","ts":1603110073.5627332,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008715,"rows_affected":0}
{"level":"debug","ts":1603110073.5673213,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.0033843,"rows_affected":0}
{"level":"debug","ts":1603110073.5689323,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005512,"rows_affected":1}
{"level":"debug","ts":1603110073.570696,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009287,"rows_affected":0}
{"level":"debug","ts":1603110073.5853043,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0136636,"rows_affected":0}
{"level":"debug","ts":1603110073.5868146,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005582,"rows_affected":1}
{"level":"debug","ts":1603110073.5882633,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000603,"rows_affected":0}
{"level":"debug","ts":1603110073.7461855,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.157129,"rows_affected":0}
{"level":"debug","ts":1603110073.7475426,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000463,"rows_affected":1}
{"level":"debug","ts":1603110073.748607,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004356,"rows_affected":0}
{"level":"debug","ts":1603110073.752824,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.0032485,"rows_affected":0}
{"level":"debug","ts":1603110073.7546751,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008158,"rows_affected":1}
{"level":"debug","ts":1603110073.7564995,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000889,"rows_affected":0}
{"level":"debug","ts":1603110073.7647352,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.0071772,"rows_affected":0}
{"level":"debug","ts":1603110073.7661974,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003848,"rows_affected":1}
{"level":"debug","ts":1603110073.7673373,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0003742,"rows_affected":0}
{"level":"debug","ts":1603110073.815798,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0476078,"rows_affected":0}
{"level":"debug","ts":1603110073.8179126,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003808,"rows_affected":1}
{"level":"debug","ts":1603110073.8192742,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004883,"rows_affected":0}
{"level":"debug","ts":1603110073.8320224,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.0118842,"rows_affected":0}
{"level":"debug","ts":1603110073.8337042,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007444,"rows_affected":1}
{"level":"debug","ts":1603110073.835806,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009918,"rows_affected":0}
{"level":"debug","ts":1603110073.8447812,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.00789,"rows_affected":0}
{"level":"debug","ts":1603110073.8468301,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010712,"rows_affected":1}
{"level":"debug","ts":1603110073.8496015,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013335,"rows_affected":0}
{"level":"debug","ts":1603110073.864569,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.0140511,"rows_affected":0}
{"level":"debug","ts":1603110073.8663847,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008822,"rows_affected":1}
{"level":"debug","ts":1603110073.8682315,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009198,"rows_affected":0}
{"level":"debug","ts":1603110073.874138,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.0049296,"rows_affected":0}
{"level":"debug","ts":1603110073.8767178,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008124,"rows_affected":1}
{"level":"debug","ts":1603110073.87845,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000892,"rows_affected":0}
{"level":"debug","ts":1603110073.8803048,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.0007091,"rows_affected":0}
{"level":"debug","ts":1603110073.881827,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005742,"rows_affected":1}
{"level":"debug","ts":1603110073.8839266,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006647,"rows_affected":0}
{"level":"debug","ts":1603110073.8857186,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.0006142,"rows_affected":0}
{"level":"debug","ts":1603110073.8870459,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004271,"rows_affected":1}
{"level":"debug","ts":1603110073.8885171,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005652,"rows_affected":0}
{"level":"debug","ts":1603110073.9018404,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.0123545,"rows_affected":0}
{"level":"debug","ts":1603110073.9048746,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013909,"rows_affected":1}
{"level":"debug","ts":1603110073.907153,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009909,"rows_affected":0}
{"level":"debug","ts":1603110073.9097881,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0011642,"rows_affected":0}
{"level":"debug","ts":1603110073.9118674,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009893,"rows_affected":1}
{"level":"debug","ts":1603110073.9138162,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006788,"rows_affected":0}
{"level":"debug","ts":1603110073.9348657,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.0201363,"rows_affected":0}
{"level":"debug","ts":1603110073.9377413,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009876,"rows_affected":1}
{"level":"info","ts":1603110076.7818124,"caller":"store/key_store.go:73","msg":"Unlocked account 0x678e7C317d0F6B40A16708F0989f429f943393Fb","address":"0x678e7C317d0F6B40A16708F0989f429f943393Fb"}
{"level":"debug","ts":1603110076.7847178,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603110076.8553238,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603110076.856452,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603110076.87095,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603110076.8772607,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603110076.879873,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603110076.8819466,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603110076.8867908,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0x678e7C317d0F6B40A16708F0989f429f943393Fb\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603110076.8907478,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603110076.8920758,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603110076.892856,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110076.891715,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603110076.8941758,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110076.8959367,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603110076.897333,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603110076.8982968,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603110076.901761,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9031317,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9043026,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9053557,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603110076.9061763,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0x678e7C317d0F6B40A16708F0989f429f943393Fb"}
{"level":"debug","ts":1603110076.9054525,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9086149,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110076.909751,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9109392,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110076.912357,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9133694,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9144044,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110076.9155602,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9167304,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9177883,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110076.919097,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9202485,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110076.9223008,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9262044,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110076.927468,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9287279,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110076.930101,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9282794,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x678e7C317d0F6B40A16708F0989f429f943393Fb","blockNumber":"<nil>"}
{"level":"debug","ts":1603110076.9317267,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9350147,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9362507,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110076.937328,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110076.9383063,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110076.939767,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603110076.9409413,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"info","ts":1603110076.9398634,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0x678e7C317d0F6B40A16708F0989f429f943393Fb: 0.000000000000000000","address":"0x678e7C317d0F6B40A16708F0989f429f943393Fb","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"debug","ts":1603110076.9427056,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"info","ts":1603110076.9455876,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"info","ts":1603110076.9637623,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"info","ts":1603110079.6005843,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":200,"path":"/sessions","query":"","body":"{\"email\":\"user@mail.com\",\"password\":\"*REDACTED*\"}","clientIP":"172.29.0.1","errors":"","servedAt":"2020-10-19 12:21:19","latency":"73.1322ms"}
{"level":"debug","ts":1603110079.6129532,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x678e7C317d0F6B40A16708F0989f429f943393Fb","blockNumber":"<nil>"}
{"level":"debug","ts":1603110079.616908,"caller":"eth/client.go:136","msg":"eth.Client#GetERC20Balance(...)","address":"0x678e7C317d0F6B40A16708F0989f429f943393Fb","contractAddress":"0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD"}
{"level":"info","ts":1603110079.639519,"caller":"web/router.go:337","msg":"GET /v2/user/balances","method":"GET","status":200,"path":"/v2/user/balances","query":"","body":"","clientIP":"172.29.0.1","errors":"","servedAt":"2020-10-19 12:21:19","latency":"32.8856ms"}
{"level":"info","ts":1603110079.7072954,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":200,"path":"/sessions","query":"","body":"{\"email\":\"user@mail.com\",\"password\":\"*REDACTED*\"}","clientIP":"172.29.0.1","errors":"","servedAt":"2020-10-19 12:21:19","latency":"62.799ms"}
{"level":"debug","ts":1603110079.7199483,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x678e7C317d0F6B40A16708F0989f429f943393Fb","blockNumber":"<nil>"}
{"level":"debug","ts":1603110079.7241876,"caller":"eth/client.go:136","msg":"eth.Client#GetERC20Balance(...)","address":"0x678e7C317d0F6B40A16708F0989f429f943393Fb","contractAddress":"0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD"}
{"level":"info","ts":1603110079.7446296,"caller":"web/router.go:337","msg":"GET /v2/user/balances","method":"GET","status":200,"path":"/v2/user/balances","query":"","body":"","clientIP":"172.29.0.1","errors":"","servedAt":"2020-10-19 12:21:19","latency":"29.5092ms"}
{"level":"debug","ts":1603110079.8325171,"caller":"services/head_tracker.go:277","msg":"Received new head #4 (0x4)","blockHeight":"4","blockHash":"0x91faf8171a391f793efc4e142ad9c1d0e811af81bcdf49de755df85c1040380e"}
{"level":"debug","ts":1603110079.8440828,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":3}
{"level":"debug","ts":1603110079.8456028,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"3"}
{"level":"debug","ts":1603110079.8594835,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":2}
{"level":"debug","ts":1603110079.860821,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"2"}
{"level":"debug","ts":1603110079.8703644,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":1}
{"level":"debug","ts":1603110079.871541,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"1"}
{"level":"debug","ts":1603110079.8903377,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":0}
{"level":"debug","ts":1603110079.8914511,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"0"}
{"level":"debug","ts":1603110079.9074347,"caller":"services/head_tracker.go:386","msg":"HeadTracker: finished backfill","fetched":4,"blockNumber":0,"time":0.0647938,"id":"head_tracker","n":0,"fromBlockHeight":0,"toBlockHeight":-1}
{"level":"debug","ts":1603110079.9126143,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":4,"chainLength":5,"numCallbacks":6}
{"level":"debug","ts":1603110079.9147894,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"1"}
{"level":"debug","ts":1603110079.9237573,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 1/24","inHistory":1,"required":24}
{"level":"debug","ts":1603110079.9248571,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 10.0697ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":4,"time":0.0100697,"id":"head_tracker"}
{"level":"debug","ts":1603110079.925874,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 19.1µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":4,"time":0.0000191,"id":"head_tracker"}
{"level":"debug","ts":1603110079.926838,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 29.3µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":4,"time":0.0000293,"id":"head_tracker"}
{"level":"debug","ts":1603110079.9276953,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 6.5µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":4,"time":0.0000065,"id":"head_tracker"}
{"level":"debug","ts":1603110079.9296496,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x678e7C317d0F6B40A16708F0989f429f943393Fb","blockNumber":"3"}
{"level":"debug","ts":1603110079.9465823,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 17.9069ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":4,"time":0.0179069,"id":"head_tracker"}
{"level":"debug","ts":1603110079.9478104,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 12.1µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":4,"time":0.0000121,"id":"head_tracker"}
{"level":"debug","ts":1603110079.9489076,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 4 in 116.3865ms","blockNumber":4,"time":0.1163865,"id":"head_tracker"}
{"level":"debug","ts":1603110080.1322818,"caller":"services/head_tracker.go:277","msg":"Received new head #5 (0x5)","blockHeight":"5","blockHash":"0x2184378a0602bd033bd1d0dc7154d04359f3926c495bbf347ea55e60a2f63fac"}
{"level":"debug","ts":1603110080.1394234,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":5,"chainLength":6,"numCallbacks":6}
{"level":"debug","ts":1603110080.140285,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"2"}
{"level":"debug","ts":1603110080.1571152,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 2/24","inHistory":2,"required":24}
{"level":"debug","ts":1603110080.1587133,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 18.4267ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":5,"time":0.0184267,"id":"head_tracker"}
{"level":"debug","ts":1603110080.1599147,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 14.6µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":5,"time":0.0000146,"id":"head_tracker"}
{"level":"debug","ts":1603110080.1606424,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 33.4µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":5,"time":0.0000334,"id":"head_tracker"}
{"level":"debug","ts":1603110080.1618795,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 6.4µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":5,"time":0.0000064,"id":"head_tracker"}
{"level":"debug","ts":1603110080.1634107,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x678e7C317d0F6B40A16708F0989f429f943393Fb","blockNumber":"4"}
{"level":"info","ts":1603110080.1773238,"caller":"services/balance_monitor.go:135","msg":"New ETH balance for 0x678e7C317d0F6B40A16708F0989f429f943393Fb: 80.000000000000000000","address":"0x678e7C317d0F6B40A16708F0989f429f943393Fb","headNum":"4","ethBalance":"80.000000000000000000","weiBalance":"80000000000000000000","id":"balance_log"}
{"level":"debug","ts":1603110080.1786423,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 15.9708ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":5,"time":0.0159708,"id":"head_tracker"}
{"level":"debug","ts":1603110080.1795893,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 19.3µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":5,"time":0.0000193,"id":"head_tracker"}
{"level":"debug","ts":1603110080.1808212,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 5 in 48.5387ms","blockNumber":5,"time":0.0485387,"id":"head_tracker"}
{"level":"error","ts":1603110198.6484919,"caller":"services/head_tracker.go:198","msg":"Error in new head subscription, unsubscribed: websocket: close 1006 (abnormal closure): unexpected EOF","err":"websocket: close 1006 (abnormal closure): unexpected EOF","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Errorw\n\t/chainlink/core/logger/logger.go:133\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:198"}
{"level":"info","ts":1603110198.6509604,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603110198.6566465,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"info","ts":1603110198.6569023,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"warn","ts":1603110198.666656,"caller":"services/head_tracker.go:224","msg":"Failed to connect to ethereum node ws://ethnode:8545","err":"EthClient#SubscribeNewHead: dial tcp 172.29.0.2:8545: connect: connection refused","errVerbose":"dial tcp 172.29.0.2:8545: connect: connection refused\nEthClient#SubscribeNewHead\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribeToHead\n\t/chainlink/core/services/head_tracker.go:485\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribe\n\t/chainlink/core/services/head_tracker.go:222\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:194\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373"}
{"level":"info","ts":1603110198.6668172,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"info","ts":1603110198.674075,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 1s"}
{"level":"error","ts":1603110198.6752367,"caller":"logger/logger.go:247","msg":"unable to lock ORM: postgres advisory locking strategy failed on .Lock, timeout set to 500ms: driver: bad connection, lock ID: 1027321974924625846: can't acquire advisory lock","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).RawDB\n\t/chainlink/core/store/orm/orm.go:1467\ngithub.com/smartcontractkit/chainlink/core/services/synchronization.(*statsPusher).Close\n\t/chainlink/core/services/synchronization/stats_pusher.go:123\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop.func1\n\t/chainlink/core/services/chainlink/application.go:209\nsync.(*Once).doSlow\n\t/usr/local/go/src/sync/once.go:66\nsync.(*Once).Do\n\t/usr/local/go/src/sync/once.go:57\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop\n\t/chainlink/core/services/chainlink/application.go:191\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"error","ts":1603110198.6769366,"caller":"chainlink/application.go:158","msg":"write tcp 172.29.0.3:37142->172.29.0.4:5432: write: broken pipe","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.ErrorIf\n\t/chainlink/core/logger/logger.go:209\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"info","ts":1603110204.9647944,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110204.9662156,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110204.9674911,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110204.97046,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110206.0006597,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 172.30.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110206.005179,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 172.30.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110207.296962,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110207.2987587,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110207.3005087,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110207.3041863,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110207.3091266,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 172.30.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110207.3227909,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 172.30.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110208.1732996,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110208.1740484,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110208.1749125,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110208.1773038,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603110208.2145617,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0008035,"rows_affected":0}
{"level":"warn","ts":1603110208.2152145,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603110208.226504,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0046484,"rows_affected":0}
{"level":"debug","ts":1603110208.2285533,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013532,"rows_affected":0}
{"level":"debug","ts":1603110208.2447119,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.010869,"rows_affected":0}
{"level":"debug","ts":1603110208.2553124,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.008077,"rows_affected":0}
{"level":"debug","ts":1603110208.2660992,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.0079192,"rows_affected":0}
{"level":"debug","ts":1603110208.2734525,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0037085,"rows_affected":0}
{"level":"debug","ts":1603110208.2818716,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.0058391,"rows_affected":0}
{"level":"debug","ts":1603110208.2867818,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0025894,"rows_affected":0}
{"level":"debug","ts":1603110208.2962468,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0064636,"rows_affected":0}
{"level":"debug","ts":1603110208.3042598,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0040863,"rows_affected":0}
{"level":"debug","ts":1603110208.3095427,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0023846,"rows_affected":0}
{"level":"debug","ts":1603110208.3156989,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.0034369,"rows_affected":0}
{"level":"debug","ts":1603110208.3222947,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0034238,"rows_affected":0}
{"level":"debug","ts":1603110208.3454816,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0175338,"rows_affected":0}
{"level":"debug","ts":1603110208.3540788,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.0043501,"rows_affected":0}
{"level":"debug","ts":1603110208.3610272,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.0034541,"rows_affected":0}
{"level":"debug","ts":1603110208.3718328,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.0065866,"rows_affected":0}
{"level":"debug","ts":1603110208.3804202,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.0041013,"rows_affected":0}
{"level":"debug","ts":1603110208.3873062,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.004078,"rows_affected":0}
{"level":"debug","ts":1603110208.394337,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.004895,"rows_affected":0}
{"level":"debug","ts":1603110208.3990214,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0024862,"rows_affected":0}
{"level":"debug","ts":1603110208.405197,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.003653,"rows_affected":0}
{"level":"debug","ts":1603110208.410542,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0030524,"rows_affected":0}
{"level":"debug","ts":1603110208.4170303,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.0038805,"rows_affected":0}
{"level":"debug","ts":1603110208.4306054,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.0096905,"rows_affected":0}
{"level":"debug","ts":1603110208.4417408,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0092654,"rows_affected":0}
{"level":"debug","ts":1603110208.4519098,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.0077836,"rows_affected":0}
{"level":"debug","ts":1603110208.4610794,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.0072257,"rows_affected":0}
{"level":"debug","ts":1603110208.4678607,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.0037806,"rows_affected":0}
{"level":"debug","ts":1603110208.474732,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0034796,"rows_affected":0}
{"level":"debug","ts":1603110208.4847806,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0077388,"rows_affected":0}
{"level":"debug","ts":1603110208.48926,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.0024656,"rows_affected":0}
{"level":"debug","ts":1603110208.493747,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0022523,"rows_affected":0}
{"level":"debug","ts":1603110208.5018256,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.0060396,"rows_affected":0}
{"level":"debug","ts":1603110208.5105655,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0069159,"rows_affected":0}
{"level":"debug","ts":1603110208.516438,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.0036976,"rows_affected":0}
{"level":"debug","ts":1603110208.5212965,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.0021762,"rows_affected":0}
{"level":"debug","ts":1603110208.5280576,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.0036552,"rows_affected":0}
{"level":"debug","ts":1603110208.5382662,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.0074312,"rows_affected":0}
{"level":"debug","ts":1603110208.5429816,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.0021081,"rows_affected":0}
{"level":"debug","ts":1603110208.5504224,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.0036541,"rows_affected":0}
{"level":"debug","ts":1603110208.555681,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0032076,"rows_affected":0}
{"level":"debug","ts":1603110208.5655758,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0076535,"rows_affected":0}
{"level":"debug","ts":1603110208.5707846,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0029104,"rows_affected":0}
{"level":"debug","ts":1603110208.577588,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.00392,"rows_affected":0}
{"level":"debug","ts":1603110208.5854816,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.0060129,"rows_affected":0}
{"level":"debug","ts":1603110208.5905268,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0024087,"rows_affected":0}
{"level":"debug","ts":1603110208.5979202,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0033489,"rows_affected":0}
{"level":"debug","ts":1603110208.6061523,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.0058953,"rows_affected":0}
{"level":"debug","ts":1603110208.6111486,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.0024096,"rows_affected":0}
{"level":"debug","ts":1603110208.6132593,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006805,"rows_affected":1}
{"level":"debug","ts":1603110208.61526,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000882,"rows_affected":0}
{"level":"debug","ts":1603110208.6169755,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0010501,"rows_affected":0}
{"level":"debug","ts":1603110208.6277351,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0087344,"rows_affected":0}
{"level":"debug","ts":1603110208.6328702,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0030267,"rows_affected":0}
{"level":"debug","ts":1603110208.6387029,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0033948,"rows_affected":0}
{"level":"debug","ts":1603110208.6448154,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0035723,"rows_affected":0}
{"level":"debug","ts":1603110208.6541057,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0070292,"rows_affected":0}
{"level":"debug","ts":1603110208.6588304,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0023111,"rows_affected":0}
{"level":"debug","ts":1603110208.6640794,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0032492,"rows_affected":0}
{"level":"debug","ts":1603110208.6699712,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.0032964,"rows_affected":0}
{"level":"debug","ts":1603110208.6725533,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.0015828,"rows_affected":0}
{"level":"debug","ts":1603110208.6742918,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006445,"rows_affected":1}
{"level":"debug","ts":1603110208.6757898,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007181,"rows_affected":0}
{"level":"debug","ts":1603110208.7108014,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.0005802,"rows_affected":0}
{"level":"debug","ts":1603110208.7240112,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009806,"rows_affected":1}
{"level":"debug","ts":1603110208.7260404,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.00076,"rows_affected":0}
{"level":"debug","ts":1603110208.7277343,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0007752,"rows_affected":0}
{"level":"debug","ts":1603110208.7296398,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005195,"rows_affected":1}
{"level":"debug","ts":1603110208.731214,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004913,"rows_affected":0}
{"level":"debug","ts":1603110208.732745,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.0006382,"rows_affected":1}
{"level":"debug","ts":1603110208.7340803,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005798,"rows_affected":1}
{"level":"debug","ts":1603110208.7358005,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000743,"rows_affected":0}
{"level":"debug","ts":1603110208.740785,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.0039072,"rows_affected":0}
{"level":"debug","ts":1603110208.741931,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000405,"rows_affected":1}
{"level":"debug","ts":1603110208.7434194,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005219,"rows_affected":0}
{"level":"debug","ts":1603110208.7447395,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.0005806,"rows_affected":0}
{"level":"debug","ts":1603110208.7526493,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.0063114,"rows_affected":0}
{"level":"debug","ts":1603110208.757749,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0030304,"rows_affected":0}
{"level":"debug","ts":1603110208.7596552,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.0008652,"rows_affected":0}
{"level":"debug","ts":1603110208.761203,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005515,"rows_affected":1}
{"level":"debug","ts":1603110208.7627919,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009034,"rows_affected":0}
{"level":"debug","ts":1603110208.7899673,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.0009634,"rows_affected":0}
{"level":"debug","ts":1603110208.8007953,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008481,"rows_affected":1}
{"level":"debug","ts":1603110208.802454,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008742,"rows_affected":0}
{"level":"debug","ts":1603110208.810798,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0066335,"rows_affected":0}
{"level":"debug","ts":1603110208.816261,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.0028138,"rows_affected":0}
{"level":"debug","ts":1603110208.8206954,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.0024203,"rows_affected":0}
{"level":"debug","ts":1603110208.8223255,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.0007926,"rows_affected":0}
{"level":"debug","ts":1603110208.823931,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000396,"rows_affected":1}
{"level":"debug","ts":1603110208.825443,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007277,"rows_affected":0}
{"level":"debug","ts":1603110208.8266387,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0004235,"rows_affected":0}
{"level":"debug","ts":1603110208.8282328,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005744,"rows_affected":1}
{"level":"debug","ts":1603110208.8300111,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006267,"rows_affected":0}
{"level":"debug","ts":1603110208.840742,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0088032,"rows_affected":0}
{"level":"debug","ts":1603110208.8459947,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.0027284,"rows_affected":0}
{"level":"debug","ts":1603110208.847591,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006719,"rows_affected":1}
{"level":"debug","ts":1603110208.8490467,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004295,"rows_affected":0}
{"level":"debug","ts":1603110208.8518376,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.001288,"rows_affected":0}
{"level":"debug","ts":1603110208.8540335,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011807,"rows_affected":1}
{"level":"debug","ts":1603110208.8566947,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0014194,"rows_affected":0}
{"level":"debug","ts":1603110208.8580332,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.0003536,"rows_affected":0}
{"level":"debug","ts":1603110208.8592203,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005951,"rows_affected":1}
{"level":"debug","ts":1603110208.8605013,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006651,"rows_affected":0}
{"level":"debug","ts":1603110208.8618555,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0005412,"rows_affected":0}
{"level":"debug","ts":1603110208.863486,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.0008996,"rows_affected":0}
{"level":"debug","ts":1603110208.8798,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0140424,"rows_affected":0}
{"level":"debug","ts":1603110208.8846197,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0027249,"rows_affected":0}
{"level":"debug","ts":1603110208.886194,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005058,"rows_affected":1}
{"level":"debug","ts":1603110208.887579,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005959,"rows_affected":0}
{"level":"debug","ts":1603110208.8889995,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.0005115,"rows_affected":0}
{"level":"debug","ts":1603110208.8908339,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007542,"rows_affected":1}
{"level":"debug","ts":1603110208.89264,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007406,"rows_affected":0}
{"level":"debug","ts":1603110208.8961954,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.0026617,"rows_affected":0}
{"level":"debug","ts":1603110208.8987005,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010301,"rows_affected":1}
{"level":"debug","ts":1603110208.9011831,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.001121,"rows_affected":0}
{"level":"debug","ts":1603110208.9036963,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.000821,"rows_affected":0}
{"level":"debug","ts":1603110208.9072127,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0016201,"rows_affected":0}
{"level":"debug","ts":1603110208.92129,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0103854,"rows_affected":0}
{"level":"debug","ts":1603110208.927618,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0032552,"rows_affected":0}
{"level":"debug","ts":1603110208.9296463,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000892,"rows_affected":1}
{"level":"debug","ts":1603110208.9316278,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009412,"rows_affected":0}
{"level":"debug","ts":1603110208.9339526,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.0012441,"rows_affected":0}
{"level":"debug","ts":1603110208.9356086,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0007384,"rows_affected":0}
{"level":"debug","ts":1603110208.937419,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0006404,"rows_affected":0}
{"level":"debug","ts":1603110208.9396224,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0009116,"rows_affected":0}
{"level":"debug","ts":1603110208.9457176,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0051988,"rows_affected":0}
{"level":"debug","ts":1603110208.949486,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0026474,"rows_affected":0}
{"level":"debug","ts":1603110208.9517348,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0014538,"rows_affected":0}
{"level":"debug","ts":1603110208.954123,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0014949,"rows_affected":0}
{"level":"debug","ts":1603110208.9564319,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.0011081,"rows_affected":0}
{"level":"debug","ts":1603110208.9582021,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.0004857,"rows_affected":0}
{"level":"debug","ts":1603110208.9629052,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0035014,"rows_affected":0}
{"level":"debug","ts":1603110208.965301,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0014664,"rows_affected":0}
{"level":"debug","ts":1603110208.9706728,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0039093,"rows_affected":0}
{"level":"debug","ts":1603110208.9728098,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006928,"rows_affected":1}
{"level":"debug","ts":1603110208.974415,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006694,"rows_affected":0}
{"level":"debug","ts":1603110208.9756787,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.0007813,"rows_affected":0}
{"level":"debug","ts":1603110208.9849305,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.0072142,"rows_affected":0}
{"level":"debug","ts":1603110208.9871247,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009827,"rows_affected":1}
{"level":"debug","ts":1603110208.9893003,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011256,"rows_affected":0}
{"level":"debug","ts":1603110209.04108,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0021158,"rows_affected":0}
{"level":"debug","ts":1603110209.0602067,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008827,"rows_affected":1}
{"level":"debug","ts":1603110209.0625007,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010268,"rows_affected":0}
{"level":"debug","ts":1603110209.0646956,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.0009882,"rows_affected":0}
{"level":"debug","ts":1603110209.066589,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007576,"rows_affected":1}
{"level":"debug","ts":1603110209.068585,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009454,"rows_affected":0}
{"level":"debug","ts":1603110209.071113,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.0013657,"rows_affected":0}
{"level":"debug","ts":1603110209.0733101,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008571,"rows_affected":1}
{"level":"debug","ts":1603110209.0754704,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008464,"rows_affected":0}
{"level":"debug","ts":1603110209.0777986,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.001302,"rows_affected":0}
{"level":"debug","ts":1603110209.0829997,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0034142,"rows_affected":0}
{"level":"debug","ts":1603110209.1070778,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0177536,"rows_affected":0}
{"level":"debug","ts":1603110209.116032,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0037092,"rows_affected":0}
{"level":"debug","ts":1603110209.1176229,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000933,"rows_affected":1}
{"level":"debug","ts":1603110209.1195378,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008342,"rows_affected":0}
{"level":"debug","ts":1603110209.143601,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.0007391,"rows_affected":0}
{"level":"debug","ts":1603110209.1468892,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004842,"rows_affected":1}
{"level":"debug","ts":1603110209.148168,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005518,"rows_affected":0}
{"level":"debug","ts":1603110209.1678512,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007124,"rows_affected":1}
{"level":"debug","ts":1603110209.1694245,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000567,"rows_affected":0}
{"level":"debug","ts":1603110209.1757755,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.0056338,"rows_affected":0}
{"level":"debug","ts":1603110209.1770508,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005919,"rows_affected":1}
{"level":"debug","ts":1603110209.178282,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005807,"rows_affected":0}
{"level":"debug","ts":1603110209.1799288,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0007088,"rows_affected":0}
{"level":"debug","ts":1603110209.1813264,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005395,"rows_affected":1}
{"level":"debug","ts":1603110209.1827574,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007226,"rows_affected":0}
{"level":"debug","ts":1603110209.1838465,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0004229,"rows_affected":0}
{"level":"debug","ts":1603110209.1850889,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004939,"rows_affected":1}
{"level":"debug","ts":1603110209.1864586,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006286,"rows_affected":0}
{"level":"debug","ts":1603110209.1875947,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0005126,"rows_affected":0}
{"level":"debug","ts":1603110209.189148,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007041,"rows_affected":1}
{"level":"debug","ts":1603110209.1906452,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006886,"rows_affected":0}
{"level":"debug","ts":1603110209.1924253,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.0006403,"rows_affected":0}
{"level":"debug","ts":1603110209.19353,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0005295,"rows_affected":0}
{"level":"debug","ts":1603110209.1947393,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.0004197,"rows_affected":0}
{"level":"debug","ts":1603110209.1959531,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005078,"rows_affected":1}
{"level":"debug","ts":1603110209.1971173,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005821,"rows_affected":0}
{"level":"debug","ts":1603110209.2054868,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.0064334,"rows_affected":0}
{"level":"debug","ts":1603110209.2071095,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006222,"rows_affected":1}
{"level":"debug","ts":1603110209.2084436,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006527,"rows_affected":0}
{"level":"debug","ts":1603110209.2507396,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.0417615,"rows_affected":0}
{"level":"debug","ts":1603110209.2532742,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009706,"rows_affected":1}
{"level":"debug","ts":1603110209.2549586,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007614,"rows_affected":0}
{"level":"debug","ts":1603110209.2577164,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.0019016,"rows_affected":0}
{"level":"debug","ts":1603110209.2607276,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.0021223,"rows_affected":0}
{"level":"debug","ts":1603110209.2641344,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0027197,"rows_affected":0}
{"level":"debug","ts":1603110209.2668507,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.0019456,"rows_affected":0}
{"level":"debug","ts":1603110209.2740834,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.0060889,"rows_affected":0}
{"level":"debug","ts":1603110209.2757306,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005987,"rows_affected":1}
{"level":"debug","ts":1603110209.2770164,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006098,"rows_affected":0}
{"level":"debug","ts":1603110209.2880323,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0102567,"rows_affected":0}
{"level":"debug","ts":1603110209.3075442,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0188964,"rows_affected":0}
{"level":"debug","ts":1603110209.3097253,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0014877,"rows_affected":0}
{"level":"debug","ts":1603110209.3111978,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.0007537,"rows_affected":0}
{"level":"debug","ts":1603110209.3205683,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0087398,"rows_affected":0}
{"level":"debug","ts":1603110209.322425,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008586,"rows_affected":1}
{"level":"debug","ts":1603110209.3241765,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009535,"rows_affected":0}
{"level":"debug","ts":1603110209.3451154,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.0202979,"rows_affected":0}
{"level":"debug","ts":1603110209.3469024,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008283,"rows_affected":1}
{"level":"debug","ts":1603110209.3484616,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008132,"rows_affected":0}
{"level":"debug","ts":1603110209.423616,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.0744098,"rows_affected":0}
{"level":"debug","ts":1603110209.4250154,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005838,"rows_affected":1}
{"level":"debug","ts":1603110209.4263928,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006535,"rows_affected":0}
{"level":"debug","ts":1603110209.4298105,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.0027445,"rows_affected":0}
{"level":"debug","ts":1603110209.4318244,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006395,"rows_affected":1}
{"level":"debug","ts":1603110209.4331746,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006865,"rows_affected":0}
{"level":"debug","ts":1603110209.4649968,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.031126,"rows_affected":0}
{"level":"debug","ts":1603110209.466604,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006368,"rows_affected":1}
{"level":"debug","ts":1603110209.4680011,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007096,"rows_affected":0}
{"level":"debug","ts":1603110209.4789932,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.0103186,"rows_affected":0}
{"level":"debug","ts":1603110209.480505,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000703,"rows_affected":1}
{"level":"debug","ts":1603110209.4820266,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008007,"rows_affected":0}
{"level":"debug","ts":1603110209.483214,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0004378,"rows_affected":0}
{"level":"debug","ts":1603110209.4846613,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007313,"rows_affected":1}
{"level":"debug","ts":1603110209.4861262,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007456,"rows_affected":0}
{"level":"debug","ts":1603110209.487514,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.0007228,"rows_affected":0}
{"level":"debug","ts":1603110209.48883,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006594,"rows_affected":1}
{"level":"debug","ts":1603110209.490155,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000656,"rows_affected":0}
{"level":"debug","ts":1603110209.5065308,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.0155699,"rows_affected":0}
{"level":"debug","ts":1603110209.509218,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006367,"rows_affected":1}
{"level":"debug","ts":1603110209.5106375,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006691,"rows_affected":0}
{"level":"debug","ts":1603110209.5118115,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.0006001,"rows_affected":0}
{"level":"debug","ts":1603110209.513055,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006012,"rows_affected":1}
{"level":"debug","ts":1603110209.5145092,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006818,"rows_affected":0}
{"level":"debug","ts":1603110209.5177917,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.0025207,"rows_affected":0}
{"level":"debug","ts":1603110209.5195863,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006757,"rows_affected":1}
{"level":"debug","ts":1603110209.5211658,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000908,"rows_affected":0}
{"level":"debug","ts":1603110209.524099,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.0023503,"rows_affected":0}
{"level":"debug","ts":1603110209.5256515,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006969,"rows_affected":1}
{"level":"debug","ts":1603110209.5271485,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007374,"rows_affected":0}
{"level":"debug","ts":1603110209.595695,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.0677046,"rows_affected":0}
{"level":"debug","ts":1603110209.597554,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007426,"rows_affected":1}
{"level":"debug","ts":1603110209.599114,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007014,"rows_affected":0}
{"level":"debug","ts":1603110209.603645,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.0036434,"rows_affected":0}
{"level":"debug","ts":1603110209.604958,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005599,"rows_affected":1}
{"level":"debug","ts":1603110209.6063118,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007007,"rows_affected":0}
{"level":"debug","ts":1603110209.6233487,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0161999,"rows_affected":0}
{"level":"debug","ts":1603110209.624995,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007103,"rows_affected":1}
{"level":"debug","ts":1603110209.626706,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008875,"rows_affected":0}
{"level":"debug","ts":1603110209.7849786,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.1574572,"rows_affected":0}
{"level":"debug","ts":1603110209.7869816,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.00054,"rows_affected":1}
{"level":"debug","ts":1603110209.7888691,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008161,"rows_affected":0}
{"level":"debug","ts":1603110209.7956069,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.0053876,"rows_affected":0}
{"level":"debug","ts":1603110209.7979617,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007787,"rows_affected":1}
{"level":"debug","ts":1603110209.7998497,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007391,"rows_affected":0}
{"level":"debug","ts":1603110209.808601,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.0077174,"rows_affected":0}
{"level":"debug","ts":1603110209.810674,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005772,"rows_affected":1}
{"level":"debug","ts":1603110209.8120496,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004877,"rows_affected":0}
{"level":"debug","ts":1603110209.859766,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0466934,"rows_affected":0}
{"level":"debug","ts":1603110209.8621356,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006904,"rows_affected":1}
{"level":"debug","ts":1603110209.8642104,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007714,"rows_affected":0}
{"level":"debug","ts":1603110209.8756924,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.0106844,"rows_affected":0}
{"level":"debug","ts":1603110209.877827,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007125,"rows_affected":1}
{"level":"debug","ts":1603110209.8792908,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007072,"rows_affected":0}
{"level":"debug","ts":1603110209.8856363,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.0054296,"rows_affected":0}
{"level":"debug","ts":1603110209.8870099,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004224,"rows_affected":1}
{"level":"debug","ts":1603110209.8884149,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005826,"rows_affected":0}
{"level":"debug","ts":1603110209.900287,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.0109834,"rows_affected":0}
{"level":"debug","ts":1603110209.9022202,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007537,"rows_affected":1}
{"level":"debug","ts":1603110209.9041302,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009146,"rows_affected":0}
{"level":"debug","ts":1603110209.9111776,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.0059893,"rows_affected":0}
{"level":"debug","ts":1603110209.9130504,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000523,"rows_affected":1}
{"level":"debug","ts":1603110209.9148667,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000735,"rows_affected":0}
{"level":"debug","ts":1603110209.917058,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.0005262,"rows_affected":0}
{"level":"debug","ts":1603110209.9187257,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000567,"rows_affected":1}
{"level":"debug","ts":1603110209.9205043,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007166,"rows_affected":0}
{"level":"debug","ts":1603110209.9224362,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.0006968,"rows_affected":0}
{"level":"debug","ts":1603110209.9239717,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007647,"rows_affected":1}
{"level":"debug","ts":1603110209.9258804,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008587,"rows_affected":0}
{"level":"debug","ts":1603110209.9376717,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.0108515,"rows_affected":0}
{"level":"debug","ts":1603110209.9393883,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004513,"rows_affected":1}
{"level":"debug","ts":1603110209.9408875,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006588,"rows_affected":0}
{"level":"debug","ts":1603110209.9428172,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0008191,"rows_affected":0}
{"level":"debug","ts":1603110209.9442568,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000406,"rows_affected":1}
{"level":"debug","ts":1603110209.9458077,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005542,"rows_affected":0}
{"level":"debug","ts":1603110209.962432,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.0156069,"rows_affected":0}
{"level":"debug","ts":1603110209.9643948,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005339,"rows_affected":1}
{"level":"info","ts":1603110212.9986355,"caller":"store/key_store.go:73","msg":"Unlocked account 0x4ab6226FB69B24262863ecA0f41830FBbC696F6C","address":"0x4ab6226FB69B24262863ecA0f41830FBbC696F6C"}
{"level":"debug","ts":1603110213.002557,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603110213.0696166,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603110213.0709486,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603110213.0830925,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603110213.0890455,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603110213.0908456,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603110213.091851,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603110213.0968704,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0x4ab6226FB69B24262863ecA0f41830FBbC696F6C\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603110213.0993333,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603110213.10005,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603110213.1005692,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1013043,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110213.100314,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603110213.1021266,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603110213.1039503,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603110213.104632,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1053061,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1060946,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1067781,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1075776,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1081026,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1089103,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110213.109639,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110213.1082551,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603110213.1109986,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0x4ab6226FB69B24262863ecA0f41830FBbC696F6C"}
{"level":"debug","ts":1603110213.1106048,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1125348,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1141696,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110213.1151888,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1162724,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603110213.117184,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1179469,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110213.11909,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110213.1199808,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1209977,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1221187,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1231308,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1239822,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1246521,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1253335,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1264634,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110213.127165,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110213.1278162,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1286001,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1275134,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x4ab6226FB69B24262863ecA0f41830FBbC696F6C","blockNumber":"<nil>"}
{"level":"debug","ts":1603110213.130322,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110213.1311913,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"info","ts":1603110213.133414,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0x4ab6226FB69B24262863ecA0f41830FBbC696F6C: 0.000000000000000000","address":"0x4ab6226FB69B24262863ecA0f41830FBbC696F6C","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"info","ts":1603110213.1355999,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"info","ts":1603110213.1436148,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"info","ts":1603110216.4578316,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":200,"path":"/sessions","query":"","body":"{\"email\":\"user@mail.com\",\"password\":\"*REDACTED*\"}","clientIP":"172.30.0.1","errors":"","servedAt":"2020-10-19 12:23:36","latency":"82.9211ms"}
{"level":"debug","ts":1603110216.4698346,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x4ab6226FB69B24262863ecA0f41830FBbC696F6C","blockNumber":"<nil>"}
{"level":"debug","ts":1603110216.4739082,"caller":"eth/client.go:136","msg":"eth.Client#GetERC20Balance(...)","address":"0x4ab6226FB69B24262863ecA0f41830FBbC696F6C","contractAddress":"0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD"}
{"level":"info","ts":1603110216.5005524,"caller":"web/router.go:337","msg":"GET /v2/user/balances","method":"GET","status":200,"path":"/v2/user/balances","query":"","body":"","clientIP":"172.30.0.1","errors":"","servedAt":"2020-10-19 12:23:36","latency":"36.2751ms"}
{"level":"info","ts":1603110216.5711682,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":200,"path":"/sessions","query":"","body":"{\"email\":\"user@mail.com\",\"password\":\"*REDACTED*\"}","clientIP":"172.30.0.1","errors":"","servedAt":"2020-10-19 12:23:36","latency":"64.8661ms"}
{"level":"debug","ts":1603110216.5816753,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x4ab6226FB69B24262863ecA0f41830FBbC696F6C","blockNumber":"<nil>"}
{"level":"debug","ts":1603110216.588137,"caller":"eth/client.go:136","msg":"eth.Client#GetERC20Balance(...)","address":"0x4ab6226FB69B24262863ecA0f41830FBbC696F6C","contractAddress":"0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD"}
{"level":"info","ts":1603110216.6132765,"caller":"web/router.go:337","msg":"GET /v2/user/balances","method":"GET","status":200,"path":"/v2/user/balances","query":"","body":"","clientIP":"172.30.0.1","errors":"","servedAt":"2020-10-19 12:23:36","latency":"37.03ms"}
{"level":"debug","ts":1603110216.6758006,"caller":"services/head_tracker.go:277","msg":"Received new head #4 (0x4)","blockHeight":"4","blockHash":"0x935afec1602c7d5b1e6fa237d4b469c17a03ea67570097d9dab5e43dbe0badc8"}
{"level":"debug","ts":1603110216.6846828,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":3}
{"level":"debug","ts":1603110216.6860418,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"3"}
{"level":"debug","ts":1603110216.6953163,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":2}
{"level":"debug","ts":1603110216.6971529,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"2"}
{"level":"debug","ts":1603110216.7170088,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":1}
{"level":"debug","ts":1603110216.7186127,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"1"}
{"level":"debug","ts":1603110216.7291534,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":0}
{"level":"debug","ts":1603110216.7301164,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"0"}
{"level":"debug","ts":1603110216.7510467,"caller":"services/head_tracker.go:386","msg":"HeadTracker: finished backfill","fetched":4,"blockNumber":0,"time":0.0673387,"id":"head_tracker","n":0,"fromBlockHeight":0,"toBlockHeight":-1}
{"level":"debug","ts":1603110216.7564385,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":4,"chainLength":5,"numCallbacks":6}
{"level":"debug","ts":1603110216.7600322,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"1"}
{"level":"debug","ts":1603110216.779759,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 1/24","inHistory":1,"required":24}
{"level":"debug","ts":1603110216.7808502,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 20.8241ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":4,"time":0.0208241,"id":"head_tracker"}
{"level":"debug","ts":1603110216.7828085,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 90.8µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":4,"time":0.0000908,"id":"head_tracker"}
{"level":"debug","ts":1603110216.784001,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 30µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":4,"time":0.00003,"id":"head_tracker"}
{"level":"debug","ts":1603110216.784895,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 21.4µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":4,"time":0.0000214,"id":"head_tracker"}
{"level":"debug","ts":1603110216.8012807,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x4ab6226FB69B24262863ecA0f41830FBbC696F6C","blockNumber":"3"}
{"level":"debug","ts":1603110216.9319773,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 145.4139ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":4,"time":0.1454139,"id":"head_tracker"}
{"level":"debug","ts":1603110216.9334424,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.3µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":4,"time":0.0000063,"id":"head_tracker"}
{"level":"debug","ts":1603110216.93554,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 4 in 259.7298ms","blockNumber":4,"time":0.2597298,"id":"head_tracker"}
{"level":"debug","ts":1603110217.00503,"caller":"services/head_tracker.go:277","msg":"Received new head #5 (0x5)","blockHeight":"5","blockHash":"0x5436d497ec2a961f1fc7556d35370cac07b00388c58bd831da3858475fff5872"}
{"level":"debug","ts":1603110217.015552,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":5,"chainLength":6,"numCallbacks":6}
{"level":"debug","ts":1603110217.0167146,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"2"}
{"level":"debug","ts":1603110217.0372555,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 2/24","inHistory":2,"required":24}
{"level":"debug","ts":1603110217.0409498,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 24.2445ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":5,"time":0.0242445,"id":"head_tracker"}
{"level":"debug","ts":1603110217.044974,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 33.1µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":5,"time":0.0000331,"id":"head_tracker"}
{"level":"debug","ts":1603110217.0474112,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 105.2µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":5,"time":0.0001052,"id":"head_tracker"}
{"level":"debug","ts":1603110217.049971,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 8.2µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":5,"time":0.0000082,"id":"head_tracker"}
{"level":"debug","ts":1603110217.0528576,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x4ab6226FB69B24262863ecA0f41830FBbC696F6C","blockNumber":"4"}
{"level":"info","ts":1603110217.060026,"caller":"services/balance_monitor.go:135","msg":"New ETH balance for 0x4ab6226FB69B24262863ecA0f41830FBbC696F6C: 80.000000000000000000","address":"0x4ab6226FB69B24262863ecA0f41830FBbC696F6C","headNum":"4","ethBalance":"80.000000000000000000","weiBalance":"80000000000000000000","id":"balance_log"}
{"level":"debug","ts":1603110217.0628743,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 11.4873ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":5,"time":0.0114873,"id":"head_tracker"}
{"level":"debug","ts":1603110217.0657153,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 9.4µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":5,"time":0.0000094,"id":"head_tracker"}
{"level":"debug","ts":1603110217.0678413,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 5 in 62.7194ms","blockNumber":5,"time":0.0627194,"id":"head_tracker"}
{"level":"error","ts":1603110416.2246962,"caller":"services/head_tracker.go:198","msg":"Error in new head subscription, unsubscribed: websocket: close 1006 (abnormal closure): unexpected EOF","err":"websocket: close 1006 (abnormal closure): unexpected EOF","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Errorw\n\t/chainlink/core/logger/logger.go:133\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:198"}
{"level":"info","ts":1603110416.2307022,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"info","ts":1603110416.2260575,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"debug","ts":1603110416.2478762,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"warn","ts":1603110416.2593036,"caller":"services/head_tracker.go:224","msg":"Failed to connect to ethereum node ws://ethnode:8545","err":"EthClient#SubscribeNewHead: dial tcp 172.30.0.2:8545: connect: connection refused","errVerbose":"dial tcp 172.30.0.2:8545: connect: connection refused\nEthClient#SubscribeNewHead\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribeToHead\n\t/chainlink/core/services/head_tracker.go:485\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribe\n\t/chainlink/core/services/head_tracker.go:222\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:194\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373"}
{"level":"info","ts":1603110416.2595348,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"info","ts":1603110416.2704935,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 1s"}
{"level":"error","ts":1603110416.2726896,"caller":"logger/logger.go:247","msg":"unable to lock ORM: postgres advisory locking strategy failed on .Lock, timeout set to 500ms: driver: bad connection, lock ID: 1027321974924625846: can't acquire advisory lock","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).RawDB\n\t/chainlink/core/store/orm/orm.go:1467\ngithub.com/smartcontractkit/chainlink/core/services/synchronization.(*statsPusher).Close\n\t/chainlink/core/services/synchronization/stats_pusher.go:123\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop.func1\n\t/chainlink/core/services/chainlink/application.go:209\nsync.(*Once).doSlow\n\t/usr/local/go/src/sync/once.go:66\nsync.(*Once).Do\n\t/usr/local/go/src/sync/once.go:57\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop\n\t/chainlink/core/services/chainlink/application.go:191\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"error","ts":1603110416.2747126,"caller":"chainlink/application.go:158","msg":"write tcp 172.30.0.3:36736->172.30.0.4:5432: write: broken pipe","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.ErrorIf\n\t/chainlink/core/logger/logger.go:209\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"info","ts":1603110428.955872,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110428.957612,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110428.958798,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110428.9642484,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110428.9711342,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110428.978952,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110430.0808082,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110430.082047,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110430.086401,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110430.0952866,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110430.105494,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 172.31.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110430.112259,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 172.31.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110431.4167783,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110431.418296,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110431.4195032,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110431.4247038,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110431.431772,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 172.31.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110431.439549,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 172.31.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110432.7704692,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110432.7718203,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110432.7731986,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110432.780991,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603110432.8548722,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0021833,"rows_affected":0}
{"level":"warn","ts":1603110432.8563905,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603110432.8802571,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0162385,"rows_affected":0}
{"level":"debug","ts":1603110432.8854687,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0022298,"rows_affected":0}
{"level":"debug","ts":1603110432.908724,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.0140356,"rows_affected":0}
{"level":"debug","ts":1603110432.9372997,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.0212629,"rows_affected":0}
{"level":"debug","ts":1603110432.958998,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.0146627,"rows_affected":0}
{"level":"debug","ts":1603110432.9790726,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0072711,"rows_affected":0}
{"level":"debug","ts":1603110432.9942625,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.011186,"rows_affected":0}
{"level":"debug","ts":1603110433.0071657,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0072744,"rows_affected":0}
{"level":"debug","ts":1603110433.025922,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.010592,"rows_affected":0}
{"level":"debug","ts":1603110433.0350523,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0045768,"rows_affected":0}
{"level":"debug","ts":1603110433.0461957,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.0051139,"rows_affected":0}
{"level":"debug","ts":1603110433.0544856,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0035422,"rows_affected":0}
{"level":"debug","ts":1603110433.0642009,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0059131,"rows_affected":0}
{"level":"debug","ts":1603110433.0882616,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0213656,"rows_affected":0}
{"level":"debug","ts":1603110433.0976288,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.0039161,"rows_affected":0}
{"level":"debug","ts":1603110433.1050665,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.0040808,"rows_affected":0}
{"level":"debug","ts":1603110433.1130087,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.0037067,"rows_affected":0}
{"level":"debug","ts":1603110433.1196802,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.0035425,"rows_affected":0}
{"level":"debug","ts":1603110433.128567,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.0044897,"rows_affected":0}
{"level":"debug","ts":1603110433.1472669,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0134163,"rows_affected":0}
{"level":"debug","ts":1603110433.1570134,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.0059851,"rows_affected":0}
{"level":"debug","ts":1603110433.1671112,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0043325,"rows_affected":0}
{"level":"debug","ts":1603110433.175923,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.0037988,"rows_affected":0}
{"level":"debug","ts":1603110433.1877172,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0066327,"rows_affected":0}
{"level":"debug","ts":1603110433.2165885,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.0193798,"rows_affected":0}
{"level":"debug","ts":1603110433.2351415,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0138353,"rows_affected":0}
{"level":"debug","ts":1603110433.2516618,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.0103527,"rows_affected":0}
{"level":"debug","ts":1603110433.2638695,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.009216,"rows_affected":0}
{"level":"debug","ts":1603110433.2708483,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0041214,"rows_affected":0}
{"level":"debug","ts":1603110433.279083,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.0038369,"rows_affected":0}
{"level":"debug","ts":1603110433.290153,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0083344,"rows_affected":0}
{"level":"debug","ts":1603110433.2976513,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0040127,"rows_affected":0}
{"level":"debug","ts":1603110433.3061748,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.0040527,"rows_affected":0}
{"level":"debug","ts":1603110433.319872,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.010345,"rows_affected":0}
{"level":"debug","ts":1603110433.3315942,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0094095,"rows_affected":0}
{"level":"debug","ts":1603110433.368015,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.0325401,"rows_affected":0}
{"level":"debug","ts":1603110433.376569,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.004003,"rows_affected":0}
{"level":"debug","ts":1603110433.3847473,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.0048721,"rows_affected":0}
{"level":"debug","ts":1603110433.4021504,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.0113615,"rows_affected":0}
{"level":"debug","ts":1603110433.4108183,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0042107,"rows_affected":0}
{"level":"debug","ts":1603110433.4186528,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.0038679,"rows_affected":0}
{"level":"debug","ts":1603110433.4272392,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.004733,"rows_affected":0}
{"level":"debug","ts":1603110433.4413006,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0102878,"rows_affected":0}
{"level":"debug","ts":1603110433.4500911,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.00413,"rows_affected":0}
{"level":"debug","ts":1603110433.461042,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.005835,"rows_affected":0}
{"level":"debug","ts":1603110433.478198,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.0114851,"rows_affected":0}
{"level":"debug","ts":1603110433.4870048,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0045833,"rows_affected":0}
{"level":"debug","ts":1603110433.4949493,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0037529,"rows_affected":0}
{"level":"debug","ts":1603110433.5126634,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.0112408,"rows_affected":0}
{"level":"debug","ts":1603110433.5226352,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.0049396,"rows_affected":0}
{"level":"debug","ts":1603110433.5253208,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0014681,"rows_affected":1}
{"level":"debug","ts":1603110433.5282528,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012472,"rows_affected":0}
{"level":"debug","ts":1603110433.5331616,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0033215,"rows_affected":0}
{"level":"debug","ts":1603110433.5518305,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0152983,"rows_affected":0}
{"level":"debug","ts":1603110433.5625918,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0057881,"rows_affected":0}
{"level":"debug","ts":1603110433.5701187,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0035795,"rows_affected":0}
{"level":"debug","ts":1603110433.5781627,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0039072,"rows_affected":0}
{"level":"debug","ts":1603110433.5908759,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0091847,"rows_affected":0}
{"level":"debug","ts":1603110433.6049547,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0026034,"rows_affected":0}
{"level":"debug","ts":1603110433.612846,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0044766,"rows_affected":0}
{"level":"debug","ts":1603110433.6203933,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.004002,"rows_affected":0}
{"level":"debug","ts":1603110433.6239865,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.0027756,"rows_affected":0}
{"level":"debug","ts":1603110433.6262977,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009193,"rows_affected":1}
{"level":"debug","ts":1603110433.6287196,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010318,"rows_affected":0}
{"level":"debug","ts":1603110433.677438,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.0007283,"rows_affected":0}
{"level":"debug","ts":1603110433.6908398,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008509,"rows_affected":1}
{"level":"debug","ts":1603110433.6927164,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010125,"rows_affected":0}
{"level":"debug","ts":1603110433.6954346,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0014375,"rows_affected":0}
{"level":"debug","ts":1603110433.6975436,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008024,"rows_affected":1}
{"level":"debug","ts":1603110433.699236,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006816,"rows_affected":0}
{"level":"debug","ts":1603110433.7019367,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.0010757,"rows_affected":1}
{"level":"debug","ts":1603110433.7086134,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.005571,"rows_affected":1}
{"level":"debug","ts":1603110433.711263,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0016315,"rows_affected":0}
{"level":"debug","ts":1603110433.7185621,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.0055703,"rows_affected":0}
{"level":"debug","ts":1603110433.7221973,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0018604,"rows_affected":1}
{"level":"debug","ts":1603110433.7258034,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0016109,"rows_affected":0}
{"level":"debug","ts":1603110433.7284455,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.001122,"rows_affected":0}
{"level":"debug","ts":1603110433.7396123,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.00863,"rows_affected":0}
{"level":"debug","ts":1603110433.7462149,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0037831,"rows_affected":0}
{"level":"debug","ts":1603110433.7488472,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.001237,"rows_affected":0}
{"level":"debug","ts":1603110433.7508416,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009012,"rows_affected":1}
{"level":"debug","ts":1603110433.7536542,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.001087,"rows_affected":0}
{"level":"debug","ts":1603110433.7823198,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.003166,"rows_affected":0}
{"level":"debug","ts":1603110433.7976708,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0016763,"rows_affected":1}
{"level":"debug","ts":1603110433.8005934,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0015384,"rows_affected":0}
{"level":"debug","ts":1603110433.820067,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0148416,"rows_affected":0}
{"level":"debug","ts":1603110433.8294463,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.0045409,"rows_affected":0}
{"level":"debug","ts":1603110433.8346078,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.002638,"rows_affected":0}
{"level":"debug","ts":1603110433.8398924,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.0040296,"rows_affected":0}
{"level":"debug","ts":1603110433.84322,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0015234,"rows_affected":1}
{"level":"debug","ts":1603110433.8458173,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0015525,"rows_affected":0}
{"level":"debug","ts":1603110433.8474727,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0006309,"rows_affected":0}
{"level":"debug","ts":1603110433.8500776,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012146,"rows_affected":1}
{"level":"debug","ts":1603110433.8555305,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0015844,"rows_affected":0}
{"level":"debug","ts":1603110433.8964107,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0346477,"rows_affected":0}
{"level":"debug","ts":1603110433.91346,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.0127312,"rows_affected":0}
{"level":"debug","ts":1603110433.9164262,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0014781,"rows_affected":1}
{"level":"debug","ts":1603110433.9269526,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0033137,"rows_affected":0}
{"level":"debug","ts":1603110433.9297535,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.0018057,"rows_affected":0}
{"level":"debug","ts":1603110433.9321337,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008665,"rows_affected":1}
{"level":"debug","ts":1603110433.9442728,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0046028,"rows_affected":0}
{"level":"debug","ts":1603110433.9525936,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.0045015,"rows_affected":0}
{"level":"debug","ts":1603110433.9639812,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013061,"rows_affected":1}
{"level":"debug","ts":1603110433.967038,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013177,"rows_affected":0}
{"level":"debug","ts":1603110433.971001,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0010439,"rows_affected":0}
{"level":"debug","ts":1603110433.9799159,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.0050142,"rows_affected":0}
{"level":"debug","ts":1603110434.006501,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0204495,"rows_affected":0}
{"level":"debug","ts":1603110434.0196245,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0049057,"rows_affected":0}
{"level":"debug","ts":1603110434.0236406,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013746,"rows_affected":1}
{"level":"debug","ts":1603110434.0261178,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011096,"rows_affected":0}
{"level":"debug","ts":1603110434.0300682,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.0011702,"rows_affected":0}
{"level":"debug","ts":1603110434.0329378,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0016489,"rows_affected":1}
{"level":"debug","ts":1603110434.039633,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010826,"rows_affected":0}
{"level":"debug","ts":1603110434.0438197,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.0032546,"rows_affected":0}
{"level":"debug","ts":1603110434.0472925,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008565,"rows_affected":1}
{"level":"debug","ts":1603110434.0493128,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005568,"rows_affected":0}
{"level":"debug","ts":1603110434.0523155,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0011503,"rows_affected":0}
{"level":"debug","ts":1603110434.0589325,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0021489,"rows_affected":0}
{"level":"debug","ts":1603110434.0804043,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0170047,"rows_affected":0}
{"level":"debug","ts":1603110434.087887,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0037834,"rows_affected":0}
{"level":"debug","ts":1603110434.0915804,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0014434,"rows_affected":1}
{"level":"debug","ts":1603110434.0939062,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012602,"rows_affected":0}
{"level":"debug","ts":1603110434.0971696,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.0017028,"rows_affected":0}
{"level":"debug","ts":1603110434.0994556,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.000859,"rows_affected":0}
{"level":"debug","ts":1603110434.1025858,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0014589,"rows_affected":0}
{"level":"debug","ts":1603110434.106002,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.001687,"rows_affected":0}
{"level":"debug","ts":1603110434.1180859,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0103145,"rows_affected":0}
{"level":"debug","ts":1603110434.121799,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0019254,"rows_affected":0}
{"level":"debug","ts":1603110434.126024,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0031143,"rows_affected":0}
{"level":"debug","ts":1603110434.1287603,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0014674,"rows_affected":0}
{"level":"debug","ts":1603110434.1329553,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.0020909,"rows_affected":0}
{"level":"debug","ts":1603110434.1355107,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.0008554,"rows_affected":0}
{"level":"debug","ts":1603110434.1414843,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0048517,"rows_affected":0}
{"level":"debug","ts":1603110434.145174,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0023305,"rows_affected":0}
{"level":"debug","ts":1603110434.1505566,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0042407,"rows_affected":0}
{"level":"debug","ts":1603110434.152815,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005795,"rows_affected":1}
{"level":"debug","ts":1603110434.15444,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006669,"rows_affected":0}
{"level":"debug","ts":1603110434.1578138,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.0013585,"rows_affected":0}
{"level":"debug","ts":1603110434.176316,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.0137591,"rows_affected":0}
{"level":"debug","ts":1603110434.1782055,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007669,"rows_affected":1}
{"level":"debug","ts":1603110434.1798656,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009361,"rows_affected":0}
{"level":"debug","ts":1603110434.2172503,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0006291,"rows_affected":0}
{"level":"debug","ts":1603110434.2305932,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007101,"rows_affected":1}
{"level":"debug","ts":1603110434.2328336,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011458,"rows_affected":0}
{"level":"debug","ts":1603110434.2345428,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.000573,"rows_affected":0}
{"level":"debug","ts":1603110434.2386403,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007674,"rows_affected":1}
{"level":"debug","ts":1603110434.2426605,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0029533,"rows_affected":0}
{"level":"debug","ts":1603110434.244218,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.0006351,"rows_affected":0}
{"level":"debug","ts":1603110434.245668,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005804,"rows_affected":1}
{"level":"debug","ts":1603110434.2472289,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006867,"rows_affected":0}
{"level":"debug","ts":1603110434.2494662,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0005946,"rows_affected":0}
{"level":"debug","ts":1603110434.2517073,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0009717,"rows_affected":0}
{"level":"debug","ts":1603110434.2618077,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0080168,"rows_affected":0}
{"level":"debug","ts":1603110434.2679694,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0027144,"rows_affected":0}
{"level":"debug","ts":1603110434.2692466,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000347,"rows_affected":1}
{"level":"debug","ts":1603110434.2706213,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005094,"rows_affected":0}
{"level":"debug","ts":1603110434.2860386,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.0004423,"rows_affected":0}
{"level":"debug","ts":1603110434.2892177,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005693,"rows_affected":1}
{"level":"debug","ts":1603110434.290693,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006222,"rows_affected":0}
{"level":"debug","ts":1603110434.311568,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007632,"rows_affected":1}
{"level":"debug","ts":1603110434.3131886,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008591,"rows_affected":0}
{"level":"debug","ts":1603110434.319937,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.0059445,"rows_affected":0}
{"level":"debug","ts":1603110434.3213952,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000699,"rows_affected":1}
{"level":"debug","ts":1603110434.3227644,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006583,"rows_affected":0}
{"level":"debug","ts":1603110434.3240447,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0005822,"rows_affected":0}
{"level":"debug","ts":1603110434.326127,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012335,"rows_affected":1}
{"level":"debug","ts":1603110434.3277576,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007328,"rows_affected":0}
{"level":"debug","ts":1603110434.328898,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0004148,"rows_affected":0}
{"level":"debug","ts":1603110434.330129,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005966,"rows_affected":1}
{"level":"debug","ts":1603110434.3315375,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007608,"rows_affected":0}
{"level":"debug","ts":1603110434.332609,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0004557,"rows_affected":0}
{"level":"debug","ts":1603110434.3340247,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007751,"rows_affected":1}
{"level":"debug","ts":1603110434.3356872,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009934,"rows_affected":0}
{"level":"debug","ts":1603110434.3397284,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.0021545,"rows_affected":0}
{"level":"debug","ts":1603110434.3409994,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0005691,"rows_affected":0}
{"level":"debug","ts":1603110434.3420606,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.0004425,"rows_affected":0}
{"level":"debug","ts":1603110434.3434372,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006549,"rows_affected":1}
{"level":"debug","ts":1603110434.344703,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006431,"rows_affected":0}
{"level":"debug","ts":1603110434.3523579,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.00546,"rows_affected":0}
{"level":"debug","ts":1603110434.3537443,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006164,"rows_affected":1}
{"level":"debug","ts":1603110434.3552182,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005977,"rows_affected":0}
{"level":"debug","ts":1603110434.3958216,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.0399467,"rows_affected":0}
{"level":"debug","ts":1603110434.3972461,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005489,"rows_affected":1}
{"level":"debug","ts":1603110434.3986385,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000558,"rows_affected":0}
{"level":"debug","ts":1603110434.4014277,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.0019544,"rows_affected":0}
{"level":"debug","ts":1603110434.404644,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.0023839,"rows_affected":0}
{"level":"debug","ts":1603110434.4077666,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0023106,"rows_affected":0}
{"level":"debug","ts":1603110434.4116187,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.0030551,"rows_affected":0}
{"level":"debug","ts":1603110434.4183114,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.0058908,"rows_affected":0}
{"level":"debug","ts":1603110434.4197536,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006362,"rows_affected":1}
{"level":"debug","ts":1603110434.4210427,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006322,"rows_affected":0}
{"level":"debug","ts":1603110434.4340148,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0120971,"rows_affected":0}
{"level":"debug","ts":1603110434.4582372,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0227256,"rows_affected":0}
{"level":"debug","ts":1603110434.4604554,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0009571,"rows_affected":0}
{"level":"debug","ts":1603110434.4624517,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.0005136,"rows_affected":0}
{"level":"debug","ts":1603110434.4680889,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0045928,"rows_affected":0}
{"level":"debug","ts":1603110434.4699225,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008363,"rows_affected":1}
{"level":"debug","ts":1603110434.4731736,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0018564,"rows_affected":0}
{"level":"debug","ts":1603110434.4975944,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.0227484,"rows_affected":0}
{"level":"debug","ts":1603110434.4999487,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011074,"rows_affected":1}
{"level":"debug","ts":1603110434.5023878,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012724,"rows_affected":0}
{"level":"debug","ts":1603110434.5895307,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.085593,"rows_affected":0}
{"level":"debug","ts":1603110434.5911114,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006464,"rows_affected":1}
{"level":"debug","ts":1603110434.5927756,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008622,"rows_affected":0}
{"level":"debug","ts":1603110434.5957131,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.0020305,"rows_affected":0}
{"level":"debug","ts":1603110434.5977945,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006195,"rows_affected":1}
{"level":"debug","ts":1603110434.5991726,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005628,"rows_affected":0}
{"level":"debug","ts":1603110434.6254442,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.0254809,"rows_affected":0}
{"level":"debug","ts":1603110434.6268508,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006263,"rows_affected":1}
{"level":"debug","ts":1603110434.6282613,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006072,"rows_affected":0}
{"level":"debug","ts":1603110434.637258,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.00836,"rows_affected":0}
{"level":"debug","ts":1603110434.6389432,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006959,"rows_affected":1}
{"level":"debug","ts":1603110434.6406171,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008445,"rows_affected":0}
{"level":"debug","ts":1603110434.641901,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0005078,"rows_affected":0}
{"level":"debug","ts":1603110434.6434028,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005422,"rows_affected":1}
{"level":"debug","ts":1603110434.6450033,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007601,"rows_affected":0}
{"level":"debug","ts":1603110434.646784,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.0007992,"rows_affected":0}
{"level":"debug","ts":1603110434.648136,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005348,"rows_affected":1}
{"level":"debug","ts":1603110434.6501188,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006302,"rows_affected":0}
{"level":"debug","ts":1603110434.661626,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.0107444,"rows_affected":0}
{"level":"debug","ts":1603110434.6630118,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005008,"rows_affected":1}
{"level":"debug","ts":1603110434.6641965,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005679,"rows_affected":0}
{"level":"debug","ts":1603110434.6659467,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.000691,"rows_affected":0}
{"level":"debug","ts":1603110434.6672027,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005064,"rows_affected":1}
{"level":"debug","ts":1603110434.6685517,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005914,"rows_affected":0}
{"level":"debug","ts":1603110434.67291,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.0035965,"rows_affected":0}
{"level":"debug","ts":1603110434.6745636,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006642,"rows_affected":1}
{"level":"debug","ts":1603110434.6760514,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000649,"rows_affected":0}
{"level":"debug","ts":1603110434.6792414,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.002211,"rows_affected":0}
{"level":"debug","ts":1603110434.6807475,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007202,"rows_affected":1}
{"level":"debug","ts":1603110434.6824472,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000665,"rows_affected":0}
{"level":"debug","ts":1603110434.7501178,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.0668189,"rows_affected":0}
{"level":"debug","ts":1603110434.7520435,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008263,"rows_affected":1}
{"level":"debug","ts":1603110434.7537904,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007612,"rows_affected":0}
{"level":"debug","ts":1603110434.7574422,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.0025828,"rows_affected":0}
{"level":"debug","ts":1603110434.7590158,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006889,"rows_affected":1}
{"level":"debug","ts":1603110434.760191,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005484,"rows_affected":0}
{"level":"debug","ts":1603110434.774258,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0132591,"rows_affected":0}
{"level":"debug","ts":1603110434.7757504,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005964,"rows_affected":1}
{"level":"debug","ts":1603110434.7771018,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005916,"rows_affected":0}
{"level":"debug","ts":1603110434.9635212,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.1855493,"rows_affected":0}
{"level":"debug","ts":1603110434.9651585,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006339,"rows_affected":1}
{"level":"debug","ts":1603110434.9665325,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005929,"rows_affected":0}
{"level":"debug","ts":1603110434.9697087,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.0024659,"rows_affected":0}
{"level":"debug","ts":1603110434.9714086,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005603,"rows_affected":1}
{"level":"debug","ts":1603110434.9727342,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005743,"rows_affected":0}
{"level":"debug","ts":1603110434.9792008,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.0057653,"rows_affected":0}
{"level":"debug","ts":1603110434.9805844,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005499,"rows_affected":1}
{"level":"debug","ts":1603110434.98181,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006139,"rows_affected":0}
{"level":"debug","ts":1603110435.0290735,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0465754,"rows_affected":0}
{"level":"debug","ts":1603110435.0314372,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007562,"rows_affected":1}
{"level":"debug","ts":1603110435.0332916,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006039,"rows_affected":0}
{"level":"debug","ts":1603110435.045198,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.0112496,"rows_affected":0}
{"level":"debug","ts":1603110435.0465794,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004364,"rows_affected":1}
{"level":"debug","ts":1603110435.0477962,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004971,"rows_affected":0}
{"level":"debug","ts":1603110435.0536876,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.0053894,"rows_affected":0}
{"level":"debug","ts":1603110435.0548487,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004296,"rows_affected":1}
{"level":"debug","ts":1603110435.055986,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005235,"rows_affected":0}
{"level":"debug","ts":1603110435.0687451,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.0120167,"rows_affected":0}
{"level":"debug","ts":1603110435.070209,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006249,"rows_affected":1}
{"level":"debug","ts":1603110435.0714579,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006397,"rows_affected":0}
{"level":"debug","ts":1603110435.0770764,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.0048181,"rows_affected":0}
{"level":"debug","ts":1603110435.0808103,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0016412,"rows_affected":1}
{"level":"debug","ts":1603110435.0841358,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0020012,"rows_affected":0}
{"level":"debug","ts":1603110435.086507,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.0006798,"rows_affected":0}
{"level":"debug","ts":1603110435.0885146,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008581,"rows_affected":1}
{"level":"debug","ts":1603110435.0904975,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009624,"rows_affected":0}
{"level":"debug","ts":1603110435.0920706,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.0005969,"rows_affected":0}
{"level":"debug","ts":1603110435.093177,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004609,"rows_affected":1}
{"level":"debug","ts":1603110435.0946069,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005105,"rows_affected":0}
{"level":"debug","ts":1603110435.1047897,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.009352,"rows_affected":0}
{"level":"debug","ts":1603110435.1064293,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006269,"rows_affected":1}
{"level":"debug","ts":1603110435.1083589,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010321,"rows_affected":0}
{"level":"debug","ts":1603110435.110952,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0010807,"rows_affected":0}
{"level":"debug","ts":1603110435.112302,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004255,"rows_affected":1}
{"level":"debug","ts":1603110435.1137276,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005587,"rows_affected":0}
{"level":"debug","ts":1603110435.1326218,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.0179678,"rows_affected":0}
{"level":"debug","ts":1603110435.1341035,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007702,"rows_affected":1}
{"level":"info","ts":1603110438.086822,"caller":"store/key_store.go:73","msg":"Unlocked account 0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","address":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0"}
{"level":"debug","ts":1603110438.0950887,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603110438.1656604,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603110438.1672869,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603110438.188143,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603110438.195211,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603110438.1970508,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603110438.1984751,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603110438.200572,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603110438.2047749,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603110438.2058344,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603110438.2068024,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110438.207812,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2085834,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603110438.2094924,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603110438.210278,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2112875,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2121077,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2130718,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2138166,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2145386,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110438.21546,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2161245,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110438.216912,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2177951,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110438.218719,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110438.2194932,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2179832,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603110438.220595,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603110438.222464,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2231066,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2248785,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110438.2259521,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2272794,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2284286,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603110438.229388,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2302234,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2285728,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603110438.2320158,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0"}
{"level":"debug","ts":1603110438.2315435,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2336588,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2344425,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110438.2351928,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110438.2360866,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2367482,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2373874,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110438.2380264,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"info","ts":1603110438.2510438,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"debug","ts":1603110438.2523036,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","blockNumber":"<nil>"}
{"level":"info","ts":1603110438.256488,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0: 0.000000000000000000","address":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"info","ts":1603110438.258255,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"debug","ts":1603110454.7800035,"caller":"services/head_tracker.go:277","msg":"Received new head #1 (0x1)","blockHeight":"1","blockHash":"0x525895c7c2f0178cc949127ecfae6e1a92bf90c8d6b87f33ae651c35b1be456a"}
{"level":"debug","ts":1603110454.791389,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":0}
{"level":"debug","ts":1603110454.7929678,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"0"}
{"level":"debug","ts":1603110454.8133347,"caller":"services/head_tracker.go:386","msg":"HeadTracker: finished backfill","fetched":1,"blockNumber":0,"time":0.0228364,"id":"head_tracker","n":0,"fromBlockHeight":0,"toBlockHeight":-1}
{"level":"debug","ts":1603110454.816237,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":1,"chainLength":2,"numCallbacks":6}
{"level":"warn","ts":1603110454.8171072,"caller":"services/gas_updater.go:89","msg":"GasUpdater: skipping gas calculation, current block height 1 is lower than GAS_UPDATER_BLOCK_DELAY of 3"}
{"level":"debug","ts":1603110454.817891,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 790.1µs","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":1,"time":0.0007901,"id":"head_tracker"}
{"level":"debug","ts":1603110454.8187277,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 61.3µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":1,"time":0.0000613,"id":"head_tracker"}
{"level":"debug","ts":1603110454.819482,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 97µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":1,"time":0.000097,"id":"head_tracker"}
{"level":"debug","ts":1603110454.8200803,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 5.6µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":1,"time":0.0000056,"id":"head_tracker"}
{"level":"debug","ts":1603110454.821805,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","blockNumber":"0"}
{"level":"debug","ts":1603110454.8366728,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 15.8806ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":1,"time":0.0158806,"id":"head_tracker"}
{"level":"debug","ts":1603110454.8381426,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.8µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":1,"time":0.0000068,"id":"head_tracker"}
{"level":"debug","ts":1603110454.8395166,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 1 in 59.3864ms","blockNumber":1,"time":0.0593864,"id":"head_tracker"}
{"level":"debug","ts":1603110454.936469,"caller":"services/head_tracker.go:277","msg":"Received new head #2 (0x2)","blockHeight":"2","blockHash":"0x679d0245b5f2de22966c62f8b90e2bf5764768e4d473ced8e571b8fa4d066d96"}
{"level":"debug","ts":1603110454.948094,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":2,"chainLength":3,"numCallbacks":6}
{"level":"warn","ts":1603110454.949527,"caller":"services/gas_updater.go:89","msg":"GasUpdater: skipping gas calculation, current block height 2 is lower than GAS_UPDATER_BLOCK_DELAY of 3"}
{"level":"debug","ts":1603110454.9507496,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 1.4429ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":2,"time":0.0014429,"id":"head_tracker"}
{"level":"debug","ts":1603110454.951999,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 24.3µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":2,"time":0.0000243,"id":"head_tracker"}
{"level":"debug","ts":1603110454.953279,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 30.3µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":2,"time":0.0000303,"id":"head_tracker"}
{"level":"debug","ts":1603110454.9543169,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 6.5µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":2,"time":0.0000065,"id":"head_tracker"}
{"level":"debug","ts":1603110454.956502,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","blockNumber":"1"}
{"level":"debug","ts":1603110454.9726262,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 16.8449ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":2,"time":0.0168449,"id":"head_tracker"}
{"level":"debug","ts":1603110454.9739294,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 7µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":2,"time":0.000007,"id":"head_tracker"}
{"level":"debug","ts":1603110454.9752297,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 2 in 38.7138ms","blockNumber":2,"time":0.0387138,"id":"head_tracker"}
{"level":"debug","ts":1603110455.1975982,"caller":"services/head_tracker.go:277","msg":"Received new head #3 (0x3)","blockHeight":"3","blockHash":"0xf4d826315adaf0a8ce33899d08fde7d5dbb4f310527edc287ade86fe1a32fe70"}
{"level":"debug","ts":1603110455.2089412,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":3,"chainLength":4,"numCallbacks":6}
{"level":"debug","ts":1603110455.2120438,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"0"}
{"level":"debug","ts":1603110455.2350469,"caller":"services/gas_updater.go:112","msg":"GasUpdater: skipping empty block: 0","blockNumber":0}
{"level":"debug","ts":1603110455.2371387,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 24.9144ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":3,"time":0.0249144,"id":"head_tracker"}
{"level":"debug","ts":1603110455.2391522,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 89µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":3,"time":0.000089,"id":"head_tracker"}
{"level":"debug","ts":1603110455.2413173,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 43.8µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":3,"time":0.0000438,"id":"head_tracker"}
{"level":"debug","ts":1603110455.2433662,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 8.6µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":3,"time":0.0000086,"id":"head_tracker"}
{"level":"debug","ts":1603110455.2466502,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","blockNumber":"2"}
{"level":"debug","ts":1603110455.2753472,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 29.977ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":3,"time":0.029977,"id":"head_tracker"}
{"level":"debug","ts":1603110455.2768056,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 8.8µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":3,"time":0.0000088,"id":"head_tracker"}
{"level":"debug","ts":1603110455.2789645,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 3 in 81.3125ms","blockNumber":3,"time":0.0813125,"id":"head_tracker"}
{"level":"info","ts":1603110455.3241673,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":200,"path":"/sessions","query":"","body":"{\"email\":\"user@mail.com\",\"password\":\"*REDACTED*\"}","clientIP":"172.31.0.1","errors":"","servedAt":"2020-10-19 12:27:35","latency":"107.7965ms"}
{"level":"debug","ts":1603110455.3400662,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","blockNumber":"<nil>"}
{"level":"debug","ts":1603110455.344786,"caller":"eth/client.go:136","msg":"eth.Client#GetERC20Balance(...)","address":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","contractAddress":"0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD"}
{"level":"info","ts":1603110455.3830245,"caller":"web/router.go:337","msg":"GET /v2/user/balances","method":"GET","status":200,"path":"/v2/user/balances","query":"","body":"","clientIP":"172.31.0.1","errors":"","servedAt":"2020-10-19 12:27:35","latency":"50.8909ms"}
{"level":"info","ts":1603110455.4597633,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":200,"path":"/sessions","query":"","body":"{\"email\":\"user@mail.com\",\"password\":\"*REDACTED*\"}","clientIP":"172.31.0.1","errors":"","servedAt":"2020-10-19 12:27:35","latency":"70.2484ms"}
{"level":"debug","ts":1603110455.4696617,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","blockNumber":"<nil>"}
{"level":"debug","ts":1603110455.4737868,"caller":"eth/client.go:136","msg":"eth.Client#GetERC20Balance(...)","address":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","contractAddress":"0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD"}
{"level":"info","ts":1603110455.5017116,"caller":"web/router.go:337","msg":"GET /v2/user/balances","method":"GET","status":200,"path":"/v2/user/balances","query":"","body":"","clientIP":"172.31.0.1","errors":"","servedAt":"2020-10-19 12:27:35","latency":"36.8246ms"}
{"level":"debug","ts":1603110455.5811749,"caller":"services/head_tracker.go:277","msg":"Received new head #4 (0x4)","blockHeight":"4","blockHash":"0x7c211d86b334e12c8834684c001e762daabc0b5a4a73f9264a00c4c5ca08d57a"}
{"level":"debug","ts":1603110455.5887237,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":4,"chainLength":5,"numCallbacks":6}
{"level":"debug","ts":1603110455.5896437,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"1"}
{"level":"debug","ts":1603110455.6142623,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 1/24","inHistory":1,"required":24}
{"level":"debug","ts":1603110455.6152713,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 25.6352ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":4,"time":0.0256352,"id":"head_tracker"}
{"level":"debug","ts":1603110455.615933,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 18.2µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":4,"time":0.0000182,"id":"head_tracker"}
{"level":"debug","ts":1603110455.6171699,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 31.9µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":4,"time":0.0000319,"id":"head_tracker"}
{"level":"debug","ts":1603110455.6182568,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.3µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":4,"time":0.0000073,"id":"head_tracker"}
{"level":"debug","ts":1603110455.6208456,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","blockNumber":"3"}
{"level":"debug","ts":1603110455.6316848,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 12.1205ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":4,"time":0.0121205,"id":"head_tracker"}
{"level":"debug","ts":1603110455.6327286,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 7.3µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":4,"time":0.0000073,"id":"head_tracker"}
{"level":"debug","ts":1603110455.635151,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 4 in 53.9364ms","blockNumber":4,"time":0.0539364,"id":"head_tracker"}
{"level":"debug","ts":1603110455.9619484,"caller":"services/head_tracker.go:277","msg":"Received new head #5 (0x5)","blockHeight":"5","blockHash":"0x37cb6840b975d36599eb4f43cb3228ea863928f3bde5b3eb276f1fb90b67b1a7"}
{"level":"debug","ts":1603110455.973084,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":5,"chainLength":6,"numCallbacks":6}
{"level":"debug","ts":1603110455.9745677,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"2"}
{"level":"debug","ts":1603110456.003529,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 2/24","inHistory":2,"required":24}
{"level":"debug","ts":1603110456.0060172,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 31.3915ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":5,"time":0.0313915,"id":"head_tracker"}
{"level":"debug","ts":1603110456.0079713,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 82µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":5,"time":0.000082,"id":"head_tracker"}
{"level":"debug","ts":1603110456.0097694,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 331.2µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":5,"time":0.0003312,"id":"head_tracker"}
{"level":"debug","ts":1603110456.011035,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 8.2µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":5,"time":0.0000082,"id":"head_tracker"}
{"level":"debug","ts":1603110456.0133028,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","blockNumber":"4"}
{"level":"info","ts":1603110456.0371222,"caller":"services/balance_monitor.go:135","msg":"New ETH balance for 0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0: 80.000000000000000000","address":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","headNum":"4","ethBalance":"80.000000000000000000","weiBalance":"80000000000000000000","id":"balance_log"}
{"level":"debug","ts":1603110456.0381715,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 25.8939ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":5,"time":0.0258939,"id":"head_tracker"}
{"level":"debug","ts":1603110456.039162,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 7.8µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":5,"time":0.0000078,"id":"head_tracker"}
{"level":"debug","ts":1603110456.040151,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 5 in 78.1918ms","blockNumber":5,"time":0.0781918,"id":"head_tracker"}
{"level":"debug","ts":1603110456.1689646,"caller":"services/head_tracker.go:277","msg":"Received new head #6 (0x6)","blockHeight":"6","blockHash":"0x0aec8b5adb4a43cafd1cbe6494fde5ae7c6e02a61337da4c36a8d6b21c5b2471"}
{"level":"debug","ts":1603110456.1755562,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":6,"chainLength":7,"numCallbacks":6}
{"level":"debug","ts":1603110456.1766396,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"3"}
{"level":"debug","ts":1603110456.1928809,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 3/24","inHistory":3,"required":24}
{"level":"debug","ts":1603110456.1945148,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 17.8752ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":6,"time":0.0178752,"id":"head_tracker"}
{"level":"debug","ts":1603110456.195263,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 11.1µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":6,"time":0.0000111,"id":"head_tracker"}
{"level":"debug","ts":1603110456.1959603,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 14µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":6,"time":0.000014,"id":"head_tracker"}
{"level":"debug","ts":1603110456.1971357,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.9µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":6,"time":0.0000079,"id":"head_tracker"}
{"level":"debug","ts":1603110456.1990395,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0xAd4d9aa364C16e1D34375F6F89142E4DA2d9cCF0","blockNumber":"5"}
{"level":"debug","ts":1603110456.204098,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 5.8091ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":6,"time":0.0058091,"id":"head_tracker"}
{"level":"debug","ts":1603110456.2056408,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 7µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":6,"time":0.000007,"id":"head_tracker"}
{"level":"debug","ts":1603110456.2068126,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 6 in 37.8127ms","blockNumber":6,"time":0.0378127,"id":"head_tracker"}
{"level":"error","ts":1603110531.1525736,"caller":"services/head_tracker.go:198","msg":"Error in new head subscription, unsubscribed: websocket: close 1006 (abnormal closure): unexpected EOF","err":"websocket: close 1006 (abnormal closure): unexpected EOF","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Errorw\n\t/chainlink/core/logger/logger.go:133\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:198"}
{"level":"info","ts":1603110531.1544359,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603110531.1565273,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"info","ts":1603110531.1573815,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"info","ts":1603110531.17761,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"warn","ts":1603110531.1774385,"caller":"services/head_tracker.go:224","msg":"Failed to connect to ethereum node ws://ethnode:8545","err":"EthClient#SubscribeNewHead: dial tcp 172.31.0.2:8545: connect: connection refused","errVerbose":"dial tcp 172.31.0.2:8545: connect: connection refused\nEthClient#SubscribeNewHead\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribeToHead\n\t/chainlink/core/services/head_tracker.go:485\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).subscribe\n\t/chainlink/core/services/head_tracker.go:222\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:194\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373"}
{"level":"info","ts":1603110531.17984,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 1s"}
{"level":"error","ts":1603110531.1814167,"caller":"logger/logger.go:247","msg":"unable to lock ORM: postgres advisory locking strategy failed on .Lock, timeout set to 500ms: driver: bad connection, lock ID: 1027321974924625846: can't acquire advisory lock","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).RawDB\n\t/chainlink/core/store/orm/orm.go:1467\ngithub.com/smartcontractkit/chainlink/core/services/synchronization.(*statsPusher).Close\n\t/chainlink/core/services/synchronization/stats_pusher.go:123\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop.func1\n\t/chainlink/core/services/chainlink/application.go:209\nsync.(*Once).doSlow\n\t/usr/local/go/src/sync/once.go:66\nsync.(*Once).Do\n\t/usr/local/go/src/sync/once.go:57\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop\n\t/chainlink/core/services/chainlink/application.go:191\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"error","ts":1603110531.1831748,"caller":"chainlink/application.go:158","msg":"write tcp 172.31.0.3:60426->172.31.0.4:5432: write: broken pipe","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.ErrorIf\n\t/chainlink/core/logger/logger.go:209\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"info","ts":1603110536.9914982,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110536.9928865,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110536.994353,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110536.9983234,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110537.0061994,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110537.013501,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp: lookup bridge_db on 127.0.0.11:53: no such host\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110538.2594845,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110538.2613325,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110538.2622883,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110538.2651746,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110538.2703717,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 192.168.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110538.2729428,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 192.168.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110539.6356914,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110539.6393561,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110539.643239,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110539.6476226,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110539.6567376,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 192.168.0.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110539.6680837,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 192.168.0.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110540.9484859,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110540.9496734,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110540.9505157,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110540.9529777,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603110541.0055964,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0012319,"rows_affected":0}
{"level":"warn","ts":1603110541.0070448,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603110541.024558,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0068435,"rows_affected":0}
{"level":"debug","ts":1603110541.0273788,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0018243,"rows_affected":0}
{"level":"debug","ts":1603110541.0391877,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.0084532,"rows_affected":0}
{"level":"debug","ts":1603110541.055157,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.0119333,"rows_affected":0}
{"level":"debug","ts":1603110541.0683336,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.009943,"rows_affected":0}
{"level":"debug","ts":1603110541.0790174,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0055729,"rows_affected":0}
{"level":"debug","ts":1603110541.087983,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.0068542,"rows_affected":0}
{"level":"debug","ts":1603110541.0932493,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0030688,"rows_affected":0}
{"level":"debug","ts":1603110541.106601,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0107356,"rows_affected":0}
{"level":"debug","ts":1603110541.1169453,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0040862,"rows_affected":0}
{"level":"debug","ts":1603110541.1229901,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.00341,"rows_affected":0}
{"level":"debug","ts":1603110541.1281931,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0026879,"rows_affected":0}
{"level":"debug","ts":1603110541.1334276,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0030038,"rows_affected":0}
{"level":"debug","ts":1603110541.146653,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0108214,"rows_affected":0}
{"level":"debug","ts":1603110541.1519852,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.0027403,"rows_affected":0}
{"level":"debug","ts":1603110541.1573493,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.0027832,"rows_affected":0}
{"level":"debug","ts":1603110541.163452,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.0029112,"rows_affected":0}
{"level":"debug","ts":1603110541.1700907,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.003766,"rows_affected":0}
{"level":"debug","ts":1603110541.177984,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.0032274,"rows_affected":0}
{"level":"debug","ts":1603110541.1879961,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0079275,"rows_affected":0}
{"level":"debug","ts":1603110541.1925163,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.0020351,"rows_affected":0}
{"level":"debug","ts":1603110541.1987576,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0034674,"rows_affected":0}
{"level":"debug","ts":1603110541.2041101,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.0022946,"rows_affected":0}
{"level":"debug","ts":1603110541.2089977,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0025743,"rows_affected":0}
{"level":"debug","ts":1603110541.2170632,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.005905,"rows_affected":0}
{"level":"debug","ts":1603110541.2277684,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0081695,"rows_affected":0}
{"level":"debug","ts":1603110541.235044,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.0048436,"rows_affected":0}
{"level":"debug","ts":1603110541.2463093,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.0084152,"rows_affected":0}
{"level":"debug","ts":1603110541.2521777,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.0033527,"rows_affected":0}
{"level":"debug","ts":1603110541.2580965,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0030341,"rows_affected":0}
{"level":"debug","ts":1603110541.2699642,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0091132,"rows_affected":0}
{"level":"debug","ts":1603110541.2766242,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.0033203,"rows_affected":0}
{"level":"debug","ts":1603110541.282066,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0026281,"rows_affected":0}
{"level":"debug","ts":1603110541.2917123,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.0068171,"rows_affected":0}
{"level":"debug","ts":1603110541.301416,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0072058,"rows_affected":0}
{"level":"debug","ts":1603110541.3070824,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.0030555,"rows_affected":0}
{"level":"debug","ts":1603110541.3124928,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.0030178,"rows_affected":0}
{"level":"debug","ts":1603110541.3177218,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.0022621,"rows_affected":0}
{"level":"debug","ts":1603110541.3313909,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.0112817,"rows_affected":0}
{"level":"debug","ts":1603110541.3413382,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0054375,"rows_affected":0}
{"level":"debug","ts":1603110541.3477302,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.0033545,"rows_affected":0}
{"level":"debug","ts":1603110541.3538363,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.0025954,"rows_affected":0}
{"level":"debug","ts":1603110541.36449,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0078543,"rows_affected":0}
{"level":"debug","ts":1603110541.3705866,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0035907,"rows_affected":0}
{"level":"debug","ts":1603110541.3782773,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0035018,"rows_affected":0}
{"level":"debug","ts":1603110541.3947086,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.0118869,"rows_affected":0}
{"level":"debug","ts":1603110541.4012964,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0033316,"rows_affected":0}
{"level":"debug","ts":1603110541.4092622,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.004176,"rows_affected":0}
{"level":"debug","ts":1603110541.421404,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.0086344,"rows_affected":0}
{"level":"debug","ts":1603110541.4325237,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.004227,"rows_affected":0}
{"level":"debug","ts":1603110541.4358225,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0015171,"rows_affected":1}
{"level":"debug","ts":1603110541.4380128,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000996,"rows_affected":0}
{"level":"debug","ts":1603110541.4415221,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0019281,"rows_affected":0}
{"level":"debug","ts":1603110541.457275,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0124461,"rows_affected":0}
{"level":"debug","ts":1603110541.4648266,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0039724,"rows_affected":0}
{"level":"debug","ts":1603110541.4713814,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0025379,"rows_affected":0}
{"level":"debug","ts":1603110541.4763725,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0019485,"rows_affected":0}
{"level":"debug","ts":1603110541.4863777,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0072548,"rows_affected":0}
{"level":"debug","ts":1603110541.492202,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0029981,"rows_affected":0}
{"level":"debug","ts":1603110541.4982946,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0028942,"rows_affected":0}
{"level":"debug","ts":1603110541.5042956,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.0034711,"rows_affected":0}
{"level":"debug","ts":1603110541.507426,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.0021256,"rows_affected":0}
{"level":"debug","ts":1603110541.5090811,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000647,"rows_affected":1}
{"level":"debug","ts":1603110541.510673,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006084,"rows_affected":0}
{"level":"debug","ts":1603110541.5425189,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.0005542,"rows_affected":0}
{"level":"debug","ts":1603110541.5526912,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006856,"rows_affected":1}
{"level":"debug","ts":1603110541.554426,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008363,"rows_affected":0}
{"level":"debug","ts":1603110541.5562463,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0008343,"rows_affected":0}
{"level":"debug","ts":1603110541.5577047,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006022,"rows_affected":1}
{"level":"debug","ts":1603110541.5596068,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007322,"rows_affected":0}
{"level":"debug","ts":1603110541.5615144,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.0007633,"rows_affected":1}
{"level":"debug","ts":1603110541.563089,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007217,"rows_affected":1}
{"level":"debug","ts":1603110541.5647388,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009849,"rows_affected":0}
{"level":"debug","ts":1603110541.569698,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.0039145,"rows_affected":0}
{"level":"debug","ts":1603110541.5718029,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.001031,"rows_affected":1}
{"level":"debug","ts":1603110541.573327,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007744,"rows_affected":0}
{"level":"debug","ts":1603110541.5748672,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.0007856,"rows_affected":0}
{"level":"debug","ts":1603110541.583805,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.0064215,"rows_affected":0}
{"level":"debug","ts":1603110541.5889297,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0026294,"rows_affected":0}
{"level":"debug","ts":1603110541.5906832,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.0009615,"rows_affected":0}
{"level":"debug","ts":1603110541.5931458,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007259,"rows_affected":1}
{"level":"debug","ts":1603110541.5946913,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005834,"rows_affected":0}
{"level":"debug","ts":1603110541.6134713,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.0006887,"rows_affected":0}
{"level":"debug","ts":1603110541.6227663,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006603,"rows_affected":1}
{"level":"debug","ts":1603110541.62411,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005806,"rows_affected":0}
{"level":"debug","ts":1603110541.6350684,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0085359,"rows_affected":0}
{"level":"debug","ts":1603110541.6401322,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.0030167,"rows_affected":0}
{"level":"debug","ts":1603110541.6444166,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.0019355,"rows_affected":0}
{"level":"debug","ts":1603110541.646383,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.0012984,"rows_affected":0}
{"level":"debug","ts":1603110541.647713,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006419,"rows_affected":1}
{"level":"debug","ts":1603110541.649342,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007612,"rows_affected":0}
{"level":"debug","ts":1603110541.650694,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0005212,"rows_affected":0}
{"level":"debug","ts":1603110541.6522,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006265,"rows_affected":1}
{"level":"debug","ts":1603110541.6538177,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007625,"rows_affected":0}
{"level":"debug","ts":1603110541.663998,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0082178,"rows_affected":0}
{"level":"debug","ts":1603110541.6685784,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.0017578,"rows_affected":0}
{"level":"debug","ts":1603110541.6701162,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007654,"rows_affected":1}
{"level":"debug","ts":1603110541.6716006,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008596,"rows_affected":0}
{"level":"debug","ts":1603110541.6735725,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.0011357,"rows_affected":0}
{"level":"debug","ts":1603110541.6748288,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004801,"rows_affected":1}
{"level":"debug","ts":1603110541.6764138,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006288,"rows_affected":0}
{"level":"debug","ts":1603110541.6777728,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.0005074,"rows_affected":0}
{"level":"debug","ts":1603110541.6793585,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006183,"rows_affected":1}
{"level":"debug","ts":1603110541.6810532,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009604,"rows_affected":0}
{"level":"debug","ts":1603110541.68274,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0005279,"rows_affected":0}
{"level":"debug","ts":1603110541.6845558,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.0011249,"rows_affected":0}
{"level":"debug","ts":1603110541.6973062,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0104325,"rows_affected":0}
{"level":"debug","ts":1603110541.7039762,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0034087,"rows_affected":0}
{"level":"debug","ts":1603110541.7063348,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010005,"rows_affected":1}
{"level":"debug","ts":1603110541.7075987,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007185,"rows_affected":0}
{"level":"debug","ts":1603110541.7095404,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.0007199,"rows_affected":0}
{"level":"debug","ts":1603110541.7113075,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008427,"rows_affected":1}
{"level":"debug","ts":1603110541.7135851,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010761,"rows_affected":0}
{"level":"debug","ts":1603110541.7170658,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.0024843,"rows_affected":0}
{"level":"debug","ts":1603110541.7183638,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005754,"rows_affected":1}
{"level":"debug","ts":1603110541.7202232,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012943,"rows_affected":0}
{"level":"debug","ts":1603110541.7215967,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0005495,"rows_affected":0}
{"level":"debug","ts":1603110541.723519,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0011761,"rows_affected":0}
{"level":"debug","ts":1603110541.7352753,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0092042,"rows_affected":0}
{"level":"debug","ts":1603110541.7408495,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0026973,"rows_affected":0}
{"level":"debug","ts":1603110541.7427685,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008326,"rows_affected":1}
{"level":"debug","ts":1603110541.7441268,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006909,"rows_affected":0}
{"level":"debug","ts":1603110541.7459087,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.001051,"rows_affected":0}
{"level":"debug","ts":1603110541.7475207,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0005468,"rows_affected":0}
{"level":"debug","ts":1603110541.748991,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0005915,"rows_affected":0}
{"level":"debug","ts":1603110541.7502737,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0005189,"rows_affected":0}
{"level":"debug","ts":1603110541.7561395,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0052544,"rows_affected":0}
{"level":"debug","ts":1603110541.758592,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0016496,"rows_affected":0}
{"level":"debug","ts":1603110541.7604785,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0010566,"rows_affected":0}
{"level":"debug","ts":1603110541.762378,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0010476,"rows_affected":0}
{"level":"debug","ts":1603110541.7640152,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.0009106,"rows_affected":0}
{"level":"debug","ts":1603110541.7654808,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.0004833,"rows_affected":0}
{"level":"debug","ts":1603110541.7683609,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0021653,"rows_affected":0}
{"level":"debug","ts":1603110541.7703686,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0011169,"rows_affected":0}
{"level":"debug","ts":1603110541.7738824,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0024043,"rows_affected":0}
{"level":"debug","ts":1603110541.7754366,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005084,"rows_affected":1}
{"level":"debug","ts":1603110541.7807517,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008764,"rows_affected":0}
{"level":"debug","ts":1603110541.7840767,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.000934,"rows_affected":0}
{"level":"debug","ts":1603110541.7939217,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.0075088,"rows_affected":0}
{"level":"debug","ts":1603110541.7951927,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000615,"rows_affected":1}
{"level":"debug","ts":1603110541.7968378,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008505,"rows_affected":0}
{"level":"debug","ts":1603110541.7990026,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0005675,"rows_affected":0}
{"level":"debug","ts":1603110541.8108928,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000576,"rows_affected":1}
{"level":"debug","ts":1603110541.812915,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011455,"rows_affected":0}
{"level":"debug","ts":1603110541.8144548,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.0006445,"rows_affected":0}
{"level":"debug","ts":1603110541.8160045,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005877,"rows_affected":1}
{"level":"debug","ts":1603110541.8173249,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006833,"rows_affected":0}
{"level":"debug","ts":1603110541.8189287,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.0007411,"rows_affected":0}
{"level":"debug","ts":1603110541.82094,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009774,"rows_affected":1}
{"level":"debug","ts":1603110541.8222172,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000604,"rows_affected":0}
{"level":"debug","ts":1603110541.8236952,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0005629,"rows_affected":0}
{"level":"debug","ts":1603110541.8255446,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0010762,"rows_affected":0}
{"level":"debug","ts":1603110541.8365736,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0090512,"rows_affected":0}
{"level":"debug","ts":1603110541.840591,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0017126,"rows_affected":0}
{"level":"debug","ts":1603110541.8419726,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005805,"rows_affected":1}
{"level":"debug","ts":1603110541.843306,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006122,"rows_affected":0}
{"level":"debug","ts":1603110541.8606377,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.0005337,"rows_affected":0}
{"level":"debug","ts":1603110541.8635683,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007094,"rows_affected":1}
{"level":"debug","ts":1603110541.8650198,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007521,"rows_affected":0}
{"level":"debug","ts":1603110541.888046,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006022,"rows_affected":1}
{"level":"debug","ts":1603110541.8896637,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006804,"rows_affected":0}
{"level":"debug","ts":1603110541.8960252,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.0056066,"rows_affected":0}
{"level":"debug","ts":1603110541.8981295,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006155,"rows_affected":1}
{"level":"debug","ts":1603110541.8995187,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005882,"rows_affected":0}
{"level":"debug","ts":1603110541.901078,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0007346,"rows_affected":0}
{"level":"debug","ts":1603110541.9024746,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006785,"rows_affected":1}
{"level":"debug","ts":1603110541.9041991,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007523,"rows_affected":0}
{"level":"debug","ts":1603110541.905652,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0003497,"rows_affected":0}
{"level":"debug","ts":1603110541.9068727,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004866,"rows_affected":1}
{"level":"debug","ts":1603110541.9083786,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006493,"rows_affected":0}
{"level":"debug","ts":1603110541.9096155,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0004709,"rows_affected":0}
{"level":"debug","ts":1603110541.911066,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006495,"rows_affected":1}
{"level":"debug","ts":1603110541.9173293,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010214,"rows_affected":0}
{"level":"debug","ts":1603110541.9192672,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.0010032,"rows_affected":0}
{"level":"debug","ts":1603110541.9212668,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0010114,"rows_affected":0}
{"level":"debug","ts":1603110541.9230766,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.0006053,"rows_affected":0}
{"level":"debug","ts":1603110541.9247904,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008205,"rows_affected":1}
{"level":"debug","ts":1603110541.9261827,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007002,"rows_affected":0}
{"level":"debug","ts":1603110541.9358835,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.007469,"rows_affected":0}
{"level":"debug","ts":1603110541.9386692,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013664,"rows_affected":1}
{"level":"debug","ts":1603110541.9410298,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013058,"rows_affected":0}
{"level":"debug","ts":1603110542.0025861,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.0600711,"rows_affected":0}
{"level":"debug","ts":1603110542.0043507,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006278,"rows_affected":1}
{"level":"debug","ts":1603110542.0059192,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000766,"rows_affected":0}
{"level":"debug","ts":1603110542.0098743,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.0031107,"rows_affected":0}
{"level":"debug","ts":1603110542.0141685,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.0031249,"rows_affected":0}
{"level":"debug","ts":1603110542.017983,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0029623,"rows_affected":0}
{"level":"debug","ts":1603110542.0222461,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.0031938,"rows_affected":0}
{"level":"debug","ts":1603110542.0316327,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.0085482,"rows_affected":0}
{"level":"debug","ts":1603110542.0330226,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005247,"rows_affected":1}
{"level":"debug","ts":1603110542.0344853,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006164,"rows_affected":0}
{"level":"debug","ts":1603110542.0457714,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0104816,"rows_affected":0}
{"level":"debug","ts":1603110542.0640426,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0173133,"rows_affected":0}
{"level":"debug","ts":1603110542.0664396,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0009856,"rows_affected":0}
{"level":"debug","ts":1603110542.0678926,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.0005777,"rows_affected":0}
{"level":"debug","ts":1603110542.0731664,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0043665,"rows_affected":0}
{"level":"debug","ts":1603110542.0754638,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007314,"rows_affected":1}
{"level":"debug","ts":1603110542.0770276,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006742,"rows_affected":0}
{"level":"debug","ts":1603110542.0954,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.0176244,"rows_affected":0}
{"level":"debug","ts":1603110542.0968168,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005255,"rows_affected":1}
{"level":"debug","ts":1603110542.0979893,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005803,"rows_affected":0}
{"level":"debug","ts":1603110542.1867442,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.0880857,"rows_affected":0}
{"level":"debug","ts":1603110542.1890156,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006186,"rows_affected":1}
{"level":"debug","ts":1603110542.190749,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000685,"rows_affected":0}
{"level":"debug","ts":1603110542.1937973,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.0020264,"rows_affected":0}
{"level":"debug","ts":1603110542.1955569,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006752,"rows_affected":1}
{"level":"debug","ts":1603110542.1971352,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006629,"rows_affected":0}
{"level":"debug","ts":1603110542.2309697,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.0329273,"rows_affected":0}
{"level":"debug","ts":1603110542.2328494,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005967,"rows_affected":1}
{"level":"debug","ts":1603110542.2343342,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006207,"rows_affected":0}
{"level":"debug","ts":1603110542.2467384,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.0115557,"rows_affected":0}
{"level":"debug","ts":1603110542.248729,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006683,"rows_affected":1}
{"level":"debug","ts":1603110542.2501316,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005513,"rows_affected":0}
{"level":"debug","ts":1603110542.2518983,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0004422,"rows_affected":0}
{"level":"debug","ts":1603110542.2535198,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000593,"rows_affected":1}
{"level":"debug","ts":1603110542.2549784,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005296,"rows_affected":0}
{"level":"debug","ts":1603110542.2565296,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.0007563,"rows_affected":0}
{"level":"debug","ts":1603110542.2578938,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006987,"rows_affected":1}
{"level":"debug","ts":1603110542.2597573,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010072,"rows_affected":0}
{"level":"debug","ts":1603110542.2730212,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.0121935,"rows_affected":0}
{"level":"debug","ts":1603110542.2750075,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006703,"rows_affected":1}
{"level":"debug","ts":1603110542.2766633,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006282,"rows_affected":0}
{"level":"debug","ts":1603110542.2781353,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.000541,"rows_affected":0}
{"level":"debug","ts":1603110542.279659,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005917,"rows_affected":1}
{"level":"debug","ts":1603110542.2810223,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005487,"rows_affected":0}
{"level":"debug","ts":1603110542.2849293,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.0031155,"rows_affected":0}
{"level":"debug","ts":1603110542.2866013,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005868,"rows_affected":1}
{"level":"debug","ts":1603110542.287961,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005837,"rows_affected":0}
{"level":"debug","ts":1603110542.2913594,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.0025243,"rows_affected":0}
{"level":"debug","ts":1603110542.29327,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007665,"rows_affected":1}
{"level":"debug","ts":1603110542.295182,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010181,"rows_affected":0}
{"level":"debug","ts":1603110542.3666432,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.0698918,"rows_affected":0}
{"level":"debug","ts":1603110542.3693244,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0011734,"rows_affected":1}
{"level":"debug","ts":1603110542.3716614,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010816,"rows_affected":0}
{"level":"debug","ts":1603110542.3765576,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.0038033,"rows_affected":0}
{"level":"debug","ts":1603110542.3784845,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007431,"rows_affected":1}
{"level":"debug","ts":1603110542.3800406,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007376,"rows_affected":0}
{"level":"debug","ts":1603110542.394981,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0141709,"rows_affected":0}
{"level":"debug","ts":1603110542.3973358,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012548,"rows_affected":1}
{"level":"debug","ts":1603110542.3988652,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005644,"rows_affected":0}
{"level":"debug","ts":1603110542.6052759,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.2054973,"rows_affected":0}
{"level":"debug","ts":1603110542.6079931,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010666,"rows_affected":1}
{"level":"debug","ts":1603110542.6104562,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000849,"rows_affected":0}
{"level":"debug","ts":1603110542.6161203,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.0041719,"rows_affected":0}
{"level":"debug","ts":1603110542.618426,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.001066,"rows_affected":1}
{"level":"debug","ts":1603110542.6205783,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009578,"rows_affected":0}
{"level":"debug","ts":1603110542.6331167,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.0115,"rows_affected":0}
{"level":"debug","ts":1603110542.6356893,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010712,"rows_affected":1}
{"level":"debug","ts":1603110542.6380825,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.001121,"rows_affected":0}
{"level":"debug","ts":1603110542.6976922,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0581132,"rows_affected":0}
{"level":"debug","ts":1603110542.7006063,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.001202,"rows_affected":1}
{"level":"debug","ts":1603110542.7029598,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005966,"rows_affected":0}
{"level":"debug","ts":1603110542.719942,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.0156316,"rows_affected":0}
{"level":"debug","ts":1603110542.7219644,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008737,"rows_affected":1}
{"level":"debug","ts":1603110542.7237463,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008187,"rows_affected":0}
{"level":"debug","ts":1603110542.7296753,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.0049654,"rows_affected":0}
{"level":"debug","ts":1603110542.731574,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007141,"rows_affected":1}
{"level":"debug","ts":1603110542.7333417,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008282,"rows_affected":0}
{"level":"debug","ts":1603110542.7476833,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.0132155,"rows_affected":0}
{"level":"debug","ts":1603110542.749244,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.000728,"rows_affected":1}
{"level":"debug","ts":1603110542.7507327,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007354,"rows_affected":0}
{"level":"debug","ts":1603110542.7557604,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.004411,"rows_affected":0}
{"level":"debug","ts":1603110542.757521,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007869,"rows_affected":1}
{"level":"debug","ts":1603110542.759032,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007145,"rows_affected":0}
{"level":"debug","ts":1603110542.760396,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.0004481,"rows_affected":0}
{"level":"debug","ts":1603110542.76176,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006011,"rows_affected":1}
{"level":"debug","ts":1603110542.7632818,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006666,"rows_affected":0}
{"level":"debug","ts":1603110542.7648,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.0006336,"rows_affected":0}
{"level":"debug","ts":1603110542.7664177,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007275,"rows_affected":1}
{"level":"debug","ts":1603110542.7680168,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006873,"rows_affected":0}
{"level":"debug","ts":1603110542.7769926,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.0079596,"rows_affected":0}
{"level":"debug","ts":1603110542.778542,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007619,"rows_affected":1}
{"level":"debug","ts":1603110542.7799265,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007527,"rows_affected":0}
{"level":"debug","ts":1603110542.7815824,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0008866,"rows_affected":0}
{"level":"debug","ts":1603110542.7830372,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006143,"rows_affected":1}
{"level":"debug","ts":1603110542.784484,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000749,"rows_affected":0}
{"level":"debug","ts":1603110542.8035352,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.0182373,"rows_affected":0}
{"level":"debug","ts":1603110542.805135,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006003,"rows_affected":1}
{"level":"info","ts":1603110545.6407378,"caller":"store/key_store.go:73","msg":"Unlocked account 0x69C8B02a5D27378C1a273e065258A4231fE558f5","address":"0x69C8B02a5D27378C1a273e065258A4231fE558f5"}
{"level":"debug","ts":1603110545.6445563,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603110545.7099333,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603110545.7136445,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603110545.7361631,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603110545.7467835,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603110545.750177,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603110545.7528408,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603110545.7577536,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0x69C8B02a5D27378C1a273e065258A4231fE558f5\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603110545.7616534,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603110545.7631354,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603110545.764415,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7652712,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7662902,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603110545.767321,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603110545.7661357,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603110545.768749,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603110545.771472,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7727468,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7734718,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7743976,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7756183,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110545.776509,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110545.77758,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110545.7763598,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603110545.779952,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0x69C8B02a5D27378C1a273e065258A4231fE558f5"}
{"level":"debug","ts":1603110545.7788873,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7813056,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7819319,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110545.782566,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7834153,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7841249,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7847917,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110545.785432,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110545.7862556,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7870698,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7879694,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7888706,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7910545,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7916565,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110545.792138,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7934444,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110545.7939596,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110545.7954078,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7962606,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7969022,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110545.7953217,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","blockNumber":"<nil>"}
{"level":"debug","ts":1603110545.797787,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"info","ts":1603110545.8035915,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0x69C8B02a5D27378C1a273e065258A4231fE558f5: 0.000000000000000000","address":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"info","ts":1603110545.805632,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"info","ts":1603110545.8121479,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"info","ts":1603110548.909688,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":200,"path":"/sessions","query":"","body":"{\"email\":\"user@mail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.0.1","errors":"","servedAt":"2020-10-19 12:29:08","latency":"71.6843ms"}
{"level":"debug","ts":1603110548.9199204,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","blockNumber":"<nil>"}
{"level":"debug","ts":1603110548.9240932,"caller":"eth/client.go:136","msg":"eth.Client#GetERC20Balance(...)","address":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","contractAddress":"0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD"}
{"level":"info","ts":1603110548.947464,"caller":"web/router.go:337","msg":"GET /v2/user/balances","method":"GET","status":200,"path":"/v2/user/balances","query":"","body":"","clientIP":"192.168.0.1","errors":"","servedAt":"2020-10-19 12:29:08","latency":"32.0382ms"}
{"level":"info","ts":1603110549.0157478,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":200,"path":"/sessions","query":"","body":"{\"email\":\"user@mail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.0.1","errors":"","servedAt":"2020-10-19 12:29:09","latency":"63.8697ms"}
{"level":"debug","ts":1603110549.0250883,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","blockNumber":"<nil>"}
{"level":"debug","ts":1603110549.0296934,"caller":"eth/client.go:136","msg":"eth.Client#GetERC20Balance(...)","address":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","contractAddress":"0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD"}
{"level":"info","ts":1603110549.0553885,"caller":"web/router.go:337","msg":"GET /v2/user/balances","method":"GET","status":200,"path":"/v2/user/balances","query":"","body":"","clientIP":"192.168.0.1","errors":"","servedAt":"2020-10-19 12:29:09","latency":"34.7767ms"}
{"level":"debug","ts":1603110549.1240432,"caller":"services/head_tracker.go:277","msg":"Received new head #4 (0x4)","blockHeight":"4","blockHash":"0x947507f48886207adf59eb7aca67bac3a98bc72284d239dc86437d7fa104af5c"}
{"level":"debug","ts":1603110549.1304157,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":3}
{"level":"debug","ts":1603110549.1315312,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"3"}
{"level":"debug","ts":1603110549.1517255,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":2}
{"level":"debug","ts":1603110549.152936,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"2"}
{"level":"debug","ts":1603110549.1757212,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":1}
{"level":"debug","ts":1603110549.1772735,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"1"}
{"level":"debug","ts":1603110549.1917772,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":0}
{"level":"debug","ts":1603110549.1926622,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"0"}
{"level":"debug","ts":1603110549.2020795,"caller":"services/head_tracker.go:386","msg":"HeadTracker: finished backfill","fetched":4,"blockNumber":0,"time":0.0724964,"id":"head_tracker","n":0,"fromBlockHeight":0,"toBlockHeight":-1}
{"level":"debug","ts":1603110549.2049363,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":4,"chainLength":5,"numCallbacks":6}
{"level":"debug","ts":1603110549.2059212,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"1"}
{"level":"debug","ts":1603110549.2203417,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 1/24","inHistory":1,"required":24}
{"level":"debug","ts":1603110549.2215972,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 15.6749ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":4,"time":0.0156749,"id":"head_tracker"}
{"level":"debug","ts":1603110549.2228363,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 19.2µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":4,"time":0.0000192,"id":"head_tracker"}
{"level":"debug","ts":1603110549.2239766,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 126.9µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":4,"time":0.0001269,"id":"head_tracker"}
{"level":"debug","ts":1603110549.2258017,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":4,"time":0.000007,"id":"head_tracker"}
{"level":"debug","ts":1603110549.2319303,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","blockNumber":"3"}
{"level":"debug","ts":1603110549.2375262,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 6.5586ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":4,"time":0.0065586,"id":"head_tracker"}
{"level":"debug","ts":1603110549.2384312,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.7µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":4,"time":0.0000067,"id":"head_tracker"}
{"level":"debug","ts":1603110549.239288,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 4 in 115.2537ms","blockNumber":4,"time":0.1152537,"id":"head_tracker"}
{"level":"debug","ts":1603110549.3635304,"caller":"services/head_tracker.go:277","msg":"Received new head #5 (0x5)","blockHeight":"5","blockHash":"0x48109da94024a7370be85eeeca1fa7e9fde7e289a89c302e0c0f953cd464ccf5"}
{"level":"debug","ts":1603110549.3766,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":5,"chainLength":6,"numCallbacks":6}
{"level":"debug","ts":1603110549.3778727,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"2"}
{"level":"debug","ts":1603110549.3894086,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 2/24","inHistory":2,"required":24}
{"level":"debug","ts":1603110549.3906062,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 12.7333ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":5,"time":0.0127333,"id":"head_tracker"}
{"level":"debug","ts":1603110549.3918219,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 16.9µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":5,"time":0.0000169,"id":"head_tracker"}
{"level":"debug","ts":1603110549.3935416,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 64.7µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":5,"time":0.0000647,"id":"head_tracker"}
{"level":"debug","ts":1603110549.3947828,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.8µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":5,"time":0.0000078,"id":"head_tracker"}
{"level":"debug","ts":1603110549.4015565,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","blockNumber":"4"}
{"level":"info","ts":1603110549.4695055,"caller":"services/balance_monitor.go:135","msg":"New ETH balance for 0x69C8B02a5D27378C1a273e065258A4231fE558f5: 80.000000000000000000","address":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","headNum":"4","ethBalance":"80.000000000000000000","weiBalance":"80000000000000000000","id":"balance_log"}
{"level":"debug","ts":1603110549.4704971,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 73.8093ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":5,"time":0.0738093,"id":"head_tracker"}
{"level":"debug","ts":1603110549.4718013,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.2µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":5,"time":0.0000062,"id":"head_tracker"}
{"level":"debug","ts":1603110549.4733503,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 5 in 109.7978ms","blockNumber":5,"time":0.1097978,"id":"head_tracker"}
{"level":"debug","ts":1603110549.5164666,"caller":"services/head_tracker.go:277","msg":"Received new head #6 (0x6)","blockHeight":"6","blockHash":"0xd5315b81a8fb3c0b235ec2a610dddaaee9420870fa549e4e9171d06b5fc53bb2"}
{"level":"debug","ts":1603110549.5252984,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":6,"chainLength":7,"numCallbacks":6}
{"level":"debug","ts":1603110549.52803,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"3"}
{"level":"debug","ts":1603110549.538641,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 3/24","inHistory":3,"required":24}
{"level":"debug","ts":1603110549.539961,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 11.9299ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":6,"time":0.0119299,"id":"head_tracker"}
{"level":"debug","ts":1603110549.5415134,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 117.4µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":6,"time":0.0001174,"id":"head_tracker"}
{"level":"debug","ts":1603110549.5439076,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 12µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":6,"time":0.000012,"id":"head_tracker"}
{"level":"debug","ts":1603110549.5456796,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 6.7µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":6,"time":0.0000067,"id":"head_tracker"}
{"level":"debug","ts":1603110549.5493183,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","blockNumber":"5"}
{"level":"debug","ts":1603110549.5561109,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 9.4971ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":6,"time":0.0094971,"id":"head_tracker"}
{"level":"debug","ts":1603110549.5573697,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 8.3µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":6,"time":0.0000083,"id":"head_tracker"}
{"level":"debug","ts":1603110549.5587807,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 6 in 42.2981ms","blockNumber":6,"time":0.0422981,"id":"head_tracker"}
{"level":"debug","ts":1603110549.6723056,"caller":"services/head_tracker.go:277","msg":"Received new head #7 (0x7)","blockHeight":"7","blockHash":"0xe1974112c2ee93460cb207f467625ee7995c7ce42fea1e718e0fecd0e5bd0b0e"}
{"level":"debug","ts":1603110549.6812677,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":7,"chainLength":8,"numCallbacks":6}
{"level":"debug","ts":1603110549.682393,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"4"}
{"level":"debug","ts":1603110549.6895301,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 4/24","inHistory":4,"required":24}
{"level":"debug","ts":1603110549.6906693,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 8.281ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":7,"time":0.008281,"id":"head_tracker"}
{"level":"debug","ts":1603110549.691772,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 57.4µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":7,"time":0.0000574,"id":"head_tracker"}
{"level":"debug","ts":1603110549.6942685,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 31.8µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":7,"time":0.0000318,"id":"head_tracker"}
{"level":"debug","ts":1603110549.695957,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 6.2µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":7,"time":0.0000062,"id":"head_tracker"}
{"level":"debug","ts":1603110549.697737,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","blockNumber":"6"}
{"level":"debug","ts":1603110549.705378,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 8.3077ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":7,"time":0.0083077,"id":"head_tracker"}
{"level":"debug","ts":1603110549.7062552,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 5µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":7,"time":0.000005,"id":"head_tracker"}
{"level":"debug","ts":1603110549.7068355,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 7 in 34.5305ms","blockNumber":7,"time":0.0345305,"id":"head_tracker"}
{"level":"debug","ts":1603110549.807445,"caller":"services/head_tracker.go:277","msg":"Received new head #8 (0x8)","blockHeight":"8","blockHash":"0xbe853b433137854a8f7a3b6a9b097c0d6fe35b2f0699d2cd0ac83808804e76b9"}
{"level":"debug","ts":1603110549.8168232,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":8,"chainLength":9,"numCallbacks":6}
{"level":"debug","ts":1603110549.8189883,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"5"}
{"level":"debug","ts":1603110549.8310592,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 5/24","inHistory":5,"required":24}
{"level":"debug","ts":1603110549.8323712,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 13.1933ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":8,"time":0.0131933,"id":"head_tracker"}
{"level":"debug","ts":1603110549.8333855,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 37.1µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":8,"time":0.0000371,"id":"head_tracker"}
{"level":"debug","ts":1603110549.83475,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 28.8µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":8,"time":0.0000288,"id":"head_tracker"}
{"level":"debug","ts":1603110549.8359325,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 5.7µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":8,"time":0.0000057,"id":"head_tracker"}
{"level":"debug","ts":1603110549.8379958,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x69C8B02a5D27378C1a273e065258A4231fE558f5","blockNumber":"7"}
{"level":"debug","ts":1603110549.8429098,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 6.1321ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":8,"time":0.0061321,"id":"head_tracker"}
{"level":"debug","ts":1603110549.8445358,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 5.3µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":8,"time":0.0000053,"id":"head_tracker"}
{"level":"debug","ts":1603110549.8455162,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 8 in 38.0665ms","blockNumber":8,"time":0.0380665,"id":"head_tracker"}
{"level":"error","ts":1603110983.1286023,"caller":"services/head_tracker.go:198","msg":"Error in new head subscription, unsubscribed: websocket: close 1006 (abnormal closure): unexpected EOF","err":"websocket: close 1006 (abnormal closure): unexpected EOF","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Errorw\n\t/chainlink/core/logger/logger.go:133\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:198"}
{"level":"info","ts":1603110983.1380196,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"info","ts":1603110983.1539576,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"info","ts":1603110983.1491547,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"error","ts":1603110983.1567895,"caller":"logger/logger.go:247","msg":"unable to lock ORM: postgres advisory locking strategy failed on .Lock, timeout set to 500ms: driver: bad connection, lock ID: 1027321974924625846: can't acquire advisory lock","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).RawDB\n\t/chainlink/core/store/orm/orm.go:1467\ngithub.com/smartcontractkit/chainlink/core/services/synchronization.(*statsPusher).Close\n\t/chainlink/core/services/synchronization/stats_pusher.go:123\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop.func1\n\t/chainlink/core/services/chainlink/application.go:209\nsync.(*Once).doSlow\n\t/usr/local/go/src/sync/once.go:66\nsync.(*Once).Do\n\t/usr/local/go/src/sync/once.go:57\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Stop\n\t/chainlink/core/services/chainlink/application.go:191\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"error","ts":1603110983.1582062,"caller":"chainlink/application.go:158","msg":"write tcp 192.168.0.3:38748->192.168.0.4:5432: write: broken pipe","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.ErrorIf\n\t/chainlink/core/logger/logger.go:209\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.(*ChainlinkApplication).Start.func1\n\t/chainlink/core/services/chainlink/application.go:158"}
{"level":"info","ts":1603110989.246874,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110989.2486348,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110989.2496812,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110989.2530003,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"error","ts":1603110990.2690697,"caller":"logger/logger.go:247","msg":"unable to lock ORM: dial tcp 192.168.16.4:5432: connect: connection refused","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Error\n\t/chainlink/core/logger/logger.go:189\ngithub.com/smartcontractkit/chainlink/core/logger.Errorf\n\t/chainlink/core/logger/logger.go:247\ngithub.com/smartcontractkit/chainlink/core/store/orm.(*ORM).MustEnsureAdvisoryLock\n\t/chainlink/core/store/orm/orm.go:91\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:75\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"fatal","ts":1603110990.2737908,"caller":"store/store.go:70","msg":"Unable to initialize ORM: dial tcp 192.168.16.4:5432: connect: connection refused\nunable to open postgres://user:secret@bridge_db:5432/mydb for gorm DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.Connection.initializeDatabase\n\t/chainlink/core/store/orm/orm.go:1556\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:77\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\nunable to init DB\ngithub.com/smartcontractkit/chainlink/core/store/orm.NewORM\n\t/chainlink/core/store/orm/orm.go:79\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:167\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ninitializeORM#NewORM\ngithub.com/smartcontractkit/chainlink/core/store.initializeORM\n\t/chainlink/core/store/store.go:169\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:68\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Fatal\n\t/chainlink/core/logger/logger.go:242\ngithub.com/smartcontractkit/chainlink/core/store.newStoreWithKeyStore\n\t/chainlink/core/store/store.go:70\ngithub.com/smartcontractkit/chainlink/core/store.NewStore\n\t/chainlink/core/store/store.go:50\ngithub.com/smartcontractkit/chainlink/core/services/chainlink.NewApplication\n\t/chainlink/core/services/chainlink/application.go:83\ngithub.com/smartcontractkit/chainlink/core/cmd.ChainlinkAppFactory.NewApplication\n\t/chainlink/core/cmd/client.go:68\ngithub.com/smartcontractkit/chainlink/core/cmd.(*Client).RunNode\n\t/chainlink/core/cmd/local_client.go:57\ngithub.com/urfave/cli.HandleAction\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:526\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:174\ngithub.com/urfave/cli.(*App).RunAsSubcommand\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:407\ngithub.com/urfave/cli.Command.startApp\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:373\ngithub.com/urfave/cli.Command.Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/command.go:102\ngithub.com/urfave/cli.(*App).Run\n\t/go/pkg/mod/github.com/urfave/cli@v1.22.4/app.go:279\nmain.Run\n\t/chainlink/core/main.go:18\nmain.main\n\t/chainlink/core/main.go:12\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:203"}
{"level":"info","ts":1603110991.3721666,"caller":"cmd/local_client.go:50","msg":"Starting Chainlink Node 0.8.14 at commit 4f82365b457200305b9c2845b185507ad6ea0ea0"}
{"level":"info","ts":1603110991.3733542,"caller":"cmd/enclave.go:11","msg":"SGX enclave *NOT* loaded"}
{"level":"info","ts":1603110991.3740356,"caller":"cmd/enclave.go:12","msg":"This version of chainlink was not built with support for SGX tasks"}
{"level":"info","ts":1603110991.3760512,"caller":"orm/orm.go:69","msg":"Locking postgres for exclusive access with 500ms timeout"}
{"level":"debug","ts":1603110991.391583,"caller":"migrations/migrate.go:348","msg":"SELECT count(*) FROM \"migrations\"  ","time":0.0019955,"rows_affected":0}
{"level":"warn","ts":1603110991.3929477,"caller":"migrations/migrate.go:348","msg":"pq: relation \"migrations\" does not exist"}
{"level":"debug","ts":1603110991.4216821,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:170","msg":"CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY)","time":0.0111233,"rows_affected":0}
{"level":"debug","ts":1603110991.425182,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0018927,"rows_affected":0}
{"level":"debug","ts":1603110991.4412012,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"bridge_types\" (\"name\" text,\"url\" text,\"confirmations\" bigint,\"incoming_token_hash\" text,\"salt\" text,\"outgoing_token\" text,\"minimum_contract_payment\" varchar(255),\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"name\"))","time":0.0102227,"rows_affected":0}
{"level":"debug","ts":1603110991.4596896,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text , PRIMARY KEY (\"id\"))","time":0.0146621,"rows_affected":0}
{"level":"debug","ts":1603110991.4720066,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"access_key\" text,\"salt\" text,\"hashed_secret\" text , PRIMARY KEY (\"id\"))","time":0.0089467,"rows_affected":0}
{"level":"debug","ts":1603110991.480766,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0042791,"rows_affected":0}
{"level":"debug","ts":1603110991.4966846,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"hash\" varchar,\"number\" bigint NOT NULL , PRIMARY KEY (\"hash\"))","time":0.0090163,"rows_affected":0}
{"level":"debug","ts":1603110991.5046158,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0047741,"rows_affected":0}
{"level":"debug","ts":1603110991.5186353,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_specs\" (\"id\" text NOT NULL,\"created_at\" timestamp with time zone,\"start_at\" timestamp with time zone,\"end_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0105864,"rows_affected":0}
{"level":"debug","ts":1603110991.528303,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_created_at ON \"job_specs\"(created_at) ","time":0.0046272,"rows_affected":0}
{"level":"debug","ts":1603110991.5334044,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_start_at ON \"job_specs\"(start_at) ","time":0.0028677,"rows_affected":0}
{"level":"debug","ts":1603110991.5396118,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_end_at ON \"job_specs\"(end_at) ","time":0.0038781,"rows_affected":0}
{"level":"debug","ts":1603110991.546846,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_specs_deleted_at ON \"job_specs\"(deleted_at) ","time":0.0042118,"rows_affected":0}
{"level":"debug","ts":1603110991.5604825,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"initiators\" (\"id\" serial,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"created_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"schedule\" text,\"time\" timestamp with time zone,\"ran\" boolean,\"address\" bytea,\"requesters\" text , PRIMARY KEY (\"id\"))","time":0.0105858,"rows_affected":0}
{"level":"debug","ts":1603110991.5663974,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_created_at ON \"initiators\"(created_at) ","time":0.0025876,"rows_affected":0}
{"level":"debug","ts":1603110991.5739987,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_deleted_at ON \"initiators\"(deleted_at) ","time":0.0048171,"rows_affected":0}
{"level":"debug","ts":1603110991.5822024,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_address ON \"initiators\"(\"address\") ","time":0.00558,"rows_affected":0}
{"level":"debug","ts":1603110991.5870657,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_job_spec_id ON \"initiators\"(job_spec_id) ","time":0.0022128,"rows_affected":0}
{"level":"debug","ts":1603110991.5947945,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_initiators_type ON \"initiators\"(\"type\") ","time":0.0028242,"rows_affected":0}
{"level":"debug","ts":1603110991.6091046,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"job_runs\" (\"id\" text NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"result_id\" integer,\"run_request_id\" integer,\"status\" text,\"created_at\" timestamp with time zone,\"finished_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"initiator_id\" integer,\"creation_height\" varchar(255),\"observed_height\" varchar(255),\"overrides_id\" integer,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0089489,"rows_affected":0}
{"level":"debug","ts":1603110991.6161964,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_created_at ON \"job_runs\"(created_at) ","time":0.0040144,"rows_affected":0}
{"level":"debug","ts":1603110991.62328,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_deleted_at ON \"job_runs\"(deleted_at) ","time":0.0040002,"rows_affected":0}
{"level":"debug","ts":1603110991.6304665,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_job_spec_id ON \"job_runs\"(job_spec_id) ","time":0.0036948,"rows_affected":0}
{"level":"debug","ts":1603110991.6396544,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_job_runs_status ON \"job_runs\"(\"status\") ","time":0.0046843,"rows_affected":0}
{"level":"debug","ts":1603110991.6490967,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"keys\" (\"address\" varchar(64),\"json\" text,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"address\"))","time":0.0065764,"rows_affected":0}
{"level":"debug","ts":1603110991.6630125,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_requests\" (\"id\" serial,\"request_id\" text,\"tx_hash\" bytea,\"requester\" bytea,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0099265,"rows_affected":0}
{"level":"debug","ts":1603110991.6747532,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"run_results\" (\"id\" serial,\"data\" text,\"status\" text,\"error_message\" text,\"amount\" varchar(255) , PRIMARY KEY (\"id\"))","time":0.0079573,"rows_affected":0}
{"level":"debug","ts":1603110991.6886687,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"service_agreements\" (\"id\" text,\"created_at\" timestamp with time zone,\"encumbrance_id\" integer,\"request_body\" text,\"signature\" varchar(255),\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL , PRIMARY KEY (\"id\"))","time":0.0104718,"rows_affected":0}
{"level":"debug","ts":1603110991.6955507,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_created_at ON \"service_agreements\"(created_at) ","time":0.0035111,"rows_affected":0}
{"level":"debug","ts":1603110991.7024562,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_service_agreements_job_spec_id ON \"service_agreements\"(job_spec_id) ","time":0.0035194,"rows_affected":0}
{"level":"debug","ts":1603110991.7142632,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sessions\" (\"id\" text,\"last_used\" timestamp with time zone,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0072484,"rows_affected":0}
{"level":"debug","ts":1603110991.7222338,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_last_used ON \"sessions\"(last_used) ","time":0.0050058,"rows_affected":0}
{"level":"debug","ts":1603110991.7314053,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_sessions_created_at ON \"sessions\"(created_at) ","time":0.0042355,"rows_affected":0}
{"level":"debug","ts":1603110991.7483897,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"sync_events\" (\"id\" bigserial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"body\" text , PRIMARY KEY (\"id\"))","time":0.0121848,"rows_affected":0}
{"level":"debug","ts":1603110991.7592797,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_runs\" (\"id\" text NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) ON DELETE CASCADE NOT NULL,\"result_id\" integer,\"status\" text,\"task_spec_id\" integer,\"minimum_confirmations\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0078175,"rows_affected":0}
{"level":"debug","ts":1603110991.7665758,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_job_run_id ON \"task_runs\"(job_run_id) ","time":0.0044037,"rows_affected":0}
{"level":"debug","ts":1603110991.7734537,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_task_spec_id ON \"task_runs\"(task_spec_id) ","time":0.0028965,"rows_affected":0}
{"level":"debug","ts":1603110991.779566,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_runs_created_at ON \"task_runs\"(created_at) ","time":0.0024505,"rows_affected":0}
{"level":"debug","ts":1603110991.947235,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"task_specs\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"job_spec_id\" varchar(36) REFERENCES job_specs(id),\"type\" text NOT NULL,\"confirmations\" bigint,\"params\" text , PRIMARY KEY (\"id\"))","time":0.0214133,"rows_affected":0}
{"level":"debug","ts":1603110991.9568617,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_deleted_at ON \"task_specs\"(deleted_at) ","time":0.0047203,"rows_affected":0}
{"level":"debug","ts":1603110991.968493,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_job_spec_id ON \"task_specs\"(job_spec_id) ","time":0.0072275,"rows_affected":0}
{"level":"debug","ts":1603110991.9836128,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_task_specs_type ON \"task_specs\"(\"type\") ","time":0.0079686,"rows_affected":0}
{"level":"debug","ts":1603110992.0067072,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"hash\" bytea NOT NULL,\"tx_id\" bigint,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint,\"created_at\" timestamp with time zone , PRIMARY KEY (\"hash\"))","time":0.0182232,"rows_affected":0}
{"level":"debug","ts":1603110992.015445,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0044691,"rows_affected":0}
{"level":"debug","ts":1603110992.0239086,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0040334,"rows_affected":0}
{"level":"debug","ts":1603110992.0403697,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea,\"nonce\" bigint,\"value\" varchar(255),\"gas_limit\" bigint,\"hash\" bytea,\"gas_price\" varchar(255),\"confirmed\" boolean,\"hex\" text,\"sent_at\" bigint , PRIMARY KEY (\"id\"))","time":0.0122296,"rows_affected":0}
{"level":"debug","ts":1603110992.0760205,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0322826,"rows_affected":0}
{"level":"debug","ts":1603110992.0842655,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0031893,"rows_affected":0}
{"level":"debug","ts":1603110992.1134555,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"users\" (\"email\" text,\"hashed_password\" text,\"created_at\" timestamp with time zone,\"token_key\" text,\"token_salt\" text,\"token_hashed_secret\" text,\"updated_at\" timestamp with time zone , PRIMARY KEY (\"email\"))","time":0.0193071,"rows_affected":0}
{"level":"debug","ts":1603110992.149449,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_users_created_at ON \"users\"(created_at) ","time":0.0155713,"rows_affected":0}
{"level":"debug","ts":1603110992.1522458,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012733,"rows_affected":1}
{"level":"debug","ts":1603110992.1560924,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010745,"rows_affected":0}
{"level":"debug","ts":1603110992.1594145,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP INDEX idx_txes_from;\n\t\t DROP INDEX idx_txes_nonce;\n\t\t DROP INDEX idx_tx_attempts_tx_id;\n\t\t DROP INDEX idx_tx_attempts_created_at;\n\t\t ALTER TABLE txes RENAME TO txes_archive;\n\t\t ALTER TABLE tx_attempts RENAME TO tx_attempts_archive;\n\t","time":0.0016238,"rows_affected":0}
{"level":"debug","ts":1603110992.1861887,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"txes\" (\"id\" bigserial,\"surrogate_id\" text UNIQUE,\"from\" bytea NOT NULL,\"to\" bytea NOT NULL,\"data\" bytea NOT NULL,\"nonce\" bigint NOT NULL,\"value\" varchar(78) NOT NULL,\"gas_limit\" bigint NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0223207,"rows_affected":0}
{"level":"debug","ts":1603110992.193606,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_from ON \"txes\"(\"from\") ","time":0.0033753,"rows_affected":0}
{"level":"debug","ts":1603110992.2006156,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_nonce ON \"txes\"(\"nonce\") ","time":0.0033751,"rows_affected":0}
{"level":"debug","ts":1603110992.2088156,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_txes_surrogate_id ON \"txes\"(surrogate_id) ","time":0.0049337,"rows_affected":0}
{"level":"debug","ts":1603110992.2325916,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"tx_attempts\" (\"id\" bigserial,\"tx_id\" bigint REFERENCES txes(id) ON DELETE CASCADE,\"created_at\" timestamp with time zone NOT NULL,\"hash\" bytea NOT NULL,\"gas_price\" varchar(78) NOT NULL,\"confirmed\" boolean NOT NULL,\"sent_at\" bigint NOT NULL,\"signed_raw_tx\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0184728,"rows_affected":0}
{"level":"debug","ts":1603110992.2402256,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_tx_id ON \"tx_attempts\"(tx_id) ","time":0.0036409,"rows_affected":0}
{"level":"debug","ts":1603110992.2661366,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_created_at ON \"tx_attempts\"(created_at) ","time":0.0125264,"rows_affected":0}
{"level":"debug","ts":1603110992.280657,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_tx_attempts_hash ON \"tx_attempts\"(\"hash\") ","time":0.0078545,"rows_affected":0}
{"level":"debug","ts":1603110992.29103,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"INSERT INTO txes (\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"id\", \"from\", \"to\", \"data\", \"nonce\", \"value\", \"gas_limit\", \"hash\", \"gas_price\", \"confirmed\", \"sent_at\", \"hex\"\n\t\t FROM txes_archive;\n\t\t INSERT INTO tx_attempts (\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"signed_raw_tx\"\n\t\t )\n\t\t SELECT\n\t\t\t\"hash\", \"tx_id\", \"gas_price\", \"confirmed\", \"sent_at\", \"created_at\", \"hex\"\n\t\t FROM tx_attempts_archive;\n\t\t DROP TABLE txes_archive;\n\t\t DROP TABLE tx_attempts_archive;\n\t\t ","time":0.0051717,"rows_affected":0}
{"level":"debug","ts":1603110992.2940485,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012234,"rows_affected":1}
{"level":"debug","ts":1603110992.3001668,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0020391,"rows_affected":0}
{"level":"debug","ts":1603110992.3425572,"caller":"migration1559767166/migrate.go:11","msg":"ALTER TABLE \"task_runs\" ADD \"confirmations\" bigint NOT NULL  DEFAULT  0;","time":0.0011344,"rows_affected":0}
{"level":"debug","ts":1603110992.3564663,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012377,"rows_affected":1}
{"level":"debug","ts":1603110992.3596928,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.001246,"rows_affected":0}
{"level":"debug","ts":1603110992.3625612,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE task_runs ADD COLUMN confirmations_new1560433987 bigint;\n\t\tUPDATE task_runs SET confirmations_new1560433987 = confirmations;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations TO confirmations_old1560433987;\n\t\tALTER TABLE task_runs RENAME COLUMN confirmations_new1560433987 TO confirmations;\n\t","time":0.0016468,"rows_affected":0}
{"level":"debug","ts":1603110992.366707,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0015837,"rows_affected":1}
{"level":"debug","ts":1603110992.368956,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009957,"rows_affected":0}
{"level":"debug","ts":1603110992.3711748,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"SELECT SETVAL('txes_id_seq1', (SELECT MAX(id) FROM txes));","time":0.0010338,"rows_affected":1}
{"level":"debug","ts":1603110992.3740146,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0013108,"rows_affected":1}
{"level":"debug","ts":1603110992.3769603,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012349,"rows_affected":0}
{"level":"debug","ts":1603110992.3844724,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"CREATE INDEX sync_events_id_created_at_idx ON sync_events (\"id\", \"created_at\")","time":0.005171,"rows_affected":0}
{"level":"debug","ts":1603110992.3869538,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008918,"rows_affected":1}
{"level":"debug","ts":1603110992.3899853,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010162,"rows_affected":0}
{"level":"debug","ts":1603110992.3924398,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nDROP INDEX IF EXISTS idx_heads_number;\nDROP INDEX IF EXISTS idx_heads_hash;\nALTER TABLE heads RENAME TO heads_archive;","time":0.0009809,"rows_affected":0}
{"level":"debug","ts":1603110992.4049802,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"heads\" (\"id\" bigserial,\"hash\" bytea NOT NULL,\"number\" bigint NOT NULL , PRIMARY KEY (\"id\"))","time":0.0072548,"rows_affected":0}
{"level":"debug","ts":1603110992.4148073,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_heads_number ON \"heads\"(\"number\") ","time":0.0058698,"rows_affected":0}
{"level":"debug","ts":1603110992.4172685,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nINSERT INTO heads (\"hash\", \"number\")\nSELECT decode(\"hash\"::text, 'hex'), \"number\"\nFROM heads_archive;\nDROP TABLE heads_archive;","time":0.0010326,"rows_affected":0}
{"level":"debug","ts":1603110992.4192452,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007947,"rows_affected":1}
{"level":"debug","ts":1603110992.4218657,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0013794,"rows_affected":0}
{"level":"debug","ts":1603110992.4397533,"caller":"migration1560924400/migrate.go:13","msg":"ALTER TABLE \"run_requests\" ADD \"block_hash\" bytea;","time":0.0006375,"rows_affected":0}
{"level":"debug","ts":1603110992.4494631,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005532,"rows_affected":1}
{"level":"debug","ts":1603110992.4511192,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006164,"rows_affected":0}
{"level":"debug","ts":1603110992.4629693,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"link_earned\" (\"id\" bigserial NOT NULL,\"job_spec_id\" varchar(36) REFERENCES job_specs(id) NOT NULL,\"job_run_id\" varchar(36) REFERENCES job_runs(id) NOT NULL UNIQUE,\"earned\" varchar(255),\"earned_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0096824,"rows_affected":0}
{"level":"debug","ts":1603110992.4688597,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_job_spec_id ON \"link_earned\"(job_spec_id) ","time":0.0029332,"rows_affected":0}
{"level":"debug","ts":1603110992.4744904,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_link_earned_earned_at ON \"link_earned\"(earned_at) ","time":0.0028537,"rows_affected":0}
{"level":"debug","ts":1603110992.4779449,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tINSERT INTO link_earned\n\t\tSELECT ROW_NUMBER() OVER (ORDER BY job_spec_id) AS id, job_spec_id, jr.id AS job_run_id, amount, finished_at\n\t\tFROM job_runs jr INNER JOIN run_results rr ON jr.overrides_id  = rr.id\n\t\tWHERE amount IS NOT NULL\n\t\t","time":0.0014523,"rows_affected":0}
{"level":"debug","ts":1603110992.480498,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012602,"rows_affected":1}
{"level":"debug","ts":1603110992.4828992,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009562,"rows_affected":0}
{"level":"debug","ts":1603110992.4846735,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_specs ADD min_payment varchar(255)","time":0.0006241,"rows_affected":0}
{"level":"debug","ts":1603110992.4864247,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007079,"rows_affected":1}
{"level":"debug","ts":1603110992.4885986,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010955,"rows_affected":0}
{"level":"debug","ts":1603110992.5021524,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"configurations\" (\"id\" bigserial,\"name\" text NOT NULL UNIQUE,\"value\" text NOT NULL,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone , PRIMARY KEY (\"id\"))","time":0.0105117,"rows_affected":0}
{"level":"debug","ts":1603110992.5097826,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_configurations_name ON \"configurations\"(\"name\") ","time":0.0043337,"rows_affected":0}
{"level":"debug","ts":1603110992.512085,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006126,"rows_affected":1}
{"level":"debug","ts":1603110992.5143714,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000777,"rows_affected":0}
{"level":"debug","ts":1603110992.517178,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"creation_height_numeric\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"observed_height_numeric\" numeric(78, 0);\nUPDATE job_runs\nSET\n\t\"creation_height_numeric\" = CAST(\"creation_height\" as numeric),\n\t\"observed_height_numeric\" = CAST(\"observed_height\" as numeric);\nALTER TABLE job_runs DROP COLUMN \"creation_height\";\nALTER TABLE job_runs DROP COLUMN \"observed_height\";\nALTER TABLE job_runs RENAME COLUMN \"creation_height_numeric\" TO \"creation_height\";\nALTER TABLE job_runs RENAME COLUMN \"observed_height_numeric\" TO \"observed_height\";\n\t","time":0.0012897,"rows_affected":0}
{"level":"debug","ts":1603110992.5189247,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004471,"rows_affected":1}
{"level":"debug","ts":1603110992.5207055,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000667,"rows_affected":0}
{"level":"debug","ts":1603110992.522752,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_job_run_id;\nALTER TABLE run_results DROP COLUMN IF EXISTS cached_task_run_id;\n\t\t","time":0.0005327,"rows_affected":0}
{"level":"debug","ts":1603110992.5250738,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005779,"rows_affected":1}
{"level":"debug","ts":1603110992.527284,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011131,"rows_affected":0}
{"level":"debug","ts":1603110992.531149,"caller":"migration1565877314/migrate.go:44","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0013745,"rows_affected":0}
{"level":"debug","ts":1603110992.5345633,"caller":"migration1565877314/migrate.go:49","msg":"DROP TABLE \"external_initiators\"","time":0.0019025,"rows_affected":0}
{"level":"debug","ts":1603110992.5555205,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0187274,"rows_affected":0}
{"level":"debug","ts":1603110992.5684905,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0058421,"rows_affected":0}
{"level":"debug","ts":1603110992.5704205,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006502,"rows_affected":1}
{"level":"debug","ts":1603110992.5725598,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011266,"rows_affected":0}
{"level":"debug","ts":1603110992.574399,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD name varchar(255)","time":0.0005809,"rows_affected":0}
{"level":"debug","ts":1603110992.576056,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005955,"rows_affected":1}
{"level":"debug","ts":1603110992.579428,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0015065,"rows_affected":0}
{"level":"debug","ts":1603110992.5839937,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE run_requests ADD COLUMN \"payment\" numeric(78, 0);\nALTER TABLE job_runs ADD COLUMN \"payment\" numeric(78, 0);\nUPDATE job_runs\nSET \"payment\" = CAST(\"earned\" AS numeric)\nFROM link_earned\nWHERE job_run_id = job_runs.id;\nDROP TABLE \"link_earned\";\nALTER TABLE run_results DROP COLUMN \"amount\";\n","time":0.0026708,"rows_affected":0}
{"level":"debug","ts":1603110992.585865,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005768,"rows_affected":1}
{"level":"debug","ts":1603110992.5874906,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006038,"rows_affected":0}
{"level":"debug","ts":1603110992.5901318,"caller":"migration1568280052/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0008267,"rows_affected":0}
{"level":"debug","ts":1603110992.5928445,"caller":"migration1568280052/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0016427,"rows_affected":0}
{"level":"debug","ts":1603110992.6156402,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text NOT NULL,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0186573,"rows_affected":0}
{"level":"debug","ts":1603110992.6282651,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0062719,"rows_affected":0}
{"level":"debug","ts":1603110992.6321828,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0019477,"rows_affected":1}
{"level":"debug","ts":1603110992.634144,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007216,"rows_affected":0}
{"level":"debug","ts":1603110992.6371026,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_specs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\n\t","time":0.0014128,"rows_affected":0}
{"level":"debug","ts":1603110992.6396396,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0008087,"rows_affected":0}
{"level":"debug","ts":1603110992.6428418,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE task_specs\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0008566,"rows_affected":0}
{"level":"debug","ts":1603110992.6466997,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements ADD COLUMN \"job_spec_id_uuid\" uuid;\nUPDATE service_agreements\nSET\n\t\"job_spec_id_uuid\" = CAST(\"job_spec_id\" as uuid);\n\t","time":0.0010405,"rows_affected":0}
{"level":"debug","ts":1603110992.6541731,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_specs DROP CONSTRAINT \"job_specs_pkey\" CASCADE;\nALTER TABLE job_specs DROP COLUMN \"id\";\nALTER TABLE job_specs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_specs ADD CONSTRAINT \"job_spec_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0051663,"rows_affected":0}
{"level":"debug","ts":1603110992.6579776,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"job_spec_id\";\nALTER TABLE job_runs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE job_runs ADD CONSTRAINT \"job_runs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0018974,"rows_affected":0}
{"level":"debug","ts":1603110992.6615517,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_specs DROP COLUMN \"job_spec_id\";\nALTER TABLE task_specs RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE task_specs ADD CONSTRAINT \"task_specs_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0023832,"rows_affected":0}
{"level":"debug","ts":1603110992.6656659,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE service_agreements DROP COLUMN \"job_spec_id\";\nALTER TABLE service_agreements RENAME COLUMN \"job_spec_id_uuid\" TO \"job_spec_id\";\n\nALTER TABLE service_agreements ADD CONSTRAINT \"service_agreements_job_spec_id_fkey\" FOREIGN KEY (\"job_spec_id\") REFERENCES job_specs (\"id\") ON DELETE CASCADE;\n\t","time":0.0024471,"rows_affected":0}
{"level":"debug","ts":1603110992.6691434,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE job_runs\nSET\n\t\"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE job_runs DROP CONSTRAINT \"job_runs_pkey\" CASCADE;\n\t","time":0.0017054,"rows_affected":0}
{"level":"debug","ts":1603110992.6711192,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"job_run_id_uuid\" uuid;\nUPDATE task_runs\nSET\n\t\"job_run_id_uuid\" = CAST(\"job_run_id\" as uuid);\n\t","time":0.000817,"rows_affected":0}
{"level":"debug","ts":1603110992.6817908,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs DROP COLUMN \"id\";\nALTER TABLE job_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE job_runs ADD CONSTRAINT \"job_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.00849,"rows_affected":0}
{"level":"debug","ts":1603110992.7072797,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs DROP COLUMN \"job_run_id\";\nALTER TABLE task_runs RENAME COLUMN \"job_run_id_uuid\" TO \"job_run_id\";\n\nALTER TABLE task_runs ADD CONSTRAINT \"task_runs_job_run_id_fkey\" FOREIGN KEY (\"job_run_id\") REFERENCES job_runs (\"id\") ON DELETE CASCADE;\n\t","time":0.0040635,"rows_affected":0}
{"level":"debug","ts":1603110992.7141905,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE task_runs ADD COLUMN \"id_uuid\" uuid;\nUPDATE task_runs SET \"id_uuid\" = CAST(\"id\" as uuid);\nALTER TABLE task_runs DROP COLUMN \"id\";\nALTER TABLE task_runs RENAME COLUMN \"id_uuid\" TO \"id\";\nALTER TABLE task_runs ADD CONSTRAINT \"task_run_pkey\" PRIMARY KEY (\"id\");\n\t","time":0.0053548,"rows_affected":0}
{"level":"debug","ts":1603110992.7169695,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009485,"rows_affected":1}
{"level":"debug","ts":1603110992.7194693,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009589,"rows_affected":0}
{"level":"debug","ts":1603110992.7221246,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE \"encumbrances\";","time":0.0013913,"rows_affected":0}
{"level":"debug","ts":1603110992.7358809,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"encumbrances\" (\"id\" serial,\"payment\" varchar(255),\"expiration\" bigint,\"end_at\" timestamp with time zone,\"oracles\" text,\"aggregator\" text NOT NULL,\"agg_initiate_job_selector\" bytea NOT NULL,\"agg_fulfill_selector\" bytea NOT NULL , PRIMARY KEY (\"id\"))","time":0.0107795,"rows_affected":0}
{"level":"debug","ts":1603110992.7389343,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012638,"rows_affected":1}
{"level":"debug","ts":1603110992.7417407,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012702,"rows_affected":0}
{"level":"debug","ts":1603110992.7880685,"caller":"migration1568833756/migrate.go:36","msg":"ALTER TABLE \"initiators\" ADD \"params\" text;","time":0.0007125,"rows_affected":0}
{"level":"debug","ts":1603110992.806682,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0009798,"rows_affected":1}
{"level":"debug","ts":1603110992.809198,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010687,"rows_affected":0}
{"level":"debug","ts":1603110992.812195,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE initiators ADD COLUMN \"from_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"to_block\" numeric(78, 0);\nALTER TABLE initiators ADD COLUMN \"topics\" text;\n","time":0.0012627,"rows_affected":0}
{"level":"debug","ts":1603110992.8147764,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.001028,"rows_affected":1}
{"level":"debug","ts":1603110992.817109,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009931,"rows_affected":0}
{"level":"debug","ts":1603110992.8204317,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\nALTER TABLE job_runs ADD COLUMN \"overrides\" text;\nUPDATE job_runs\nSET \"overrides\" = (\n\tSELECT data\n\tFROM run_results\n\tWHERE overrides_id = run_results.id\n);\nDELETE FROM run_results\nWHERE id IN (\n\tSELECT overrides_id\n\tFROM job_runs\n);","time":0.0014417,"rows_affected":0}
{"level":"debug","ts":1603110992.822606,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008806,"rows_affected":1}
{"level":"debug","ts":1603110992.8248649,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008696,"rows_affected":0}
{"level":"debug","ts":1603110992.8275287,"caller":"migration1573667511/migrate.go:39","msg":"SELECT * FROM \"external_initiators\"  WHERE \"external_initiators\".\"deleted_at\" IS NULL","time":0.0007842,"rows_affected":0}
{"level":"debug","ts":1603110992.8306196,"caller":"migration1573667511/migrate.go:44","msg":"DROP TABLE \"external_initiators\"","time":0.0017992,"rows_affected":0}
{"level":"debug","ts":1603110992.8477044,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"external_initiators\" (\"id\" serial,\"created_at\" timestamp with time zone,\"updated_at\" timestamp with time zone,\"deleted_at\" timestamp with time zone,\"name\" text NOT NULL UNIQUE,\"url\" text,\"access_key\" text NOT NULL,\"salt\" text NOT NULL,\"hashed_secret\" text NOT NULL,\"outgoing_secret\" text NOT NULL,\"outgoing_token\" text NOT NULL , PRIMARY KEY (\"id\"))","time":0.0140392,"rows_affected":0}
{"level":"debug","ts":1603110992.858862,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/scope.go:1331","msg":"CREATE INDEX idx_external_initiators_deleted_at ON \"external_initiators\"(deleted_at) ","time":0.0070391,"rows_affected":0}
{"level":"debug","ts":1603110992.8613877,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010985,"rows_affected":1}
{"level":"debug","ts":1603110992.864987,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.001801,"rows_affected":0}
{"level":"debug","ts":1603110992.8929043,"caller":"migration1573812490/migrate.go:20","msg":"ALTER TABLE \"users\" ADD \"token_secret\" text;","time":0.000722,"rows_affected":0}
{"level":"debug","ts":1603110992.8981333,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0012626,"rows_affected":1}
{"level":"debug","ts":1603110992.9002764,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0008967,"rows_affected":0}
{"level":"debug","ts":1603110992.926096,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010356,"rows_affected":1}
{"level":"debug","ts":1603110992.9289484,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0011606,"rows_affected":0}
{"level":"debug","ts":1603110992.9365373,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE encrypted_secret_keys (\n\t\t\tpublic_key character varying(68) PRIMARY KEY,\n\t\t\tvrf_key text NOT NULL,\n\t\t\tcreated_at timestamp with time zone NOT NULL,\n\t\t\tupdated_at timestamp with time zone NOT NULL\n\t\t);\n\t","time":0.0063765,"rows_affected":0}
{"level":"debug","ts":1603110992.937817,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003709,"rows_affected":1}
{"level":"debug","ts":1603110992.9394042,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000641,"rows_affected":0}
{"level":"debug","ts":1603110992.941363,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE initiators ADD COLUMN \"request_data\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"feeds\" text;\n\t\tALTER TABLE initiators ADD COLUMN \"threshold\" float;\n\t\tALTER TABLE initiators ADD COLUMN \"precision\" smallint;\n\t","time":0.0007322,"rows_affected":0}
{"level":"debug","ts":1603110992.942559,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004777,"rows_affected":1}
{"level":"debug","ts":1603110992.9441957,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006812,"rows_affected":0}
{"level":"debug","ts":1603110992.9455774,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"polling_interval\" BigInt;\n\t","time":0.0004925,"rows_affected":0}
{"level":"debug","ts":1603110992.9469202,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004071,"rows_affected":1}
{"level":"debug","ts":1603110992.948025,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000433,"rows_affected":0}
{"level":"debug","ts":1603110992.9491088,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"idle_threshold\" BigInt;\n\t","time":0.0003248,"rows_affected":0}
{"level":"debug","ts":1603110992.9502146,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003546,"rows_affected":1}
{"level":"debug","ts":1603110992.9514678,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004251,"rows_affected":0}
{"level":"debug","ts":1603110992.952552,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE run_requests ADD request_params text NOT NULL DEFAULT '{}'","time":0.0004191,"rows_affected":0}
{"level":"debug","ts":1603110992.9535823,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t\tUPDATE run_requests\n\t\t\tSET request_params = job_runs.overrides\n\t\t\tFROM job_runs\n\t\t\tWHERE job_runs.run_request_id = run_requests.id AND job_runs.overrides IS NOT NULL\n\t\t","time":0.0003934,"rows_affected":0}
{"level":"debug","ts":1603110992.954572,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE job_runs DROP COLUMN IF EXISTS overrides","time":0.0004001,"rows_affected":0}
{"level":"debug","ts":1603110992.9558148,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003873,"rows_affected":1}
{"level":"debug","ts":1603110992.9570355,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005155,"rows_affected":0}
{"level":"debug","ts":1603110992.9659917,"caller":"gorm@v1.9.11-0.20190912141731-0c98e7d712e2/main.go:657","msg":"CREATE TABLE \"log_cursors\" (\"name\" text,\"initialized\" boolean NOT NULL,\"block_index\" integer NOT NULL,\"log_index\" integer NOT NULL , PRIMARY KEY (\"name\"))","time":0.0069301,"rows_affected":0}
{"level":"debug","ts":1603110992.9676023,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006233,"rows_affected":1}
{"level":"debug","ts":1603110992.9691572,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007401,"rows_affected":0}
{"level":"debug","ts":1603110993.0255854,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tUPDATE initiators SET params = NULL WHERE params = '';\n\t\tALTER TABLE initiators ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\n\t\tUPDATE keys SET json = NULL WHERE json = '';\n\t\tALTER TABLE keys ALTER COLUMN json TYPE jsonb USING json::jsonb;\n\n\t\tUPDATE run_requests SET request_params = '{}' WHERE request_params = '';\n\t\tALTER TABLE run_requests ALTER COLUMN request_params DROP DEFAULT;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params TYPE jsonb USING request_params::jsonb;\n\t\tALTER TABLE run_requests ALTER COLUMN request_params SET DEFAULT '{}'::jsonb;\n\n\t\tUPDATE run_results SET data = NULL WHERE data = '';\n\t\tALTER TABLE run_results ALTER COLUMN data TYPE jsonb USING data::jsonb;\n\n\t\tUPDATE task_specs SET params = NULL WHERE params = '';\n\t\tALTER TABLE task_specs ALTER COLUMN params TYPE jsonb USING params::jsonb;\n\t","time":0.0556834,"rows_affected":0}
{"level":"debug","ts":1603110993.0291781,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0015498,"rows_affected":1}
{"level":"debug","ts":1603110993.0318944,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012446,"rows_affected":0}
{"level":"debug","ts":1603110993.036417,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX IF NOT EXISTS idx_task_runs_job_run_id ON task_runs(job_run_id);\n\t","time":0.0035144,"rows_affected":0}
{"level":"debug","ts":1603110993.0421913,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_job_runs_job_spec_id ON job_runs(job_spec_id);\n\t","time":0.0042708,"rows_affected":0}
{"level":"debug","ts":1603110993.048973,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_txs_hash ON txes(hash);\n\t","time":0.0050737,"rows_affected":0}
{"level":"debug","ts":1603110993.0537462,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_job_runs_status;\n\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed';\n\t","time":0.0030435,"rows_affected":0}
{"level":"debug","ts":1603110993.0642488,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX idx_task_runs_created_at;\n\tCREATE INDEX idx_task_runs_created_at ON task_runs USING BRIN (created_at);\n\n\tDROP INDEX idx_job_runs_created_at;\n\tCREATE INDEX idx_job_runs_created_at ON job_runs USING BRIN (created_at);\n\n\tCREATE INDEX idx_job_runs_updated_at ON job_runs USING BRIN (updated_at);\n\n\tCREATE INDEX idx_job_runs_finished_at ON job_runs USING BRIN (finished_at);\n\n\tDROP INDEX idx_sessions_last_used;\n\tCREATE INDEX idx_sessions_last_used ON sessions USING BRIN (last_used);\n\n\tDROP INDEX idx_sessions_created_at;\n\tCREATE INDEX idx_sessions_created_at ON sessions USING BRIN (created_at);\n\n\tDROP INDEX idx_tx_attempts_created_at;\n\tCREATE INDEX idx_tx_attempts_created_at ON tx_attempts USING BRIN (created_at);\n\n\tCREATE INDEX idx_run_requests_created_at ON run_requests USING BRIN (created_at);\n\n\tCREATE INDEX idx_task_specs_created_at ON task_specs USING BRIN (created_at);\n\tCREATE INDEX idx_task_specs_updated_at ON task_specs USING BRIN (updated_at);\n\t","time":0.0095238,"rows_affected":0}
{"level":"debug","ts":1603110993.0662744,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007311,"rows_affected":1}
{"level":"debug","ts":1603110993.0685296,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0014917,"rows_affected":0}
{"level":"debug","ts":1603110993.0861366,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE INDEX idx_task_specs_job_spec_id ON task_specs (job_spec_id);\n\tCREATE INDEX idx_job_runs_run_request_id ON job_runs (run_request_id);\n\tCREATE INDEX idx_job_runs_result_id ON job_runs (result_id);\n\tCREATE INDEX idx_job_runs_initiator_id ON job_runs (initiator_id);\n\tCREATE INDEX idx_task_runs_result_id ON task_runs (result_id);\n\t","time":0.0165484,"rows_affected":0}
{"level":"debug","ts":1603110993.1071546,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ALTER COLUMN job_spec_id TYPE uuid USING job_spec_id::uuid;\n\t","time":0.0195951,"rows_affected":0}
{"level":"debug","ts":1603110993.109209,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tUPDATE job_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE job_runs SET run_request_id = NULL WHERE run_request_id = 0;\n\tUPDATE job_runs SET initiator_id = NULL WHERE initiator_id = 0;\n\tUPDATE task_runs SET result_id = NULL WHERE result_id = 0;\n\tUPDATE task_runs SET task_spec_id = NULL WHERE task_spec_id = 0;\n\t","time":0.0009639,"rows_affected":0}
{"level":"debug","ts":1603110993.1110406,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDELETE FROM job_runs WHERE initiator_id IS NULL;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id SET NOT NULL;\n\t","time":0.0007919,"rows_affected":0}
{"level":"debug","ts":1603110993.1171494,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE initiators ADD CONSTRAINT fk_initiators_job_spec_id FOREIGN KEY (job_spec_id) REFERENCES job_specs (id) ON DELETE RESTRICT;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_run_request_id FOREIGN KEY (run_request_id) REFERENCES run_requests (id) ON DELETE CASCADE;\n\tALTER TABLE job_runs ADD CONSTRAINT fk_job_runs_initiator_id FOREIGN KEY (initiator_id) REFERENCES initiators (id) ON DELETE CASCADE;\n\tALTER TABLE service_agreements ADD CONSTRAINT fk_service_agreements_encumbrance_id FOREIGN KEY (encumbrance_id) REFERENCES encumbrances (id) ON DELETE RESTRICT;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_result_id FOREIGN KEY (result_id) REFERENCES run_results (id) ON DELETE CASCADE;\n\tALTER TABLE task_runs ADD CONSTRAINT fk_task_runs_task_spec_id FOREIGN KEY (task_spec_id) REFERENCES task_specs (id) ON DELETE CASCADE;\n\t","time":0.0049604,"rows_affected":0}
{"level":"debug","ts":1603110993.1186242,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006411,"rows_affected":1}
{"level":"debug","ts":1603110993.120011,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006101,"rows_affected":0}
{"level":"debug","ts":1603110993.1381273,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE job_runs DROP COLUMN overrides_id;\n\tALTER TABLE task_runs DROP COLUMN confirmations_old1560433987;\n\tALTER TABLE initiators ALTER COLUMN topics TYPE jsonb USING topics::jsonb;\n\t","time":0.0173175,"rows_affected":0}
{"level":"debug","ts":1603110993.1399488,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007459,"rows_affected":1}
{"level":"debug","ts":1603110993.141228,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004536,"rows_affected":0}
{"level":"debug","ts":1603110993.2209814,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE run_requests ALTER COLUMN request_id TYPE bytea USING decode(substring(request_id from 3), 'hex');\n\tALTER TABLE tx_attempts ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\tALTER TABLE txes ALTER COLUMN signed_raw_tx TYPE bytea USING decode(substring(signed_raw_tx from 3), 'hex');\n\n\tALTER TABLE tx_attempts ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN gas_price TYPE numeric(78, 0) USING gas_price::numeric;\n\tALTER TABLE txes ALTER COLUMN value TYPE numeric(78, 0) USING value::numeric;\n\tALTER TABLE encumbrances ALTER COLUMN payment TYPE numeric(78, 0) USING payment::numeric;\n\t","time":0.0787571,"rows_affected":0}
{"level":"debug","ts":1603110993.2229443,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007618,"rows_affected":1}
{"level":"debug","ts":1603110993.2250843,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0012722,"rows_affected":0}
{"level":"debug","ts":1603110993.228068,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ALTER COLUMN url SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET DEFAULT 0;\n\tALTER TABLE bridge_types ALTER COLUMN confirmations SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN incoming_token_hash SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN salt SET NOT NULL;\n\tALTER TABLE bridge_types ALTER COLUMN outgoing_token SET NOT NULL;\n\n\tALTER TABLE configurations ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE configurations ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN public_key SET NOT NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN vrf_key SET NOT NULL;\n\n\tALTER TABLE external_initiators ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE external_initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ALTER COLUMN job_spec_id SET NOT NULL;\n\tALTER TABLE initiators ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE job_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE job_runs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE job_specs ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ALTER COLUMN json SET NOT NULL;\n\n\tALTER TABLE run_requests ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ALTER COLUMN created_at SET NOT NULL;\n\t\n\tALTER TABLE sessions ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE sync_events ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE sync_events ALTER COLUMN body SET NOT NULL;\n\n\tALTER TABLE task_runs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id SET NOT NULL;\n\tALTER TABLE task_runs ALTER COLUMN job_run_id SET NOT NULL;\n\n\tALTER TABLE task_specs ALTER COLUMN created_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN updated_at SET NOT NULL;\n\tALTER TABLE task_specs ALTER COLUMN job_spec_id SET NOT NULL;\n\n\tALTER TABLE tx_attempts ALTER COLUMN tx_id SET NOT NULL;\n\n\tALTER TABLE users ALTER COLUMN created_at SET NOT NULL;\n\t","time":0.0020689,"rows_affected":0}
{"level":"debug","ts":1603110993.2302308,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005254,"rows_affected":1}
{"level":"debug","ts":1603110993.231415,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000613,"rows_affected":0}
{"level":"debug","ts":1603110993.2592223,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TYPE job_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\tCREATE TYPE task_run_status AS ENUM ('unstarted', 'in_progress', 'pending_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t-- It's no longer used as of deb84dbfc\n\tALTER TABLE run_results DROP COLUMN status;\n\n\tUPDATE job_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\tUPDATE task_runs SET status = 'unstarted' WHERE status = '' OR status IS NULL;\n\n\tDROP INDEX idx_job_runs_status;\n\tALTER TABLE job_runs ALTER COLUMN status TYPE job_run_status USING status::job_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::job_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_job_runs_status ON job_runs (status) WHERE status != 'completed'::job_run_status;\n\n\tALTER TABLE task_runs ALTER COLUMN status TYPE task_run_status USING status::task_run_status, ALTER COLUMN status SET DEFAULT 'unstarted'::task_run_status, ALTER COLUMN status SET NOT NULL;\n\tCREATE INDEX idx_task_runs_status ON task_runs (status) WHERE status != 'completed'::task_run_status;\n\t","time":0.0271655,"rows_affected":0}
{"level":"debug","ts":1603110993.260834,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006464,"rows_affected":1}
{"level":"debug","ts":1603110993.2624328,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006658,"rows_affected":0}
{"level":"debug","ts":1603110993.270276,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE TABLE \"log_consumptions\" (\n\t\t\"id\" bigserial primary key NOT NULL,\n\t\t\"block_hash\" bytea NOT NULL,\n\t\t\"log_index\" bigint NOT NULL,\n\t\t\"job_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\"created_at\" timestamp without time zone NOT NULL\n\t);\n\n\tCREATE UNIQUE INDEX log_consumptions_unique_idx ON log_consumptions (\"job_id\", \"block_hash\", \"log_index\");\n\tCREATE INDEX log_consumptions_created_at_idx ON log_consumptions USING brin (created_at);\n\t","time":0.007324,"rows_affected":0}
{"level":"debug","ts":1603110993.272074,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006973,"rows_affected":1}
{"level":"debug","ts":1603110993.2731876,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005984,"rows_affected":0}
{"level":"debug","ts":1603110993.2742577,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"ALTER TABLE initiators ADD COLUMN \"absolute_threshold\" float;","time":0.0002976,"rows_affected":0}
{"level":"debug","ts":1603110993.2754269,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004143,"rows_affected":1}
{"level":"debug","ts":1603110993.2763953,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004504,"rows_affected":0}
{"level":"debug","ts":1603110993.277593,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"DROP TABLE IF EXISTS log_cursors","time":0.0005432,"rows_affected":0}
{"level":"debug","ts":1603110993.2788143,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004054,"rows_affected":1}
{"level":"debug","ts":1603110993.2799556,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004483,"rows_affected":0}
{"level":"debug","ts":1603110993.2925696,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE bridge_types SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_bridge_types_created_at ON bridge_types USING BRIN (created_at);\n\tALTER TABLE bridge_types ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE bridge_types ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE bridge_types SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_bridge_types_updated_at ON bridge_types USING BRIN (updated_at);\n\tALTER TABLE bridge_types ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE encrypted_secret_keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encrypted_secret_keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE encrypted_secret_keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE encrypted_secret_keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN created_at timestamptz;\n\tUPDATE encumbrances SET created_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_created_at ON encumbrances USING BRIN (created_at);\n\tALTER TABLE encumbrances ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE encumbrances ADD COLUMN updated_at timestamptz;\n\tUPDATE encumbrances SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_encumbrances_updated_at ON encumbrances USING BRIN (updated_at);\n\tALTER TABLE encumbrances ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE initiators ADD COLUMN updated_at timestamptz;\n\tUPDATE initiators SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_initiators_updated_at ON initiators USING BRIN (updated_at);\n\tALTER TABLE initiators ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE job_specs ADD COLUMN updated_at timestamptz;\n\tUPDATE job_specs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_job_specs_updated_at ON job_specs USING BRIN (updated_at);\n\tALTER TABLE job_specs ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE keys SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE keys ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE keys SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tALTER TABLE keys ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN created_at timestamptz;\n\tUPDATE run_results SET created_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_created_at ON run_results USING BRIN (created_at);\n\tALTER TABLE run_results ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE run_results ADD COLUMN updated_at timestamptz;\n\tUPDATE run_results SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_run_results_updated_at ON run_results USING BRIN (updated_at);\n\tALTER TABLE run_results ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE service_agreements ADD COLUMN updated_at timestamptz;\n\tUPDATE service_agreements SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_service_agreements_updated_at ON service_agreements USING BRIN (updated_at);\n\tALTER TABLE service_agreements ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE task_runs ADD COLUMN updated_at timestamptz;\n\tUPDATE task_runs SET updated_at = '2019-01-01';\n\tCREATE INDEX idx_task_runs_updated_at ON task_runs USING BRIN (updated_at);\n\tALTER TABLE task_runs ALTER COLUMN updated_at SET NOT NULL;\n\t\n\tALTER TABLE tx_attempts ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE tx_attempts SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_tx_attempts_updated_at ON tx_attempts USING BRIN (updated_at);\n\tALTER TABLE tx_attempts ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS created_at timestamptz;\n\tUPDATE txes SET created_at = '2019-01-01' WHERE created_at IS NULL;\n\tCREATE INDEX idx_txes_created_at ON txes USING BRIN (created_at);\n\tALTER TABLE txes ALTER COLUMN created_at SET NOT NULL;\n\n\tALTER TABLE txes ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE txes SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_txes_updated_at ON txes USING BRIN (updated_at);\n\tALTER TABLE txes ALTER COLUMN updated_at SET NOT NULL;\n\n\tALTER TABLE users ADD COLUMN IF NOT EXISTS updated_at timestamptz;\n\tUPDATE users SET updated_at = '2019-01-01' WHERE updated_at IS NULL;\n\tCREATE INDEX idx_users_updated_at ON users USING BRIN (updated_at);\n\tALTER TABLE users ALTER COLUMN updated_at SET NOT NULL;\n\t","time":0.0117858,"rows_affected":0}
{"level":"debug","ts":1603110993.2940288,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003995,"rows_affected":1}
{"level":"debug","ts":1603110993.2952015,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004603,"rows_affected":0}
{"level":"debug","ts":1603110993.2968395,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t  ALTER TABLE initiators ADD COLUMN \"poll_timer\" jsonb;\n\t  ALTER TABLE initiators ADD COLUMN \"idle_timer\" jsonb;\n\t  ALTER TABLE initiators DROP COLUMN \"idle_threshold\";\n\t","time":0.0008526,"rows_affected":0}
{"level":"debug","ts":1603110993.2979686,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004956,"rows_affected":1}
{"level":"debug","ts":1603110993.2993734,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006379,"rows_affected":0}
{"level":"debug","ts":1603110993.303722,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tDROP INDEX IF EXISTS idx_txs_hash;\n\n\tWITH duplicate_txes_hash AS (\n\t\tSELECT hash FROM txes GROUP BY hash HAVING count(hash) > 1\n\t), txes_to_delete AS (\n\t\tSELECT id\n\t\tFROM txes\n\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\tWHERE id NOT IN (\n\t\t\tSELECT DISTINCT ON (txes.hash) id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_hash dups ON dups.hash = txes.hash\n\t\t\tORDER BY txes.hash, id ASC\n\t\t)\n\t)\n\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\tCREATE UNIQUE INDEX idx_txes_hash ON txes (hash);\n\t","time":0.0036428,"rows_affected":0}
{"level":"debug","ts":1603110993.3048668,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003305,"rows_affected":1}
{"level":"debug","ts":1603110993.3059576,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004182,"rows_affected":0}
{"level":"debug","ts":1603110993.3100507,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_unique_case_insensitive_keys_addresses ON keys(lower(address))\n\t","time":0.0034451,"rows_affected":0}
{"level":"debug","ts":1603110993.3111172,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004135,"rows_affected":1}
{"level":"debug","ts":1603110993.3122725,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004518,"rows_affected":0}
{"level":"debug","ts":1603110993.373163,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop old partial index and defaults which will otherwise cause cast to fail\n\t\tDROP INDEX idx_job_runs_status;\n\t\tDROP INDEX idx_task_runs_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT NULL;\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT NULL;\n\n\t\t-- Convert column type to text to allow for easy transformation\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE text;\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE text;\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run owning this task run\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = task_runs.job_run_id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- HACK: Assume it's pending outgoing transactions if there exists a TX for the job run\n\t\tUPDATE job_runs\n\t\tSET status = 'pending_outgoing_confirmations'\n\t\tFROM txes\n\t\tWHERE txes.surrogate_id::uuid = job_runs.id\n\t\tAND status = 'pending_confirmations';\n\n\t\t-- All remaining must be pending incoming confirmations\n\t\tUPDATE task_runs\n\t\tSET status = 'pending_incoming_confirmations'\n\t\tWHERE status = 'pending_confirmations';\n\n\t\t-- Create the new enum type\n\t\tCREATE TYPE run_status AS ENUM ('unstarted', 'in_progress', 'pending_incoming_confirmations', 'pending_outgoing_confirmations', 'pending_connection', 'pending_bridge', 'pending_sleep', 'errored', 'completed', 'cancelled');\n\n\t\t-- Cast the columns\n\t\tALTER TABLE job_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\t\tALTER TABLE task_runs ALTER COLUMN status TYPE run_status USING status::run_status;\t\n\n\t\t-- Drop the old types\n\t\tDROP TYPE job_run_status;\n\t\tDROP TYPE task_run_status;\n\n\t\t-- Recreate indexes and defaults\n\t\tCREATE INDEX idx_job_runs_status ON job_runs(status) WHERE status != 'completed'::run_status;\n\t\tCREATE INDEX idx_task_runs_status ON task_runs(status) WHERE status != 'completed'::run_status;\n\t\tALTER TABLE job_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t\tALTER TABLE task_runs ALTER COLUMN status SET DEFAULT 'unstarted';\n\t","time":0.0600751,"rows_affected":0}
{"level":"debug","ts":1603110993.3748188,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006166,"rows_affected":1}
{"level":"debug","ts":1603110993.376363,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006638,"rows_affected":0}
{"level":"debug","ts":1603110993.380228,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- where one of the txes is confirmed, keep the latest confirmed one\n\t\t-- if none are confirmed, keep the latest one\n\t\tWITH duplicate_txes_by_nonce AS (\n\t\t\tSELECT nonce, \"from\"\n\t\t\tFROM txes\n\t\t\tGROUP BY nonce, \"from\"\n\t\t\tHAVING count(id) > 1\n\t\t),\n\t\ttxes_to_keep AS (\n\t\t\tSELECT DISTINCT ON (txes.nonce) txes.nonce, id, confirmed, txes.\"from\"\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tORDER BY nonce, \"from\", confirmed desc, id desc\n\t\t),\n\t\ttxes_to_delete AS (\n\t\t\tSELECT id\n\t\t\tFROM txes\n\t\t\tJOIN duplicate_txes_by_nonce\n\t\t\tON duplicate_txes_by_nonce.nonce = txes.nonce\n\t\t\tAND duplicate_txes_by_nonce.from = txes.from\n\t\t\tWHERE id NOT IN (SELECT id FROM txes_to_keep)\n\t\t)\n\t\tDELETE FROM txes WHERE id IN (SELECT id FROM txes_to_delete);\n\n\t\tDROP INDEX idx_txes_nonce;\n\t  \tCREATE UNIQUE INDEX idx_txes_unique_nonces_per_account ON txes(nonce, \"from\");\n\t","time":0.0031867,"rows_affected":0}
{"level":"debug","ts":1603110993.3818448,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005999,"rows_affected":1}
{"level":"debug","ts":1603110993.383038,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006201,"rows_affected":0}
{"level":"debug","ts":1603110993.3984327,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE keys ALTER COLUMN address TYPE bytea USING decode(substring(address from 3), 'hex');\n\t-- it's no longer necessary since the key is stored as a binary\n\tDROP INDEX idx_unique_case_insensitive_keys_addresses;\n\tALTER TABLE encumbrances ALTER COLUMN aggregator TYPE bytea USING decode(substring(aggregator from 3), 'hex');\n\t","time":0.0146698,"rows_affected":0}
{"level":"debug","ts":1603110993.4004002,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010098,"rows_affected":1}
{"level":"debug","ts":1603110993.4020452,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010089,"rows_affected":0}
{"level":"debug","ts":1603110993.56905,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tALTER TABLE configurations ALTER COLUMN id TYPE bigint;\n\tALTER TABLE encumbrances ALTER COLUMN id TYPE bigint;\n\tALTER TABLE external_initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE initiators ALTER COLUMN id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN initiator_id TYPE bigint;\n\tALTER TABLE job_runs ALTER COLUMN run_request_id TYPE bigint;\n\tALTER TABLE run_requests ALTER COLUMN id TYPE bigint;\n\tALTER TABLE run_results ALTER COLUMN id TYPE bigint;\n\tALTER TABLE service_agreements ALTER COLUMN encumbrance_id TYPE bigint;\n\tALTER TABLE sync_events ALTER COLUMN id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN result_id TYPE bigint;\n\tALTER TABLE task_runs ALTER COLUMN task_spec_id TYPE bigint;\n\tALTER TABLE task_specs ALTER COLUMN id TYPE bigint;\n\t","time":0.1663507,"rows_affected":0}
{"level":"debug","ts":1603110993.5717466,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0010003,"rows_affected":1}
{"level":"debug","ts":1603110993.5749888,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0010763,"rows_affected":0}
{"level":"debug","ts":1603110993.580408,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\tCREATE UNIQUE INDEX idx_heads_hash ON heads (hash);\n\tALTER TABLE heads\n\t\tADD COLUMN parent_hash bytea,\n\t\tADD COLUMN created_at timestamptz,\n\t\tADD COLUMN timestamp timestamptz;\n\tUPDATE heads SET\n\t\tparent_hash = E'\\\\x0000000000000000000000000000000000000000000000000000000000000000',\n\t\tcreated_at = '2019-01-01',\n\t\ttimestamp = '2019-01-01';\n\tALTER TABLE heads\n\t\tALTER COLUMN parent_hash SET NOT NULL,\n\t\tALTER COLUMN created_at SET NOT NULL,\n\t\tALTER COLUMN timestamp SET NOT NULL,\n\t\tADD CONSTRAINT chk_hash_size CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t),\n\t\tADD CONSTRAINT chk_parent_hash_size CHECK (\n\t\t\toctet_length(parent_hash) = 32\n\t\t);\n\t","time":0.0043597,"rows_affected":0}
{"level":"debug","ts":1603110993.5829504,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0008192,"rows_affected":1}
{"level":"debug","ts":1603110993.5845063,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.000721,"rows_affected":0}
{"level":"debug","ts":1603110993.5947914,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n        CREATE TABLE flux_monitor_round_stats (\n            id bigserial primary key,\n            aggregator bytea not null,\n            round_id integer not null,\n            num_new_round_logs integer not null default 0,\n            num_submissions integer not null default 0,\n\n            UNIQUE (aggregator, round_id)\n        )\n    ","time":0.0095194,"rows_affected":0}
{"level":"debug","ts":1603110993.596656,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007965,"rows_affected":1}
{"level":"debug","ts":1603110993.5982573,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007303,"rows_affected":0}
{"level":"debug","ts":1603110993.6710713,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TYPE eth_txes_state AS ENUM ('unstarted', 'in_progress', 'fatal_error', 'unconfirmed', 'confirmed');\n\n\t  \tCREATE TABLE eth_txes (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\tnonce bigint, \n\t\t\tfrom_address bytea NOT NULL REFERENCES keys (address),\n\t\t\tto_address bytea NOT NULL,\n\t\t\tencoded_payload bytea NOT NULL,\n\t\t\tvalue numeric(78, 0) NOT NULL,\n\t\t\tgas_limit bigint NOT NULL,\n\t\t\terror text,\n\t\t\tbroadcast_at timestamptz,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tstate eth_txes_state NOT NULL DEFAULT 'unstarted'::eth_txes_state\n\t\t);\n\t\t  \n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_from_address_length CHECK (\n\t\t\toctet_length(from_address) = 20\n\t\t);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_to_address_length CHECK (\n\t\t\toctet_length(to_address) = 20\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_broadcast_at_is_sane CHECK (\n\t\t\tbroadcast_at > '2019-01-01'\n\t\t);\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_error_cannot_be_empty CHECK (\n\t\t\terror IS NULL OR length(error) > 0\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_txes_nonce_from_address ON eth_txes (nonce, from_address);\n\t\tCREATE INDEX idx_eth_txes_state ON eth_txes (state) WHERE state != 'confirmed'::eth_txes_state;\n\t\tCREATE INDEX idx_eth_txes_broadcast_at ON eth_txes USING BRIN (broadcast_at);\n\t\tCREATE INDEX idx_eth_txes_created_at ON eth_txes USING BRIN (created_at);\n\n\t\t-- Only one in progress transaction allowed per account\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_tx_per_account ON eth_txes (from_address) WHERE state = 'in_progress';\n\n\t\tALTER TABLE eth_txes ADD CONSTRAINT chk_eth_txes_fsm CHECK (\n\t\t\tstate = 'unstarted' AND (nonce is NULL AND error IS NULL AND broadcast_at IS NULL) \n\t\t\t\tOR\n\t\t\tstate = 'in_progress' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'fatal_error' AND (nonce is NULL AND error IS NOT NULL AND broadcast_at IS NULL)\n\t\t\t\tOR\n\t\t\tstate = 'unconfirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t\t\tOR\n\t\t\tstate = 'confirmed' AND (nonce IS NOT NULL AND error IS NULL AND broadcast_at IS NOT NULL)\n\t\t);\n\n\t\tCREATE TYPE eth_tx_attempts_state AS ENUM ('in_progress', 'broadcast');\n\n\t\tCREATE TABLE eth_tx_attempts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t \teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE,\n\t\t \tgas_price numeric(78,0) NOT NULL,\n\t\t \tsigned_raw_tx bytea NOT NULL,\n\t\t \thash bytea NOT NULL,\n\t\t\tbroadcast_before_block_num bigint,\n\t\t\tstate eth_tx_attempts_state NOT NULL,\n\t\t \tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state = 'in_progress' AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_signed_raw_tx_present CHECK (\n\t\t\toctet_length(signed_raw_tx) > 0\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(hash) = 32\n\t\t);\n\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_cannot_broadcast_before_block_zero CHECK (\n\t\t\tbroadcast_before_block_num IS NULL OR broadcast_before_block_num > 0\n\t\t);\n\t\t\n\t\t-- Should never have more than one in_progress attempt per nonce\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts (eth_tx_id) WHERE state = 'in_progress';\n\n\t\t-- NOTE: We could have a unique index on signed_raw_tx here but it would be large and expensive, enforcing the index on hash is cheaper\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_hash ON eth_tx_attempts (hash);\n\t\tCREATE UNIQUE INDEX idx_eth_tx_attempts_unique_gas_prices ON eth_tx_attempts (eth_tx_id, gas_price);\n\t\tCREATE INDEX idx_eth_tx_attempts_broadcast_before_block_num ON eth_tx_attempts (broadcast_before_block_num);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts (state) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE INDEX idx_eth_tx_attempts_created_at ON eth_tx_attempts USING BRIN (created_at);\n\n\t\tCREATE TABLE eth_task_run_txes (\n\t\t\ttask_run_id uuid NOT NULL REFERENCES task_runs (id) ON DELETE CASCADE,\n\t\t\teth_tx_id bigint NOT NULL REFERENCES eth_txes (id) ON DELETE CASCADE\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_task_run_id ON eth_task_run_txes (task_run_id);\n\t\tCREATE UNIQUE INDEX idx_eth_task_run_txes_eth_tx_id ON eth_task_run_txes (eth_tx_id);\n\n\t\tCREATE TABLE eth_receipts (\n\t\t\tid BIGSERIAL PRIMARY KEY,\n\t\t\ttx_hash bytea NOT NULL REFERENCES eth_tx_attempts (hash) ON DELETE CASCADE,\n\t\t\tblock_hash bytea NOT NULL,\n\t\t\tblock_number bigint NOT NULL,\n\t\t\ttransaction_index bigint NOT NULL,\n\t\t\treceipt jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL\n\t\t);\n\n\t\tALTER TABLE eth_receipts ADD CONSTRAINT chk_hash_length CHECK (\n\t\t\toctet_length(tx_hash) = 32 AND octet_length(block_hash) = 32\n\t\t);\n\n\t\tCREATE INDEX idx_eth_receipts_block_number ON eth_receipts (block_number);\n\t\tCREATE UNIQUE INDEX idx_eth_receipts_unique ON eth_receipts (tx_hash, block_hash);\n\t\tCREATE INDEX idx_eth_receipts_created_at ON eth_receipts USING BRIN (created_at);\n\t","time":0.0720271,"rows_affected":0}
{"level":"debug","ts":1603110993.6735446,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007395,"rows_affected":1}
{"level":"debug","ts":1603110993.6765168,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0009718,"rows_affected":0}
{"level":"debug","ts":1603110993.6921558,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN next_nonce BIGINT NOT NULL DEFAULT 0;\n\t\tCREATE UNIQUE INDEX idx_unique_keys_address ON keys (address);\n\t\tALTER TABLE keys ADD COLUMN id SERIAL NOT NULL;\n\t\tALTER TABLE keys ADD CONSTRAINT chk_address_length CHECK (\n\t\t\toctet_length(address) = 20\n\t\t);\n\t","time":0.014269,"rows_affected":0}
{"level":"debug","ts":1603110993.6939352,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007383,"rows_affected":1}
{"level":"debug","ts":1603110993.6955922,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007172,"rows_affected":0}
{"level":"debug","ts":1603110993.7017531,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tDROP INDEX IF EXISTS idx_txes_hash;\n\t\tCREATE INDEX idx_txes_hash ON txes (hash);\n\t\tDROP INDEX IF EXISTS idx_txes_unique_nonces_per_account;\n\t\tCREATE INDEX IF NOT EXISTS idx_txes_nonce ON txes(nonce);\n    ","time":0.005268,"rows_affected":0}
{"level":"debug","ts":1603110993.7031898,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005203,"rows_affected":1}
{"level":"debug","ts":1603110993.7045796,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005628,"rows_affected":0}
{"level":"debug","ts":1603110993.7178314,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tCREATE TABLE \"job_spec_errors\" (\n\t\t\t\"id\" bigserial primary key,\n\t\t\t\"job_spec_id\" uuid REFERENCES job_specs(id) ON DELETE CASCADE NOT NULL,\n\t\t\t\"description\" text NOT NULL,\n\t\t\t\"occurrences\" integer DEFAULT 1 NOT NULL,\n\t\t\t\"created_at\" timestamptz NOT NULL,\n\t\t\t\"updated_at\" timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX job_spec_errors_unique_idx ON job_spec_errors (\"job_spec_id\", \"description\");\n\t\tCREATE INDEX job_spec_errors_created_at_idx ON job_spec_errors USING brin (created_at);\n\t\tCREATE INDEX job_spec_errors_updated_at_idx ON job_spec_errors USING brin (updated_at);\n\t\tCREATE INDEX job_spec_errors_occurrences_idx ON job_spec_errors (occurrences);\n\t","time":0.0124519,"rows_affected":0}
{"level":"debug","ts":1603110993.7195656,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0006435,"rows_affected":1}
{"level":"debug","ts":1603110993.7208934,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006777,"rows_affected":0}
{"level":"debug","ts":1603110993.7266736,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE eth_txes DROP CONSTRAINT eth_txes_from_address_fkey;\n\t\tSELECT setval('keys_id_seq', (SELECT MAX(id)+1 FROM keys), false);\n\t\tUPDATE keys SET id = DEFAULT WHERE id=0;\n\t\tALTER TABLE keys DROP CONSTRAINT keys_pkey, ADD PRIMARY KEY (id);\n\t\tALTER TABLE eth_txes ADD CONSTRAINT eth_txes_from_address_fkey FOREIGN KEY (from_address) REFERENCES keys(address);\n\t","time":0.005132,"rows_affected":0}
{"level":"debug","ts":1603110993.7279305,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0004251,"rows_affected":1}
{"level":"debug","ts":1603110993.7289608,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004719,"rows_affected":0}
{"level":"debug","ts":1603110993.730179,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ADD COLUMN last_used timestamptz;\n\t","time":0.0003482,"rows_affected":0}
{"level":"debug","ts":1603110993.731454,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005787,"rows_affected":1}
{"level":"debug","ts":1603110993.7327583,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0007004,"rows_affected":0}
{"level":"debug","ts":1603110993.73398,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE keys ALTER COLUMN next_nonce DROP NOT NULL;\n\t\tALTER TABLE keys ALTER COLUMN next_nonce SET DEFAULT NULL;\n\t","time":0.0004993,"rows_affected":0}
{"level":"debug","ts":1603110993.735215,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005517,"rows_affected":1}
{"level":"debug","ts":1603110993.7363992,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0005522,"rows_affected":0}
{"level":"debug","ts":1603110993.7469501,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE encrypted_secret_keys RENAME TO encrypted_vrf_keys;\n\t\tCREATE TABLE encrypted_p2p_keys (\n\t\t\tid SERIAL PRIMARY KEY,\n\t\t\tpeer_id text NOT NULL,\n\t\t\tpub_key bytea NOT NULL,\n\t\t\tencrypted_priv_key jsonb NOT NULL,\n\t\t\tcreated_at timestamptz NOT NULL,\n\t\t\tupdated_at timestamptz NOT NULL\n\t\t);\n\n\t\tCREATE UNIQUE INDEX idx_unique_pub_keys ON encrypted_p2p_keys (pub_key);\n\t\tCREATE UNIQUE INDEX idx_unique_peer_ids ON encrypted_p2p_keys (peer_id);\n\t\tALTER TABLE encrypted_p2p_keys ADD CONSTRAINT chk_pub_key_length CHECK (\n\t\t\toctet_length(pub_key) = 32\n\t\t);\n\t","time":0.0098958,"rows_affected":0}
{"level":"debug","ts":1603110993.7483647,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0007676,"rows_affected":1}
{"level":"debug","ts":1603110993.7496917,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0006831,"rows_affected":0}
{"level":"debug","ts":1603110993.7510674,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\tALTER TABLE flux_monitor_round_stats ADD COLUMN \"job_run_id\" uuid REFERENCES job_runs(id) ON DELETE CASCADE;\n\t","time":0.0006825,"rows_affected":0}
{"level":"debug","ts":1603110993.7519898,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0003662,"rows_affected":1}
{"level":"debug","ts":1603110993.7531247,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:389","msg":"SELECT count(*) FROM \"migrations\"  WHERE (id = $1)","time":0.0004218,"rows_affected":0}
{"level":"debug","ts":1603110993.7700965,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:364","msg":"\n\t\t-- Drop constraints and indexes referencing old type\n\t\tALTER TABLE eth_tx_attempts DROP CONSTRAINT chk_eth_tx_attempts_fsm;\n\t\tDROP INDEX idx_eth_tx_attempts_in_progress;\n\t\tDROP INDEX idx_only_one_in_progress_attempt_per_eth_tx;\n\n\t\tCREATE TYPE eth_tx_attempts_state_new AS ENUM ('in_progress', 'insufficient_eth', 'broadcast');\n\n\t\t-- Convert to new type, casting via text representation\n\t\tALTER TABLE eth_tx_attempts \n\t\tALTER COLUMN state TYPE eth_tx_attempts_state_new \n\t\t\tUSING (state::text::eth_tx_attempts_state_new);\n\n\t\t-- and swap the types\n\t\tDROP TYPE eth_tx_attempts_state;\n\n\t\tALTER TYPE eth_tx_attempts_state_new RENAME TO eth_tx_attempts_state;\n\n\t\t-- Add constraints and indexes back again\n\t\tALTER TABLE eth_tx_attempts ADD CONSTRAINT chk_eth_tx_attempts_fsm CHECK (\n\t\t\t(state IN ('in_progress', 'insufficient_eth') AND broadcast_before_block_num IS NULL) OR state = 'broadcast'\n\t\t);\n\t\tCREATE INDEX idx_eth_tx_attempts_in_progress ON eth_tx_attempts(state enum_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t\tCREATE UNIQUE INDEX idx_only_one_in_progress_attempt_per_eth_tx ON eth_tx_attempts(eth_tx_id int8_ops) WHERE state = 'in_progress'::eth_tx_attempts_state;\n\t","time":0.0164672,"rows_affected":0}
{"level":"debug","ts":1603110993.771635,"caller":"gormigrate.v1@v1.6.0/gormigrate.go:368","msg":"INSERT INTO migrations (id) VALUES ($1)","time":0.0005379,"rows_affected":1}
{"level":"info","ts":1603110996.4539552,"caller":"store/key_store.go:73","msg":"Unlocked account 0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","address":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8"}
{"level":"debug","ts":1603110996.458171,"caller":"cmd/client.go:434","msg":"Initializing API credentials from /chainlink/.api"}
{"level":"info","ts":1603110996.533352,"caller":"cmd/local_client.go:95","msg":"API exposed for user user@mail.com"}
{"level":"debug","ts":1603110996.5343673,"caller":"eth/client.go:110","msg":"eth.Client#Dial(...)"}
{"level":"debug","ts":1603110996.5526206,"caller":"synchronization/stats_pusher.go:145","msg":"Entered StatsPusher event loop"}
{"level":"info","ts":1603110996.5571363,"caller":"bulletprooftxmanager/eth_broadcaster.go:82","msg":"BulletproofTxManager: Disabled, falling back to legacy TxManager"}
{"level":"info","ts":1603110996.564034,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
{"level":"debug","ts":1603110996.5651536,"caller":"eth/client.go:252","msg":"eth.Client#SubscribeNewHead(...)"}
{"level":"debug","ts":1603110996.5709944,"caller":"cmd/local_client.go:213","msg":"Environment variables\nACCOUNT_ADDRESS: 0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8\nALLOW_ORIGINS: *\nBLOCK_BACKFILL_DEPTH: 10\nBRIDGE_RESPONSE_URL: http://localhost:6688/v2/runs\nETH_CHAIN_ID: 1337\nCLIENT_NODE_URL: http://localhost:6688\nDATABASE_TIMEOUT: 500ms\nCHAINLINK_DEV: false\nETH_URL: ws://ethnode:8545\nETH_GAS_BUMP_THRESHOLD: 3\nETH_GAS_BUMP_WEI: 5000000000\nETH_GAS_PRICE_DEFAULT: 20000000000\nEXPLORER_URL: \nJSON_CONSOLE: false\nLINK_CONTRACT_ADDRESS: 0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD\nLOG_LEVEL: debug\nLOG_SQL_MIGRATIONS: true\nLOG_SQL: false\nLOG_TO_DISK: true\nMAX_RPC_CALLS_PER_SECOND: 500\nMINIMUM_CONTRACT_PAYMENT: 0.100000000000000000\nMINIMUM_REQUEST_EXPIRATION: 300\nMIN_INCOMING_CONFIRMATIONS: 0\nMIN_OUTGOING_CONFIRMATIONS: 0\nORACLE_CONTRACT_ADDRESS: \nCHAINLINK_PORT: 6688\nREAPER_EXPIRATION: 240h0m0s\nREPLAY_FROM_BLOCK: -1\nROOT: /chainlink\nSESSION_TIMEOUT: 15m0s\nCHAINLINK_TLS_HOST: \nCHAINLINK_TLS_PORT: 0\nCHAINLINK_TLS_REDIRECT: false\nCHAINLINK_TX_ATTEMPT_LIMIT: 10\n"}
{"level":"debug","ts":1603110996.5748065,"caller":"web/router.go:49","msg":"GET    /metrics                  --> github.com/Depado/ginprom.prometheusHandler.func1 (1 handlers)"}
{"level":"debug","ts":1603110996.5757797,"caller":"web/router.go:49","msg":"GET    /debug/vars               --> github.com/gin-contrib/expvar.Handler.func1 (17 handlers)"}
{"level":"debug","ts":1603110996.576597,"caller":"web/router.go:49","msg":"POST   /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110996.577301,"caller":"web/router.go:49","msg":"DELETE /sessions                 --> github.com/smartcontractkit/chainlink/core/web.(*SessionsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5782566,"caller":"web/router.go:49","msg":"PATCH  /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Update-fm (16 handlers)"}
{"level":"debug","ts":1603110996.5792844,"caller":"web/router.go:49","msg":"POST   /v2/service_agreements    --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Create-fm (16 handlers)"}
{"level":"debug","ts":1603110996.580279,"caller":"web/router.go:49","msg":"PATCH  /v2/user/password         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).UpdatePassword-fm (17 handlers)"}
{"level":"debug","ts":1603110996.581085,"caller":"web/router.go:49","msg":"GET    /v2/user/balances         --> github.com/smartcontractkit/chainlink/core/web.(*UserController).AccountBalances-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5823762,"caller":"web/router.go:49","msg":"POST   /v2/user/token            --> github.com/smartcontractkit/chainlink/core/web.(*UserController).NewAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5834038,"caller":"web/router.go:49","msg":"POST   /v2/user/token/delete     --> github.com/smartcontractkit/chainlink/core/web.(*UserController).DeleteAPIToken-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5846906,"caller":"web/router.go:49","msg":"POST   /v2/external_initiators   --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5836926,"caller":"eth/client.go:180","msg":"eth.Client#ChainID(...)"}
{"level":"debug","ts":1603110996.5859149,"caller":"web/router.go:49","msg":"DELETE /v2/external_initiators/:Name --> github.com/smartcontractkit/chainlink/core/web.(*ExternalInitiatorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5879552,"caller":"web/router.go:49","msg":"POST   /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110996.589142,"caller":"web/router.go:49","msg":"GET    /v2/specs                 --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110996.5902653,"caller":"web/router.go:49","msg":"GET    /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5915132,"caller":"web/router.go:49","msg":"DELETE /v2/specs/:SpecID         --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5926251,"caller":"web/router.go:49","msg":"GET    /v2/runs                  --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110996.5936728,"caller":"web/router.go:49","msg":"GET    /v2/runs/:RunID           --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5946822,"caller":"web/router.go:49","msg":"PUT    /v2/runs/:RunID/cancellation --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Cancel-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5961385,"caller":"web/router.go:49","msg":"DELETE /v2/job_spec_errors/:jobSpecErrorID --> github.com/smartcontractkit/chainlink/core/web.(*JobSpecErrorsController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5968993,"caller":"web/router.go:49","msg":"GET    /v2/service_agreements/:SAID --> github.com/smartcontractkit/chainlink/core/web.(*ServiceAgreementsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110996.5981195,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110996.5962687,"caller":"services/gas_updater.go:69","msg":"GasUpdater: dynamic gas updates are enabled","ethGasPriceDefault":"20000000000"}
{"level":"debug","ts":1603110996.6001542,"caller":"eth/client.go:192","msg":"eth.Client#PendingNonceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8"}
{"level":"debug","ts":1603110996.598917,"caller":"web/router.go:49","msg":"POST   /v2/bridge_types          --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110996.602535,"caller":"web/router.go:49","msg":"GET    /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110996.6036415,"caller":"web/router.go:49","msg":"PATCH  /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Update-fm (17 handlers)"}
{"level":"debug","ts":1603110996.6046445,"caller":"web/router.go:49","msg":"DELETE /v2/bridge_types/:BridgeName --> github.com/smartcontractkit/chainlink/core/web.(*BridgeTypesController).Destroy-fm (17 handlers)"}
{"level":"debug","ts":1603110996.605669,"caller":"web/router.go:49","msg":"POST   /v2/transfers             --> github.com/smartcontractkit/chainlink/core/web.(*TransfersController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110996.606728,"caller":"web/router.go:49","msg":"GET    /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110996.6076932,"caller":"web/router.go:49","msg":"PATCH  /v2/config                --> github.com/smartcontractkit/chainlink/core/web.(*ConfigController).Patch-fm (17 handlers)"}
{"level":"debug","ts":1603110996.6088345,"caller":"web/router.go:49","msg":"GET    /v2/tx_attempts           --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110996.6099374,"caller":"web/router.go:49","msg":"GET    /v2/transactions          --> github.com/smartcontractkit/chainlink/core/web.paginatedRequest.func1 (17 handlers)"}
{"level":"debug","ts":1603110996.6117475,"caller":"web/router.go:49","msg":"GET    /v2/transactions/:TxHash  --> github.com/smartcontractkit/chainlink/core/web.(*TransactionsController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110996.6129432,"caller":"web/router.go:49","msg":"DELETE /v2/bulk_delete_runs      --> github.com/smartcontractkit/chainlink/core/web.(*BulkDeletesController).Delete-fm (17 handlers)"}
{"level":"debug","ts":1603110996.6140242,"caller":"web/router.go:49","msg":"POST   /v2/specs/:SpecID/runs    --> github.com/smartcontractkit/chainlink/core/web.(*JobRunsController).Create-fm (17 handlers)"}
{"level":"debug","ts":1603110996.6161482,"caller":"web/router.go:49","msg":"GET    /v2/ping                  --> github.com/smartcontractkit/chainlink/core/web.(*PingController).Show-fm (17 handlers)"}
{"level":"debug","ts":1603110996.6250715,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","blockNumber":"<nil>"}
{"level":"info","ts":1603110996.630106,"caller":"services/balance_monitor.go:130","msg":"ETH balance for 0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8: 0.000000000000000000","address":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","headNum":"<nil>","ethBalance":"0.000000000000000000","weiBalance":"0","id":"balance_log"}
{"level":"info","ts":1603110996.6325107,"caller":"services/head_tracker.go:226","msg":"Connected to ethereum node ws://ethnode:8545"}
{"level":"info","ts":1603110996.6429348,"caller":"cmd/client.go:109","msg":"Listening and serving HTTP on port 6688"}
{"level":"debug","ts":1603111011.6971579,"caller":"services/head_tracker.go:277","msg":"Received new head #1 (0x1)","blockHeight":"1","blockHash":"0x62c1f53d6120f865c313a206f3b47c82c3ab9f6e17ba9219fb8d12c4cdabcc55"}
{"level":"debug","ts":1603111011.7055788,"caller":"services/head_tracker.go:423","msg":"HeadTracker: fetching head","blockHeight":0}
{"level":"debug","ts":1603111011.706848,"caller":"eth/client.go:206","msg":"eth.Client#HeaderByNumber(...)","number":"0"}
{"level":"debug","ts":1603111011.732488,"caller":"services/head_tracker.go:386","msg":"HeadTracker: finished backfill","fetched":1,"blockNumber":0,"time":0.027723,"id":"head_tracker","n":0,"fromBlockHeight":0,"toBlockHeight":-1}
{"level":"debug","ts":1603111011.7350628,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":1,"chainLength":2,"numCallbacks":6}
{"level":"warn","ts":1603111011.7362177,"caller":"services/gas_updater.go:89","msg":"GasUpdater: skipping gas calculation, current block height 1 is lower than GAS_UPDATER_BLOCK_DELAY of 3"}
{"level":"debug","ts":1603111011.737233,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 1.0287ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":1,"time":0.0010287,"id":"head_tracker"}
{"level":"debug","ts":1603111011.7382097,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 16.9µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":1,"time":0.0000169,"id":"head_tracker"}
{"level":"debug","ts":1603111011.7396388,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 17.6µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":1,"time":0.0000176,"id":"head_tracker"}
{"level":"debug","ts":1603111011.740656,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 6.1µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":1,"time":0.0000061,"id":"head_tracker"}
{"level":"debug","ts":1603111011.7428963,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","blockNumber":"0"}
{"level":"debug","ts":1603111011.7598598,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 18.2741ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":1,"time":0.0182741,"id":"head_tracker"}
{"level":"debug","ts":1603111011.7610464,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 7.9µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":1,"time":0.0000079,"id":"head_tracker"}
{"level":"debug","ts":1603111011.7622917,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 1 in 65.1113ms","blockNumber":1,"time":0.0651113,"id":"head_tracker"}
{"level":"debug","ts":1603111011.860419,"caller":"services/head_tracker.go:277","msg":"Received new head #2 (0x2)","blockHeight":"2","blockHash":"0xb2d69cbfe1de67da4ad0e3f30a6de7182d27ed6e23046606dfb1ef7638956cf5"}
{"level":"debug","ts":1603111011.8682318,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":2,"chainLength":3,"numCallbacks":6}
{"level":"warn","ts":1603111011.8690474,"caller":"services/gas_updater.go:89","msg":"GasUpdater: skipping gas calculation, current block height 2 is lower than GAS_UPDATER_BLOCK_DELAY of 3"}
{"level":"debug","ts":1603111011.869641,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 592.1µs","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":2,"time":0.0005921,"id":"head_tracker"}
{"level":"debug","ts":1603111011.8704438,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 29.3µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":2,"time":0.0000293,"id":"head_tracker"}
{"level":"debug","ts":1603111011.8713524,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 22µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":2,"time":0.000022,"id":"head_tracker"}
{"level":"debug","ts":1603111011.8720996,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 6.6µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":2,"time":0.0000066,"id":"head_tracker"}
{"level":"debug","ts":1603111011.873407,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","blockNumber":"1"}
{"level":"debug","ts":1603111011.8787706,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 5.9174ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":2,"time":0.0059174,"id":"head_tracker"}
{"level":"debug","ts":1603111011.8795936,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":2,"time":0.000006,"id":"head_tracker"}
{"level":"debug","ts":1603111011.880503,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 2 in 19.988ms","blockNumber":2,"time":0.019988,"id":"head_tracker"}
{"level":"debug","ts":1603111012.101082,"caller":"services/head_tracker.go:277","msg":"Received new head #3 (0x3)","blockHeight":"3","blockHash":"0x876b6f546b6c1426dde961e23ce887ce2378f714bdfbb0c65fab2bc3580737d1"}
{"level":"debug","ts":1603111012.1089318,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":3,"chainLength":4,"numCallbacks":6}
{"level":"debug","ts":1603111012.1124468,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"0"}
{"level":"debug","ts":1603111012.1395047,"caller":"services/gas_updater.go:112","msg":"GasUpdater: skipping empty block: 0","blockNumber":0}
{"level":"debug","ts":1603111012.1408873,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 28.3261ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":3,"time":0.0283261,"id":"head_tracker"}
{"level":"debug","ts":1603111012.1420045,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 154.4µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":3,"time":0.0001544,"id":"head_tracker"}
{"level":"debug","ts":1603111012.1434376,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 64.8µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":3,"time":0.0000648,"id":"head_tracker"}
{"level":"debug","ts":1603111012.1450515,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 23.9µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":3,"time":0.0000239,"id":"head_tracker"}
{"level":"debug","ts":1603111012.1486263,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","blockNumber":"2"}
{"level":"debug","ts":1603111012.161476,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 14.4234ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":3,"time":0.0144234,"id":"head_tracker"}
{"level":"debug","ts":1603111012.1627626,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.4µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":3,"time":0.0000064,"id":"head_tracker"}
{"level":"debug","ts":1603111012.1636994,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 3 in 62.6085ms","blockNumber":3,"time":0.0626085,"id":"head_tracker"}
{"level":"info","ts":1603111012.1975796,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":200,"path":"/sessions","query":"","body":"{\"email\":\"user@mail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.16.1","errors":"","servedAt":"2020-10-19 12:36:52","latency":"82.6382ms"}
{"level":"debug","ts":1603111012.2099645,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","blockNumber":"<nil>"}
{"level":"debug","ts":1603111012.2141843,"caller":"eth/client.go:136","msg":"eth.Client#GetERC20Balance(...)","address":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","contractAddress":"0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD"}
{"level":"info","ts":1603111012.2387068,"caller":"web/router.go:337","msg":"GET /v2/user/balances","method":"GET","status":200,"path":"/v2/user/balances","query":"","body":"","clientIP":"192.168.16.1","errors":"","servedAt":"2020-10-19 12:36:52","latency":"34.5129ms"}
{"level":"info","ts":1603111012.3217857,"caller":"web/router.go:337","msg":"POST /sessions","method":"POST","status":200,"path":"/sessions","query":"","body":"{\"email\":\"user@mail.com\",\"password\":\"*REDACTED*\"}","clientIP":"192.168.16.1","errors":"","servedAt":"2020-10-19 12:36:52","latency":"77.889ms"}
{"level":"debug","ts":1603111012.332389,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","blockNumber":"<nil>"}
{"level":"debug","ts":1603111012.3363633,"caller":"eth/client.go:136","msg":"eth.Client#GetERC20Balance(...)","address":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","contractAddress":"0x87AE97F105Eba72E3B26dBB27B09bDE5943Df2bD"}
{"level":"info","ts":1603111012.3607295,"caller":"web/router.go:337","msg":"GET /v2/user/balances","method":"GET","status":200,"path":"/v2/user/balances","query":"","body":"","clientIP":"192.168.16.1","errors":"","servedAt":"2020-10-19 12:36:52","latency":"33.7996ms"}
{"level":"debug","ts":1603111012.430116,"caller":"services/head_tracker.go:277","msg":"Received new head #4 (0x4)","blockHeight":"4","blockHash":"0x95d8e181771d763f4a4b99f50c66960d5199e362ef973c8cad861d07a2a44cde"}
{"level":"debug","ts":1603111012.4371324,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":4,"chainLength":5,"numCallbacks":6}
{"level":"debug","ts":1603111012.4380174,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"1"}
{"level":"debug","ts":1603111012.4599118,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 1/24","inHistory":1,"required":24}
{"level":"debug","ts":1603111012.4613686,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 23.2875ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":4,"time":0.0232875,"id":"head_tracker"}
{"level":"debug","ts":1603111012.4626532,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 92.7µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":4,"time":0.0000927,"id":"head_tracker"}
{"level":"debug","ts":1603111012.4639895,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 90.6µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":4,"time":0.0000906,"id":"head_tracker"}
{"level":"debug","ts":1603111012.4650538,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.1µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":4,"time":0.0000071,"id":"head_tracker"}
{"level":"debug","ts":1603111012.470011,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","blockNumber":"3"}
{"level":"debug","ts":1603111012.4801273,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 13.9886ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":4,"time":0.0139886,"id":"head_tracker"}
{"level":"debug","ts":1603111012.4811537,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.3µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":4,"time":0.0000063,"id":"head_tracker"}
{"level":"debug","ts":1603111012.483114,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 4 in 52.9751ms","blockNumber":4,"time":0.0529751,"id":"head_tracker"}
{"level":"debug","ts":1603111012.6302333,"caller":"services/head_tracker.go:277","msg":"Received new head #5 (0x5)","blockHeight":"5","blockHash":"0xd763f198c33c56467f4d4328b1113bf708217cde3cbe528fa8d47adf1127b8a1"}
{"level":"debug","ts":1603111012.638845,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":5,"chainLength":6,"numCallbacks":6}
{"level":"debug","ts":1603111012.6399143,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"2"}
{"level":"debug","ts":1603111012.6569078,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 2/24","inHistory":2,"required":24}
{"level":"debug","ts":1603111012.6579828,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 18.0653ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":5,"time":0.0180653,"id":"head_tracker"}
{"level":"debug","ts":1603111012.6592784,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 138.7µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":5,"time":0.0001387,"id":"head_tracker"}
{"level":"debug","ts":1603111012.660885,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 156.6µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":5,"time":0.0001566,"id":"head_tracker"}
{"level":"debug","ts":1603111012.6632373,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 371.6µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":5,"time":0.0003716,"id":"head_tracker"}
{"level":"debug","ts":1603111012.6655834,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","blockNumber":"4"}
{"level":"info","ts":1603111012.672244,"caller":"services/balance_monitor.go:135","msg":"New ETH balance for 0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8: 80.000000000000000000","address":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","headNum":"4","ethBalance":"80.000000000000000000","weiBalance":"80000000000000000000","id":"balance_log"}
{"level":"debug","ts":1603111012.6730998,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 8.6336ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":5,"time":0.0086336,"id":"head_tracker"}
{"level":"debug","ts":1603111012.673863,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 5.9µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":5,"time":0.0000059,"id":"head_tracker"}
{"level":"debug","ts":1603111012.6745138,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 5 in 44.2742ms","blockNumber":5,"time":0.0442742,"id":"head_tracker"}
{"level":"debug","ts":1603111012.7910771,"caller":"services/head_tracker.go:277","msg":"Received new head #6 (0x6)","blockHeight":"6","blockHash":"0xc95deb4585685931e898cb29229b808200164dd8814f526e99473dd80cb11a76"}
{"level":"debug","ts":1603111012.803672,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":6,"chainLength":7,"numCallbacks":6}
{"level":"debug","ts":1603111012.8046381,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"3"}
{"level":"debug","ts":1603111012.819818,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 3/24","inHistory":3,"required":24}
{"level":"debug","ts":1603111012.8226078,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 18.0119ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":6,"time":0.0180119,"id":"head_tracker"}
{"level":"debug","ts":1603111012.8239555,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 34.9µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":6,"time":0.0000349,"id":"head_tracker"}
{"level":"debug","ts":1603111012.8249598,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 31.8µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":6,"time":0.0000318,"id":"head_tracker"}
{"level":"debug","ts":1603111012.8271077,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 5.9µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":6,"time":0.0000059,"id":"head_tracker"}
{"level":"debug","ts":1603111012.8289688,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","blockNumber":"5"}
{"level":"debug","ts":1603111012.8335073,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 5.4037ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":6,"time":0.0054037,"id":"head_tracker"}
{"level":"debug","ts":1603111012.834614,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 5.8µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":6,"time":0.0000058,"id":"head_tracker"}
{"level":"debug","ts":1603111012.8357134,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 6 in 44.5042ms","blockNumber":6,"time":0.0445042,"id":"head_tracker"}
{"level":"debug","ts":1603111012.9451892,"caller":"services/head_tracker.go:277","msg":"Received new head #7 (0x7)","blockHeight":"7","blockHash":"0x0a0bfd2a09d8bac502aca243fa03d5a92e6071aba9d866d6569d4658e2ae7b1e"}
{"level":"debug","ts":1603111012.952524,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":7,"chainLength":8,"numCallbacks":6}
{"level":"debug","ts":1603111012.953515,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"4"}
{"level":"debug","ts":1603111012.9621055,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 4/24","inHistory":4,"required":24}
{"level":"debug","ts":1603111012.9628444,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 9.3838ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":7,"time":0.0093838,"id":"head_tracker"}
{"level":"debug","ts":1603111012.9634829,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 14.4µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":7,"time":0.0000144,"id":"head_tracker"}
{"level":"debug","ts":1603111012.9643784,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 84.5µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":7,"time":0.0000845,"id":"head_tracker"}
{"level":"debug","ts":1603111012.9654477,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 16.7µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":7,"time":0.0000167,"id":"head_tracker"}
{"level":"debug","ts":1603111012.9671686,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","blockNumber":"6"}
{"level":"debug","ts":1603111012.9772444,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 10.7347ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":7,"time":0.0107347,"id":"head_tracker"}
{"level":"debug","ts":1603111012.9781728,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 6.6µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":7,"time":0.0000066,"id":"head_tracker"}
{"level":"debug","ts":1603111012.9789577,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 7 in 33.6849ms","blockNumber":7,"time":0.0336849,"id":"head_tracker"}
{"level":"debug","ts":1603111013.114097,"caller":"services/head_tracker.go:277","msg":"Received new head #8 (0x8)","blockHeight":"8","blockHash":"0x4c232b004290f696649dabf53f7743696a679b06ed4c5cf16b4f5bf18ff3bdac"}
{"level":"debug","ts":1603111013.1215787,"caller":"services/head_tracker.go:440","msg":"HeadTracker initiating callbacks","headNum":8,"chainLength":9,"numCallbacks":6}
{"level":"debug","ts":1603111013.1227489,"caller":"eth/client.go:199","msg":"eth.Client#BlockByNumber(...)","number":"5"}
{"level":"debug","ts":1603111013.1381443,"caller":"services/gas_updater.go:109","msg":"GasUpdater: waiting for blocks: 5/24","inHistory":5,"required":24}
{"level":"debug","ts":1603111013.139088,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 0 in 16.4678ms","callbackType":"*services.gasUpdater","callbackIdx":0,"blockNumber":8,"time":0.0164678,"id":"head_tracker"}
{"level":"debug","ts":1603111013.1398437,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 1 in 24.3µs","callbackType":"*store.EthTxManager","callbackIdx":1,"blockNumber":8,"time":0.0000243,"id":"head_tracker"}
{"level":"debug","ts":1603111013.1407368,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 2 in 36.9µs","callbackType":"*services.jobSubscriber","callbackIdx":2,"blockNumber":8,"time":0.0000369,"id":"head_tracker"}
{"level":"debug","ts":1603111013.1416705,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 3 in 7.5µs","callbackType":"*chainlink.pendingConnectionResumer","callbackIdx":3,"blockNumber":8,"time":0.0000075,"id":"head_tracker"}
{"level":"debug","ts":1603111013.1430275,"caller":"eth/client.go:230","msg":"eth.Client#BalanceAt(...)","account":"0x16F4Ad0E02fDC3D4FE65e3c1a558d154c4C01Ff8","blockNumber":"7"}
{"level":"debug","ts":1603111013.1479895,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 4 in 5.5384ms","callbackType":"*services.balanceMonitor","callbackIdx":4,"blockNumber":8,"time":0.0055384,"id":"head_tracker"}
{"level":"debug","ts":1603111013.1491828,"caller":"services/head_tracker.go:474","msg":"HeadTracker: finished callback 5 in 7.1µs","callbackType":"*chainlink.headTrackableCallback","callbackIdx":5,"blockNumber":8,"time":0.0000071,"id":"head_tracker"}
{"level":"debug","ts":1603111013.1505375,"caller":"services/head_tracker.go:272","msg":"HeadTracker finished processing head 8 in 36.3294ms","blockNumber":8,"time":0.0363294,"id":"head_tracker"}
{"level":"info","ts":1603121771.9900827,"caller":"chainlink/application.go:201","msg":"Gracefully exiting..."}
{"level":"info","ts":1603121771.9942534,"caller":"services/head_tracker.go:132","msg":"Head tracker disconnecting from ws://ethnode:8545"}
{"level":"error","ts":1603121771.9956794,"caller":"services/head_tracker.go:198","msg":"Error in new head subscription, unsubscribed: websocket: close 1006 (abnormal closure): unexpected EOF","err":"websocket: close 1006 (abnormal closure): unexpected EOF","stacktrace":"github.com/smartcontractkit/chainlink/core/logger.Errorw\n\t/chainlink/core/logger/logger.go:133\ngithub.com/smartcontractkit/chainlink/core/services.(*HeadTracker).listenForNewHeads\n\t/chainlink/core/services/head_tracker.go:198"}
{"level":"info","ts":1603121772.0105968,"caller":"services/head_tracker.go:217","msg":"Connecting to ethereum node ws://ethnode:8545 in 0s"}
